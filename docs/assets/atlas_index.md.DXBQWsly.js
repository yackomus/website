var B_=Object.defineProperty;var U_=(t,n,e)=>n in t?B_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var dd=(t,n,e)=>U_(t,typeof n!="symbol"?n+"":n,e);import{a1 as pd,a0 as Br,o as jc,b as fl,k as zn,c as Y_,j as Wt,a as tf,G as nf}from"./chunks/framework.soS5QTu1.js";function vt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function gr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Zc(t){let n,e,r;t.length!==2?(n=vt,e=(c,u)=>vt(t(c),u),r=(c,u)=>t(c)-u):(n=t===vt||t===gr?t:q_,e=t,r=t);function i(c,u,f=0,s=c.length){if(f<s){if(n(u,u)!==0)return s;do{const h=f+s>>>1;e(c[h],u)<0?f=h+1:s=h}while(f<s)}return f}function o(c,u,f=0,s=c.length){if(f<s){if(n(u,u)!==0)return s;do{const h=f+s>>>1;e(c[h],u)<=0?f=h+1:s=h}while(f<s)}return f}function a(c,u,f=0,s=c.length){const h=i(c,u,f,s-1);return h>f&&r(c[h-1],u)>-r(c[h],u)?h-1:h}return{left:i,center:a,right:o}}function q_(){return 0}function j1(t){return t===null?NaN:+t}function*X_(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const W_=Zc(vt),Kc=W_.right;Zc(j1).center;const Z1=K1(J1),H_=K1(G_);function K1(t){return function(n,e,r=e){if(!((e=+e)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:i,width:o,height:a}=n;if(!((o=Math.floor(o))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:i.length/o))>=0))throw new RangeError("invalid height");if(!o||!a||!e&&!r)return n;const c=e&&t(e),u=r&&t(r),f=i.slice();return c&&u?(Nr(c,f,i,o,a),Nr(c,i,f,o,a),Nr(c,f,i,o,a),Lr(u,i,f,o,a),Lr(u,f,i,o,a),Lr(u,i,f,o,a)):c?(Nr(c,i,f,o,a),Nr(c,f,i,o,a),Nr(c,i,f,o,a)):u&&(Lr(u,i,f,o,a),Lr(u,f,i,o,a),Lr(u,i,f,o,a)),n}}function Nr(t,n,e,r,i){for(let o=0,a=r*i;o<a;)t(n,e,o,o+=r,1)}function Lr(t,n,e,r,i){for(let o=0,a=r*i;o<r;++o)t(n,e,o,o+a,r)}function G_(t){const n=J1(t);return(e,r,i,o,a)=>{i<<=2,o<<=2,a<<=2,n(e,r,i+0,o+0,a),n(e,r,i+1,o+1,a),n(e,r,i+2,o+2,a),n(e,r,i+3,o+3,a)}}function J1(t){const n=Math.floor(t);if(n===t)return V_(t);const e=t-n,r=2*t+1;return(i,o,a,c,u)=>{if(!((c-=u)>=a))return;let f=n*o[a];const s=u*n,h=s+u;for(let l=a,d=a+s;l<d;l+=u)f+=o[Math.min(c,l)];for(let l=a,d=c;l<=d;l+=u)f+=o[Math.min(c,l+s)],i[l]=(f+e*(o[Math.max(a,l-h)]+o[Math.min(c,l+h)]))/r,f-=o[Math.max(a,l-s)]}}function V_(t){const n=2*t+1;return(e,r,i,o,a)=>{if(!((o-=a)>=i))return;let c=t*r[i];const u=a*t;for(let f=i,s=i+u;f<s;f+=a)c+=r[Math.min(o,f)];for(let f=i,s=o;f<=s;f+=a)c+=r[Math.min(o,f+u)],e[f]=c/n,c-=r[Math.max(i,f-u)]}}function Jc(t,n){let e=0;if(n===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++e;else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(i=+i)>=i&&++e}return e}function j_(t){return t.length|0}function Z_(t){return!(t>0)}function K_(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function J_(t){return n=>t(...n)}function Q_(...t){const n=typeof t[t.length-1]=="function"&&J_(t.pop());t=t.map(K_);const e=t.map(j_),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Z_))return o;for(;;){o.push(i.map((c,u)=>t[u][c]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function t6(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function sl(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let c of t)(c=n(c,++a,t))!=null&&(c=+c)>=c&&(r=c-i,i+=r/++e,o+=r*(c-i))}if(e>1)return o/(e-1)}function No(t,n){const e=sl(t,n);return e&&Math.sqrt(e)}function Ct(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class On{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,c=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);c&&(e[r++]=c),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class mr extends Map{constructor(n,e=np){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Vf(this,n))}has(n){return super.has(Vf(this,n))}set(n,e){return super.set(Q1(this,n),e)}delete(n){return super.delete(tp(this,n))}}class Lo extends Set{constructor(n,e=np){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Vf(this,n))}add(n){return super.add(Q1(this,n))}delete(n){return super.delete(tp(this,n))}}function Vf({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Q1({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function tp({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function np(t){return t!==null&&typeof t=="object"?t.valueOf():t}function jf(t){return t}function Ge(t,...n){return ll(t,jf,jf,n)}function Vr(t,n,...e){return ll(t,jf,n,e)}function n6(t,n,...e){return ll(t,Array.from,n,e)}function ll(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const c=new mr,u=r[a++];let f=-1;for(const s of o){const h=u(s,++f,o),l=c.get(h);l?l.push(s):c.set(h,[s])}for(const[s,h]of c)c.set(s,i(h,a));return n(c)}(t,0)}function e6(t,n){return Array.from(n,e=>t[e])}function Xa(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const c=uo(a[i],a[o]);if(c)return c}})):(e=t.map(e),r.sort((i,o)=>uo(e[i],e[o]))),e6(t,r)}return t.sort(hl(e))}function hl(t=vt){if(t===vt)return uo;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function uo(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function dl(t,n,e){return(n.length!==2?Xa(Vr(t,n,e),([r,i],[o,a])=>vt(i,a)||vt(r,o)):Xa(Ge(t,e),([r,i],[o,a])=>n(i,a)||vt(r,o))).map(([r])=>r)}const r6=Math.sqrt(50),i6=Math.sqrt(10),o6=Math.sqrt(2);function Wa(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=r6?10:o>=i6?5:o>=o6?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/a,c=Math.round(t*f),u=Math.round(n*f),c/f<t&&++c,u/f>n&&--u,f=-f):(f=Math.pow(10,i)*a,c=Math.round(t/f),u=Math.round(n/f),c*f<t&&++c,u*f>n&&--u),u<c&&.5<=e&&e<2?Wa(t,n,e*2):[c,u,f]}function Ye(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Wa(n,t,e):Wa(t,n,e);if(!(o>=i))return[];const c=o-i+1,u=new Array(c);if(r)if(a<0)for(let f=0;f<c;++f)u[f]=(o-f)/-a;else for(let f=0;f<c;++f)u[f]=(o-f)*a;else if(a<0)for(let f=0;f<c;++f)u[f]=(i+f)/-a;else for(let f=0;f<c;++f)u[f]=(i+f)*a;return u}function fo(t,n,e){return n=+n,t=+t,e=+e,Wa(t,n,e)[2]}function Zf(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?fo(n,t,e):fo(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ep(t,n,e){let r;for(;;){const i=fo(t,n,e);if(i===r||i===0||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),r=i}}function pl(t){return Math.max(1,Math.ceil(Math.log(Jc(t))/Math.LN2)+1)}function Pt(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function a6(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function en(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function c6(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function rp(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?uo:hl(i);r>e;){if(r-e>600){const u=r-e+1,f=n-e+1,s=Math.log(u),h=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*h*(u-h)/u)*(f-u/2<0?-1:1),d=Math.max(e,Math.floor(n-f*h/u+l)),p=Math.min(r,Math.floor(n+(u-f)*h/u+l));rp(t,n,d,p,i)}const o=t[n];let a=e,c=r;for(Ri(t,e,n),i(t[r],o)>0&&Ri(t,e,r);a<c;){for(Ri(t,a,c),++a,--c;i(t[a],o)<0;)++a;for(;i(t[c],o)>0;)--c}i(t[e],o)===0?Ri(t,e,c):(++c,Ri(t,c,r)),c<=n&&(e=c+1),n<=c&&(r=c-1)}return t}function Ri(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function gl(t,n=vt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?vt(a,i)>0:vt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function qe(t,n,e){if(t=Float64Array.from(X_(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return en(t);if(n>=1)return Pt(t);var r,i=(r-1)*n,o=Math.floor(i),a=Pt(rp(t,o).subarray(0,o+1)),c=en(t.subarray(o+1));return a+(c-a)*(i-o)}}function u6(t,n,e=j1){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),c=+e(t[o+1],o+1,t);return a+(c-a)*(i-o)}}function f6(t,n,e){const r=Jc(t),i=qe(t,.75)-qe(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function ip(t,n,e){const r=Jc(t),i=No(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function Qc(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function so(t,n){return qe(t,.5,n)}function*s6(t){for(const n of t)yield*n}function op(t){return Array.from(s6(t))}function ap(t,n){const e=new mr;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function l6(t,n=h6){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function h6(t,n){return[t,n]}function dn(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function cp(t,n=vt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let e=Array.from(t);const r=new Float64Array(e.length);n.length!==2&&(e=e.map(n),n=vt);const i=(c,u)=>n(e[c],e[u]);let o,a;return t=Uint32Array.from(e,(c,u)=>u),t.sort(n===vt?(c,u)=>uo(e[c],e[u]):hl(i)),t.forEach((c,u)=>{const f=i(c,o===void 0?c:o);f>=0?((o===void 0||f>0)&&(o=c,a=u),r[c]=a):r[c]=NaN}),r}function d6(t,n=vt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?vt(a,i)<0:vt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)<0:n(i,i)===0)&&(e=i,r=!0);return e}function Yn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ha(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function p6(t){return t}var g6=3,gd=1e-6;function m6(t){return"translate("+t+",0)"}function y6(t){return n=>+t(n)}function b6(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function w6(){return!this.__axis}function _6(t,n){var e=[],r=null,i=null,o=6,a=6,c=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=1,s="y",h=m6;function l(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):p6),b=Math.max(o,0)+c,y=n.range(),m=+y[0]+u,_=+y[y.length-1]+u,w=(n.bandwidth?b6:y6)(n.copy(),u),v=d.selection?d.selection():d,x=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(p,n).order(),A=M.exit(),S=M.enter().append("g").attr("class","tick"),T=M.select("line"),$=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(S),T=T.merge(S.append("line").attr("stroke","currentColor").attr(s+"2",f*o)),$=$.merge(S.append("text").attr("fill","currentColor").attr(s,f*b).attr("dy","0.71em")),d!==v&&(x=x.transition(d),M=M.transition(d),T=T.transition(d),$=$.transition(d),A=A.transition(d).attr("opacity",gd).attr("transform",function(E){return isFinite(E=w(E))?h(E+u):this.getAttribute("transform")}),S.attr("opacity",gd).attr("transform",function(E){var L=this.parentNode.__axis;return h((L&&isFinite(L=L(E))?L:w(E))+u)})),A.remove(),x.attr("d",a?"M"+m+","+f*a+"V"+u+"H"+_+"V"+f*a:"M"+m+","+u+"H"+_),M.attr("opacity",1).attr("transform",function(E){return h(w(E)+u)}),T.attr(s+"2",f*o),$.attr(s,f*b).text(g),v.filter(w6).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),v.each(function(){this.__axis=w})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(c=+d,l):c},l.offset=function(d){return arguments.length?(u=+d,l):u},l}function x6(t){return _6(g6,t)}var v6={value:()=>{}};function up(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new za(e)}function za(t){this._=t}function M6(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}za.prototype=up.prototype={constructor:za,on:function(t,n){var e=this._,r=M6(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=$6(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=md(e[i],t.name,n);else if(n==null)for(i in e)e[i]=md(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new za(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function $6(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function md(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=v6,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Kf="http://www.w3.org/1999/xhtml";const we={svg:"http://www.w3.org/2000/svg",xhtml:Kf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tu(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),we.hasOwnProperty(n)?{space:we[n],local:t}:t}function S6(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Kf&&n.documentElement.namespaceURI===Kf?n.createElement(t):n.createElementNS(e,t)}}function A6(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nu(t){var n=tu(t);return(n.local?A6:S6)(n)}function T6(){}function ml(t){return t==null?T6:function(){return this.querySelector(t)}}function C6(t){typeof t!="function"&&(t=ml(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,c=r[i]=new Array(a),u,f,s=0;s<a;++s)(u=o[s])&&(f=t.call(u,u.__data__,s,o))&&("__data__"in u&&(f.__data__=u.__data__),c[s]=f);return new cn(r,this._parents)}function E6(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function k6(){return[]}function fp(t){return t==null?k6:function(){return this.querySelectorAll(t)}}function N6(t){return function(){return E6(t.apply(this,arguments))}}function L6(t){typeof t=="function"?t=N6(t):t=fp(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],c=a.length,u,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new cn(r,i)}function sp(t){return function(){return this.matches(t)}}function lp(t){return function(n){return n.matches(t)}}var R6=Array.prototype.find;function P6(t){return function(){return R6.call(this.children,t)}}function F6(){return this.firstElementChild}function I6(t){return this.select(t==null?F6:P6(typeof t=="function"?t:lp(t)))}var z6=Array.prototype.filter;function D6(){return Array.from(this.children)}function O6(t){return function(){return z6.call(this.children,t)}}function B6(t){return this.selectAll(t==null?D6:O6(typeof t=="function"?t:lp(t)))}function U6(t){typeof t!="function"&&(t=sp(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,c=r[i]=[],u,f=0;f<a;++f)(u=o[f])&&t.call(u,u.__data__,f,o)&&c.push(u);return new cn(r,this._parents)}function hp(t){return new Array(t.length)}function Y6(){return new cn(this._enter||this._groups.map(hp),this._parents)}function Ga(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ga.prototype={constructor:Ga,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function q6(t){return function(){return t}}function X6(t,n,e,r,i,o){for(var a=0,c,u=n.length,f=o.length;a<f;++a)(c=n[a])?(c.__data__=o[a],r[a]=c):e[a]=new Ga(t,o[a]);for(;a<u;++a)(c=n[a])&&(i[a]=c)}function W6(t,n,e,r,i,o,a){var c,u,f=new Map,s=n.length,h=o.length,l=new Array(s),d;for(c=0;c<s;++c)(u=n[c])&&(l[c]=d=a.call(u,u.__data__,c,n)+"",f.has(d)?i[c]=u:f.set(d,u));for(c=0;c<h;++c)d=a.call(t,o[c],c,o)+"",(u=f.get(d))?(r[c]=u,u.__data__=o[c],f.delete(d)):e[c]=new Ga(t,o[c]);for(c=0;c<s;++c)(u=n[c])&&f.get(l[c])===u&&(i[c]=u)}function H6(t){return t.__data__}function G6(t,n){if(!arguments.length)return Array.from(this,H6);var e=n?W6:X6,r=this._parents,i=this._groups;typeof t!="function"&&(t=q6(t));for(var o=i.length,a=new Array(o),c=new Array(o),u=new Array(o),f=0;f<o;++f){var s=r[f],h=i[f],l=h.length,d=V6(t.call(s,s&&s.__data__,f,r)),p=d.length,g=c[f]=new Array(p),b=a[f]=new Array(p),y=u[f]=new Array(l);e(s,h,g,b,y,d,n);for(var m=0,_=0,w,v;m<p;++m)if(w=g[m]){for(m>=_&&(_=m+1);!(v=b[_])&&++_<p;);w._next=v||null}}return a=new cn(a,r),a._enter=c,a._exit=u,a}function V6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function j6(){return new cn(this._exit||this._groups.map(hp),this._parents)}function Z6(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function K6(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),c=new Array(i),u=0;u<a;++u)for(var f=e[u],s=r[u],h=f.length,l=c[u]=new Array(h),d,p=0;p<h;++p)(d=f[p]||s[p])&&(l[p]=d);for(;u<i;++u)c[u]=e[u];return new cn(c,this._parents)}function J6(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Q6(t){t||(t=tx);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],c=a.length,u=i[o]=new Array(c),f,s=0;s<c;++s)(f=a[s])&&(u[s]=f);u.sort(n)}return new cn(i,this._parents).order()}function tx(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function nx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ex(){return Array.from(this)}function rx(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ix(){let t=0;for(const n of this)++t;return t}function ox(){return!this.node()}function ax(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,c;o<a;++o)(c=i[o])&&t.call(c,c.__data__,o,i);return this}function cx(t){return function(){this.removeAttribute(t)}}function ux(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fx(t,n){return function(){this.setAttribute(t,n)}}function sx(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function lx(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function hx(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function dx(t,n){var e=tu(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?ux:cx:typeof n=="function"?e.local?hx:lx:e.local?sx:fx)(e,n))}function dp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function px(t){return function(){this.style.removeProperty(t)}}function gx(t,n,e){return function(){this.style.setProperty(t,n,e)}}function mx(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function yx(t,n,e){return arguments.length>1?this.each((n==null?px:typeof n=="function"?mx:gx)(t,n,e??"")):Qr(this.node(),t)}function Qr(t,n){return t.style.getPropertyValue(n)||dp(t).getComputedStyle(t,null).getPropertyValue(n)}function bx(t){return function(){delete this[t]}}function wx(t,n){return function(){this[t]=n}}function _x(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function xx(t,n){return arguments.length>1?this.each((n==null?bx:typeof n=="function"?_x:wx)(t,n)):this.node()[t]}function pp(t){return t.trim().split(/^|\s+/)}function yl(t){return t.classList||new gp(t)}function gp(t){this._node=t,this._names=pp(t.getAttribute("class")||"")}gp.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mp(t,n){for(var e=yl(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function yp(t,n){for(var e=yl(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function vx(t){return function(){mp(this,t)}}function Mx(t){return function(){yp(this,t)}}function $x(t,n){return function(){(n.apply(this,arguments)?mp:yp)(this,t)}}function Sx(t,n){var e=pp(t+"");if(arguments.length<2){for(var r=yl(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?$x:n?vx:Mx)(e,n))}function Ax(){this.textContent=""}function Tx(t){return function(){this.textContent=t}}function Cx(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ex(t){return arguments.length?this.each(t==null?Ax:(typeof t=="function"?Cx:Tx)(t)):this.node().textContent}function kx(){this.innerHTML=""}function Nx(t){return function(){this.innerHTML=t}}function Lx(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Rx(t){return arguments.length?this.each(t==null?kx:(typeof t=="function"?Lx:Nx)(t)):this.node().innerHTML}function Px(){this.nextSibling&&this.parentNode.appendChild(this)}function Fx(){return this.each(Px)}function Ix(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zx(){return this.each(Ix)}function Dx(t){var n=typeof t=="function"?t:nu(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Ox(){return null}function Bx(t,n){var e=typeof t=="function"?t:nu(t),r=n==null?Ox:typeof n=="function"?n:ml(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Ux(){var t=this.parentNode;t&&t.removeChild(this)}function Yx(){return this.each(Ux)}function qx(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xx(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Wx(t){return this.select(t?Xx:qx)}function Hx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gx(t){return function(n){t.call(this,n,this.__data__)}}function Vx(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function jx(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Zx(t,n,e){return function(){var r=this.__on,i,o=Gx(n);if(r){for(var a=0,c=r.length;a<c;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Kx(t,n,e){var r=Vx(t+""),i,o=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,f=c.length,s;u<f;++u)for(i=0,s=c[u];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(c=n?Zx:jx,i=0;i<o;++i)this.each(c(r[i],n,e));return this}function bp(t,n,e){var r=dp(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Jx(t,n){return function(){return bp(this,t,n)}}function Qx(t,n){return function(){return bp(this,t,n.apply(this,arguments))}}function t3(t,n){return this.each((typeof n=="function"?Qx:Jx)(t,n))}function*n3(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var wp=[null];function cn(t,n){this._groups=t,this._parents=n}function Ro(){return new cn([[document.documentElement]],wp)}function e3(){return this}cn.prototype=Ro.prototype={constructor:cn,select:C6,selectAll:L6,selectChild:I6,selectChildren:B6,filter:U6,data:G6,enter:Y6,exit:j6,join:Z6,merge:K6,selection:e3,order:J6,sort:Q6,call:nx,nodes:ex,node:rx,size:ix,empty:ox,each:ax,attr:dx,style:yx,property:xx,classed:Sx,text:Ex,html:Rx,raise:Fx,lower:zx,append:Dx,insert:Bx,remove:Yx,clone:Wx,datum:Hx,on:Kx,dispatch:t3,[Symbol.iterator]:n3};function Ue(t){return typeof t=="string"?new cn([[document.querySelector(t)]],[document.documentElement]):new cn([[t]],wp)}function r3(t){let n;for(;n=t.sourceEvent;)t=n;return t}function i3(t,n){if(t=r3(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function wi(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Po(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ve(){}var yr=.7,ti=1/yr,jr="\\s*([+-]?\\d+)\\s*",lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o3=/^#([0-9a-f]{3,8})$/,a3=new RegExp(`^rgb\\(${jr},${jr},${jr}\\)$`),c3=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),u3=new RegExp(`^rgba\\(${jr},${jr},${jr},${lo}\\)$`),f3=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${lo}\\)$`),s3=new RegExp(`^hsl\\(${lo},${Bn},${Bn}\\)$`),l3=new RegExp(`^hsla\\(${lo},${Bn},${Bn},${lo}\\)$`),yd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wi(Ve,br,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bd,formatHex:bd,formatHex8:h3,formatHsl:d3,formatRgb:wd,toString:wd});function bd(){return this.rgb().formatHex()}function h3(){return this.rgb().formatHex8()}function d3(){return _p(this).formatHsl()}function wd(){return this.rgb().formatRgb()}function br(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=o3.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?_d(n):e===3?new Rt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?sa(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?sa(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=a3.exec(t))?new Rt(n[1],n[2],n[3],1):(n=c3.exec(t))?new Rt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=u3.exec(t))?sa(n[1],n[2],n[3],n[4]):(n=f3.exec(t))?sa(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=s3.exec(t))?Md(n[1],n[2]/100,n[3]/100,1):(n=l3.exec(t))?Md(n[1],n[2]/100,n[3]/100,n[4]):yd.hasOwnProperty(t)?_d(yd[t]):t==="transparent"?new Rt(NaN,NaN,NaN,0):null}function _d(t){return new Rt(t>>16&255,t>>8&255,t&255,1)}function sa(t,n,e,r){return r<=0&&(t=n=e=NaN),new Rt(t,n,e,r)}function bl(t){return t instanceof Ve||(t=br(t)),t?(t=t.rgb(),new Rt(t.r,t.g,t.b,t.opacity)):new Rt}function qn(t,n,e,r){return arguments.length===1?bl(t):new Rt(t,n,e,r??1)}function Rt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}wi(Rt,qn,Po(Ve,{brighter(t){return t=t==null?ti:Math.pow(ti,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yr:Math.pow(yr,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rt(ur(this.r),ur(this.g),ur(this.b),Va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xd,formatHex:xd,formatHex8:p3,formatRgb:vd,toString:vd}));function xd(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}`}function p3(){return`#${ar(this.r)}${ar(this.g)}${ar(this.b)}${ar((isNaN(this.opacity)?1:this.opacity)*255)}`}function vd(){const t=Va(this.opacity);return`${t===1?"rgb(":"rgba("}${ur(this.r)}, ${ur(this.g)}, ${ur(this.b)}${t===1?")":`, ${t})`}`}function Va(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ur(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ar(t){return t=ur(t),(t<16?"0":"")+t.toString(16)}function Md(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new vn(t,n,e,r)}function _p(t){if(t instanceof vn)return new vn(t.h,t.s,t.l,t.opacity);if(t instanceof Ve||(t=br(t)),!t)return new vn;if(t instanceof vn)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,c=o-i,u=(o+i)/2;return c?(n===o?a=(e-r)/c+(e<r)*6:e===o?a=(r-n)/c+2:a=(n-e)/c+4,c/=u<.5?o+i:2-o-i,a*=60):c=u>0&&u<1?0:a,new vn(a,c,u,t.opacity)}function Jf(t,n,e,r){return arguments.length===1?_p(t):new vn(t,n,e,r??1)}function vn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}wi(vn,Jf,Po(Ve,{brighter(t){return t=t==null?ti:Math.pow(ti,t),new vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yr:Math.pow(yr,t),new vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Rt(ef(t>=240?t-240:t+120,i,r),ef(t,i,r),ef(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new vn($d(this.h),la(this.s),la(this.l),Va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Va(this.opacity);return`${t===1?"hsl(":"hsla("}${$d(this.h)}, ${la(this.s)*100}%, ${la(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $d(t){return t=(t||0)%360,t<0?t+360:t}function la(t){return Math.max(0,Math.min(1,t||0))}function ef(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const xp=Math.PI/180,vp=180/Math.PI,ja=18,Mp=.96422,$p=1,Sp=.82521,Ap=4/29,Zr=6/29,Tp=3*Zr*Zr,g3=Zr*Zr*Zr;function Cp(t){if(t instanceof Un)return new Un(t.l,t.a,t.b,t.opacity);if(t instanceof fe)return Ep(t);t instanceof Rt||(t=bl(t));var n=cf(t.r),e=cf(t.g),r=cf(t.b),i=rf((.2225045*n+.7168786*e+.0606169*r)/$p),o,a;return n===e&&e===r?o=a=i:(o=rf((.4360747*n+.3850649*e+.1430804*r)/Mp),a=rf((.0139322*n+.0971045*e+.7141733*r)/Sp)),new Un(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Qf(t,n,e,r){return arguments.length===1?Cp(t):new Un(t,n,e,r??1)}function Un(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}wi(Un,Qf,Po(Ve,{brighter(t){return new Un(this.l+ja*(t??1),this.a,this.b,this.opacity)},darker(t){return new Un(this.l-ja*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Mp*of(n),t=$p*of(t),e=Sp*of(e),new Rt(af(3.1338561*n-1.6168667*t-.4906146*e),af(-.9787684*n+1.9161415*t+.033454*e),af(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function rf(t){return t>g3?Math.pow(t,1/3):t/Tp+Ap}function of(t){return t>Zr?t*t*t:Tp*(t-Ap)}function af(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function cf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function m3(t){if(t instanceof fe)return new fe(t.h,t.c,t.l,t.opacity);if(t instanceof Un||(t=Cp(t)),t.a===0&&t.b===0)return new fe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*vp;return new fe(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ts(t,n,e,r){return arguments.length===1?m3(t):new fe(t,n,e,r??1)}function fe(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ep(t){if(isNaN(t.h))return new Un(t.l,0,0,t.opacity);var n=t.h*xp;return new Un(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}wi(fe,ts,Po(Ve,{brighter(t){return new fe(this.h,this.c,this.l+ja*(t??1),this.opacity)},darker(t){return new fe(this.h,this.c,this.l-ja*(t??1),this.opacity)},rgb(){return Ep(this).rgb()}}));var kp=-.14861,wl=1.78277,_l=-.29227,eu=-.90649,ho=1.97294,Sd=ho*eu,Ad=ho*wl,Td=wl*_l-eu*kp;function y3(t){if(t instanceof fr)return new fr(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=bl(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Td*r+Sd*n-Ad*e)/(Td+Sd-Ad),o=r-i,a=(ho*(e-i)-_l*o)/eu,c=Math.sqrt(a*a+o*o)/(ho*i*(1-i)),u=c?Math.atan2(a,o)*vp-120:NaN;return new fr(u<0?u+360:u,c,i,t.opacity)}function Xn(t,n,e,r){return arguments.length===1?y3(t):new fr(t,n,e,r??1)}function fr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}wi(fr,Xn,Po(Ve,{brighter(t){return t=t==null?ti:Math.pow(ti,t),new fr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yr:Math.pow(yr,t),new fr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*xp,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(n+e*(kp*r+wl*i)),255*(n+e*(_l*r+eu*i)),255*(n+e*(ho*r)),this.opacity)}}));function b3(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function w3(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,c=r<n-1?t[r+2]:2*o-i;return b3((e-r/n)*n,a,i,o,c)}}const ru=t=>()=>t;function Np(t,n){return function(e){return t+e*n}}function _3(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function xl(t,n){var e=n-t;return e?Np(t,e>180||e<-180?e-360*Math.round(e/360):e):ru(isNaN(t)?n:t)}function x3(t){return(t=+t)==1?Xt:function(n,e){return e-n?_3(n,e,t):ru(isNaN(n)?e:n)}}function Xt(t,n){var e=n-t;return e?Np(t,e):ru(isNaN(t)?n:t)}const wr=function t(n){var e=x3(n);function r(i,o){var a=e((i=qn(i)).r,(o=qn(o)).r),c=e(i.g,o.g),u=e(i.b,o.b),f=Xt(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=c(s),i.b=u(s),i.opacity=f(s),i+""}}return r.gamma=t,r}(1);function v3(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,c;for(a=0;a<e;++a)c=qn(n[a]),r[a]=c.r||0,i[a]=c.g||0,o[a]=c.b||0;return r=t(r),i=t(i),o=t(o),c.opacity=1,function(u){return c.r=r(u),c.g=i(u),c.b=o(u),c+""}}}var M3=v3(w3);function $3(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function S3(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function A3(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Fo(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(c){for(a=0;a<r;++a)o[a]=i[a](c);return o}}function T3(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Yt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function C3(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Fo(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var ns=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uf=new RegExp(ns.source,"g");function E3(t){return function(){return t}}function k3(t){return function(n){return t(n)+""}}function Lp(t,n){var e=ns.lastIndex=uf.lastIndex=0,r,i,o,a=-1,c=[],u=[];for(t=t+"",n=n+"";(r=ns.exec(t))&&(i=uf.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),c[a]?c[a]+=o:c[++a]=o),(r=r[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,u.push({i:a,x:Yt(r,i)})),e=uf.lastIndex;return e<n.length&&(o=n.slice(e),c[a]?c[a]+=o:c[++a]=o),c.length<2?u[0]?k3(u[0].x):E3(n):(n=u.length,function(f){for(var s=0,h;s<n;++s)c[(h=u[s]).i]=h.x(f);return c.join("")})}function Fo(t,n){var e=typeof n,r;return n==null||e==="boolean"?ru(n):(e==="number"?Yt:e==="string"?(r=br(n))?(n=r,wr):Lp:n instanceof br?wr:n instanceof Date?T3:S3(n)?$3:Array.isArray(n)?A3:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?C3:Yt)(t,n)}function vl(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Cd=180/Math.PI,es={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rp(t,n,e,r,i,o){var a,c,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(c=Math.sqrt(e*e+r*r))&&(e/=c,r/=c,u/=c),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Cd,skewX:Math.atan(u)*Cd,scaleX:a,scaleY:c}}var ha;function N3(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?es:Rp(n.a,n.b,n.c,n.d,n.e,n.f)}function L3(t){return t==null||(ha||(ha=document.createElementNS("http://www.w3.org/2000/svg","g")),ha.setAttribute("transform",t),!(t=ha.transform.baseVal.consolidate()))?es:(t=t.matrix,Rp(t.a,t.b,t.c,t.d,t.e,t.f))}function Pp(t,n,e,r){function i(f){return f.length?f.pop()+" ":""}function o(f,s,h,l,d,p){if(f!==h||s!==l){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:Yt(f,h)},{i:g-2,x:Yt(s,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function a(f,s,h,l){f!==s?(f-s>180?s+=360:s-f>180&&(f+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Yt(f,s)})):s&&h.push(i(h)+"rotate("+s+r)}function c(f,s,h,l){f!==s?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Yt(f,s)}):s&&h.push(i(h)+"skewX("+s+r)}function u(f,s,h,l,d,p){if(f!==h||s!==l){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:Yt(f,h)},{i:g-2,x:Yt(s,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(f,s){var h=[],l=[];return f=t(f),s=t(s),o(f.translateX,f.translateY,s.translateX,s.translateY,h,l),a(f.rotate,s.rotate,h,l),c(f.skewX,s.skewX,h,l),u(f.scaleX,f.scaleY,s.scaleX,s.scaleY,h,l),f=s=null,function(d){for(var p=-1,g=l.length,b;++p<g;)h[(b=l[p]).i]=b.x(d);return h.join("")}}}var R3=Pp(N3,"px, ","px)","deg)"),P3=Pp(L3,", ",")",")");function F3(t){return function(n,e){var r=t((n=Jf(n)).h,(e=Jf(e)).h),i=Xt(n.s,e.s),o=Xt(n.l,e.l),a=Xt(n.opacity,e.opacity);return function(c){return n.h=r(c),n.s=i(c),n.l=o(c),n.opacity=a(c),n+""}}}const I3=F3(xl);function z3(t,n){var e=Xt((t=Qf(t)).l,(n=Qf(n)).l),r=Xt(t.a,n.a),i=Xt(t.b,n.b),o=Xt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function D3(t){return function(n,e){var r=t((n=ts(n)).h,(e=ts(e)).h),i=Xt(n.c,e.c),o=Xt(n.l,e.l),a=Xt(n.opacity,e.opacity);return function(c){return n.h=r(c),n.c=i(c),n.l=o(c),n.opacity=a(c),n+""}}}const O3=D3(xl);function Fp(t){return function n(e){e=+e;function r(i,o){var a=t((i=Xn(i)).h,(o=Xn(o)).h),c=Xt(i.s,o.s),u=Xt(i.l,o.l),f=Xt(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=c(s),i.l=u(Math.pow(s,e)),i.opacity=f(s),i+""}}return r.gamma=n,r}(1)}Fp(xl);var Ml=Fp(Xt);function iu(t,n){n===void 0&&(n=t,t=Fo);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var c=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[c](a-c)}}function Sn(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var ni=0,Xi=0,Pi=0,Ip=1e3,Za,Wi,Ka=0,_r=0,ou=0,po=typeof performance=="object"&&performance.now?performance:Date,zp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $l(){return _r||(zp(B3),_r=po.now()+ou)}function B3(){_r=0}function Ja(){this._call=this._time=this._next=null}Ja.prototype=Dp.prototype={constructor:Ja,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?$l():+e)+(n==null?0:+n),!this._next&&Wi!==this&&(Wi?Wi._next=this:Za=this,Wi=this),this._call=t,this._time=e,rs()},stop:function(){this._call&&(this._call=null,this._time=1/0,rs())}};function Dp(t,n,e){var r=new Ja;return r.restart(t,n,e),r}function U3(){$l(),++ni;for(var t=Za,n;t;)(n=_r-t._time)>=0&&t._call.call(void 0,n),t=t._next;--ni}function Ed(){_r=(Ka=po.now())+ou,ni=Xi=0;try{U3()}finally{ni=0,q3(),_r=0}}function Y3(){var t=po.now(),n=t-Ka;n>Ip&&(ou-=n,Ka=t)}function q3(){for(var t,n=Za,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Za=e);Wi=t,rs(r)}function rs(t){if(!ni){Xi&&(Xi=clearTimeout(Xi));var n=t-_r;n>24?(t<1/0&&(Xi=setTimeout(Ed,t-po.now()-ou)),Pi&&(Pi=clearInterval(Pi))):(Pi||(Ka=po.now(),Pi=setInterval(Y3,Ip)),ni=1,zp(Ed))}}function kd(t,n,e){var r=new Ja;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var X3=up("start","end","cancel","interrupt"),W3=[],Op=0,Nd=1,is=2,Da=3,Ld=4,os=5,Oa=6;function au(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;H3(t,e,{name:n,index:r,group:i,on:X3,tween:W3,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Op})}function Sl(t,n){var e=Cn(t,n);if(e.state>Op)throw new Error("too late; already scheduled");return e}function jn(t,n){var e=Cn(t,n);if(e.state>Da)throw new Error("too late; already running");return e}function Cn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function H3(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Dp(o,0,e.time);function o(f){e.state=Nd,e.timer.restart(a,e.delay,e.time),e.delay<=f&&a(f-e.delay)}function a(f){var s,h,l,d;if(e.state!==Nd)return u();for(s in r)if(d=r[s],d.name===e.name){if(d.state===Da)return kd(a);d.state===Ld?(d.state=Oa,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[s]):+s<n&&(d.state=Oa,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[s])}if(kd(function(){e.state===Da&&(e.state=Ld,e.timer.restart(c,e.delay,e.time),c(f))}),e.state=is,e.on.call("start",t,t.__data__,e.index,e.group),e.state===is){for(e.state=Da,i=new Array(l=e.tween.length),s=0,h=-1;s<l;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function c(f){for(var s=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(u),e.state=os,1),h=-1,l=i.length;++h<l;)i[h].call(t,s);e.state===os&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Oa,e.timer.stop(),delete r[n];for(var f in r)return;delete t.__transition}}function G3(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>is&&r.state<os,r.state=Oa,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function V3(t){return this.each(function(){G3(this,t)})}function j3(t,n){var e,r;return function(){var i=jn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,c=r.length;a<c;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Z3(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=jn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:n,value:e},u=0,f=i.length;u<f;++u)if(i[u].name===n){i[u]=c;break}u===f&&i.push(c)}o.tween=i}}function K3(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Cn(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?j3:Z3)(e,t,n))}function Al(t,n,e){var r=t._id;return t.each(function(){var i=jn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Cn(i,r).value[n]}}function Bp(t,n){var e;return(typeof n=="number"?Yt:n instanceof br?wr:(e=br(n))?(n=e,wr):Lp)(t,n)}function J3(t){return function(){this.removeAttribute(t)}}function Q3(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tv(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function nv(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function ev(t,n,e){var r,i,o;return function(){var a,c=e(this),u;return c==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=c+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,c)))}}function rv(t,n,e){var r,i,o;return function(){var a,c=e(this),u;return c==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=c+"",a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,c)))}}function iv(t,n){var e=tu(t),r=e==="transform"?P3:Bp;return this.attrTween(t,typeof n=="function"?(e.local?rv:ev)(e,r,Al(this,"attr."+t,n)):n==null?(e.local?Q3:J3)(e):(e.local?nv:tv)(e,r,n))}function ov(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function av(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function cv(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&av(t,o)),e}return i._value=n,i}function uv(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ov(t,o)),e}return i._value=n,i}function fv(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=tu(t);return this.tween(e,(r.local?cv:uv)(r,n))}function sv(t,n){return function(){Sl(this,t).delay=+n.apply(this,arguments)}}function lv(t,n){return n=+n,function(){Sl(this,t).delay=n}}function hv(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?sv:lv)(n,t)):Cn(this.node(),n).delay}function dv(t,n){return function(){jn(this,t).duration=+n.apply(this,arguments)}}function pv(t,n){return n=+n,function(){jn(this,t).duration=n}}function gv(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?dv:pv)(n,t)):Cn(this.node(),n).duration}function mv(t,n){if(typeof n!="function")throw new Error;return function(){jn(this,t).ease=n}}function yv(t){var n=this._id;return arguments.length?this.each(mv(n,t)):Cn(this.node(),n).ease}function bv(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;jn(this,t).ease=e}}function wv(t){if(typeof t!="function")throw new Error;return this.each(bv(this._id,t))}function _v(t){typeof t!="function"&&(t=sp(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,c=r[i]=[],u,f=0;f<a;++f)(u=o[f])&&t.call(u,u.__data__,f,o)&&c.push(u);return new _e(r,this._parents,this._name,this._id)}function xv(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var u=n[c],f=e[c],s=u.length,h=a[c]=new Array(s),l,d=0;d<s;++d)(l=u[d]||f[d])&&(h[d]=l);for(;c<r;++c)a[c]=n[c];return new _e(a,this._parents,this._name,this._id)}function vv(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Mv(t,n,e){var r,i,o=vv(n)?Sl:jn;return function(){var a=o(this,t),c=a.on;c!==r&&(i=(r=c).copy()).on(n,e),a.on=i}}function $v(t,n){var e=this._id;return arguments.length<2?Cn(this.node(),e).on.on(t):this.each(Mv(e,t,n))}function Sv(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Av(){return this.on("end.remove",Sv(this._id))}function Tv(t){var n=this._name,e=this._id;typeof t!="function"&&(t=ml(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c=r[a],u=c.length,f=o[a]=new Array(u),s,h,l=0;l<u;++l)(s=c[l])&&(h=t.call(s,s.__data__,l,c))&&("__data__"in s&&(h.__data__=s.__data__),f[l]=h,au(f[l],n,e,l,f,Cn(s,e)));return new _e(o,this._parents,n,e)}function Cv(t){var n=this._name,e=this._id;typeof t!="function"&&(t=fp(t));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var u=r[c],f=u.length,s,h=0;h<f;++h)if(s=u[h]){for(var l=t.call(s,s.__data__,h,u),d,p=Cn(s,e),g=0,b=l.length;g<b;++g)(d=l[g])&&au(d,n,e,g,l,p);o.push(l),a.push(s)}return new _e(o,a,n,e)}var Ev=Ro.prototype.constructor;function kv(){return new Ev(this._groups,this._parents)}function Nv(t,n){var e,r,i;return function(){var o=Qr(this,t),a=(this.style.removeProperty(t),Qr(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Up(t){return function(){this.style.removeProperty(t)}}function Lv(t,n,e){var r,i=e+"",o;return function(){var a=Qr(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function Rv(t,n,e){var r,i,o;return function(){var a=Qr(this,t),c=e(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(t),Qr(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=n(r=a,c))}}function Pv(t,n){var e,r,i,o="style."+n,a="end."+o,c;return function(){var u=jn(this,t),f=u.on,s=u.value[o]==null?c||(c=Up(n)):void 0;(f!==e||i!==s)&&(r=(e=f).copy()).on(a,i=s),u.on=r}}function Fv(t,n,e){var r=(t+="")=="transform"?R3:Bp;return n==null?this.styleTween(t,Nv(t,r)).on("end.style."+t,Up(t)):typeof n=="function"?this.styleTween(t,Rv(t,r,Al(this,"style."+t,n))).each(Pv(this._id,t)):this.styleTween(t,Lv(t,r,n),e).on("end.style."+t,null)}function Iv(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function zv(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Iv(t,a,e)),r}return o._value=n,o}function Dv(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,zv(t,n,e??""))}function Ov(t){return function(){this.textContent=t}}function Bv(t){return function(){var n=t(this);this.textContent=n??""}}function Uv(t){return this.tween("text",typeof t=="function"?Bv(Al(this,"text",t)):Ov(t==null?"":t+""))}function Yv(t){return function(n){this.textContent=t.call(this,n)}}function qv(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Yv(i)),n}return r._value=t,r}function Xv(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,qv(t))}function Wv(){for(var t=this._name,n=this._id,e=Yp(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,u,f=0;f<c;++f)if(u=a[f]){var s=Cn(u,n);au(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new _e(r,this._parents,t,e)}function Hv(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var c={value:a},u={value:function(){--i===0&&o()}};e.each(function(){var f=jn(this,r),s=f.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(u)),f.on=n}),i===0&&o()})}var Gv=0;function _e(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Yp(){return++Gv}var te=Ro.prototype;_e.prototype={constructor:_e,select:Tv,selectAll:Cv,selectChild:te.selectChild,selectChildren:te.selectChildren,filter:_v,merge:xv,selection:kv,transition:Wv,call:te.call,nodes:te.nodes,node:te.node,size:te.size,empty:te.empty,each:te.each,on:$v,attr:iv,attrTween:fv,style:Fv,styleTween:Dv,text:Uv,textTween:Xv,remove:Av,tween:K3,delay:hv,duration:gv,ease:yv,easeVarying:wv,end:Hv,[Symbol.iterator]:te[Symbol.iterator]};function Vv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jv={time:null,delay:0,duration:250,ease:Vv};function Zv(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Kv(t){var n,e;t instanceof _e?(n=t._id,t=t._name):(n=Yp(),(e=jv).time=$l(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,u,f=0;f<c;++f)(u=a[f])&&au(u,t,n,f,a,e||Zv(u,n));return new _e(r,this._parents,t,n)}Ro.prototype.interrupt=V3;Ro.prototype.transition=Kv;const as=Math.PI,cs=2*as,rr=1e-6,Jv=cs-rr;function qp(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Qv(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return qp;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let Xp=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?qp:Qv(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,c=this._y1,u=r-n,f=i-e,s=a-n,h=c-e,l=s*s+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>rr)if(!(Math.abs(h*u-f*s)>rr)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-c,g=u*u+f*f,b=d*d+p*p,y=Math.sqrt(g),m=Math.sqrt(l),_=o*Math.tan((as-Math.acos((g+l-b)/(2*y*m)))/2),w=_/m,v=_/y;Math.abs(w-1)>rr&&this._append`L${n+w*s},${e+w*h}`,this._append`A${o},${o},0,0,${+(h*d>s*p)},${this._x1=n+v*u},${this._y1=e+v*f}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=n+c,s=e+u,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${f},${s}`:(Math.abs(this._x1-f)>rr||Math.abs(this._y1-s)>rr)&&this._append`L${f},${s}`,r&&(l<0&&(l=l%cs+cs),l>Jv?this._append`A${r},${r},0,1,${h},${n-c},${e-u}A${r},${r},0,1,${h},${this._x1=f},${this._y1=s}`:l>rr&&this._append`A${r},${r},0,${+(l>=as)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function se(t=3){return new Xp(+t)}var t5=Array.prototype,Wp=t5.slice;function n5(t,n){return t-n}function e5(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}const Re=t=>()=>t;function r5(t,n){for(var e=-1,r=n.length,i;++e<r;)if(i=i5(t,n[e]))return i;return 0}function i5(t,n){for(var e=n[0],r=n[1],i=-1,o=0,a=t.length,c=a-1;o<a;c=o++){var u=t[o],f=u[0],s=u[1],h=t[c],l=h[0],d=h[1];if(o5(u,h,n))return 0;s>r!=d>r&&e<(l-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function o5(t,n,e){var r;return a5(t,n,e)&&c5(t[r=+(t[0]===n[0])],e[r],n[r])}function a5(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function c5(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}function u5(){}var ne=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function us(){var t=1,n=1,e=pl,r=u;function i(f){var s=e(f);if(Array.isArray(s))s=s.slice().sort(n5);else{const h=Ct(f,f5);for(s=Ye(...ep(h[0],h[1],s),s);s[s.length-1]>=h[1];)s.pop();for(;s[1]<h[0];)s.shift()}return s.map(h=>o(f,h))}function o(f,s){const h=s==null?NaN:+s;if(isNaN(h))throw new Error(`invalid value: ${s}`);var l=[],d=[];return a(f,h,function(p){r(p,f,h),e5(p)>0?l.push([p]):d.push(p)}),d.forEach(function(p){for(var g=0,b=l.length,y;g<b;++g)if(r5((y=l[g])[0],p)!==-1){y.push(p);return}}),{type:"MultiPolygon",value:s,coordinates:l}}function a(f,s,h){var l=new Array,d=new Array,p,g,b,y,m,_;for(p=g=-1,y=er(f[0],s),ne[y<<1].forEach(w);++p<t-1;)b=y,y=er(f[p+1],s),ne[b|y<<1].forEach(w);for(ne[y<<0].forEach(w);++g<n-1;){for(p=-1,y=er(f[g*t+t],s),m=er(f[g*t],s),ne[y<<1|m<<2].forEach(w);++p<t-1;)b=y,y=er(f[g*t+t+p+1],s),_=m,m=er(f[g*t+p+1],s),ne[b|y<<1|m<<2|_<<3].forEach(w);ne[y|m<<3].forEach(w)}for(p=-1,m=f[g*t]>=s,ne[m<<2].forEach(w);++p<t-1;)_=m,m=er(f[g*t+p+1],s),ne[m<<2|_<<3].forEach(w);ne[m<<3].forEach(w);function w(v){var x=[v[0][0]+p,v[0][1]+g],M=[v[1][0]+p,v[1][1]+g],A=c(x),S=c(M),T,$;(T=d[A])?($=l[S])?(delete d[T.end],delete l[$.start],T===$?(T.ring.push(M),h(T.ring)):l[T.start]=d[$.end]={start:T.start,end:$.end,ring:T.ring.concat($.ring)}):(delete d[T.end],T.ring.push(M),d[T.end=S]=T):(T=l[S])?($=d[A])?(delete l[T.start],delete d[$.end],T===$?(T.ring.push(M),h(T.ring)):l[$.start]=d[T.end]={start:$.start,end:T.end,ring:$.ring.concat(T.ring)}):(delete l[T.start],T.ring.unshift(x),l[T.start=A]=T):l[A]=d[S]={start:A,end:S,ring:[x,M]}}}function c(f){return f[0]*2+f[1]*(t+1)*4}function u(f,s,h){f.forEach(function(l){var d=l[0],p=l[1],g=d|0,b=p|0,y=ff(s[b*t+g]);d>0&&d<t&&g===d&&(l[0]=Rd(d,ff(s[b*t+g-1]),y,h)),p>0&&p<n&&b===p&&(l[1]=Rd(p,ff(s[(b-1)*t+g]),y,h))})}return i.contour=o,i.size=function(f){if(!arguments.length)return[t,n];var s=Math.floor(f[0]),h=Math.floor(f[1]);if(!(s>=0&&h>=0))throw new Error("invalid size");return t=s,n=h,i},i.thresholds=function(f){return arguments.length?(e=typeof f=="function"?f:Array.isArray(f)?Re(Wp.call(f)):Re(f),i):e},i.smooth=function(f){return arguments.length?(r=f?u:u5,i):r===u},i}function f5(t){return isFinite(t)?t:NaN}function er(t,n){return t==null?!1:+t>=n}function ff(t){return t==null||isNaN(t=+t)?-1/0:t}function Rd(t,n,e,r){const i=r-n,o=e-n,a=isFinite(i)||isFinite(o)?i/o:Math.sign(i)/Math.sign(o);return isNaN(a)?t:t+a-.5}function s5(t){return t[0]}function l5(t){return t[1]}function h5(){return 1}function d5(){var t=s5,n=l5,e=h5,r=960,i=500,o=20,a=2,c=o*3,u=r+c*2>>a,f=i+c*2>>a,s=Re(20);function h(m){var _=new Float32Array(u*f),w=Math.pow(2,-a),v=-1;for(const L of m){var x=(t(L,++v,m)+c)*w,M=(n(L,v,m)+c)*w,A=+e(L,v,m);if(A&&x>=0&&x<u&&M>=0&&M<f){var S=Math.floor(x),T=Math.floor(M),$=x-S-.5,E=M-T-.5;_[S+T*u]+=(1-$)*(1-E)*A,_[S+1+T*u]+=$*(1-E)*A,_[S+1+(T+1)*u]+=$*E*A,_[S+(T+1)*u]+=(1-$)*E*A}}return Z1({data:_,width:u,height:f},o*w),_}function l(m){var _=h(m),w=s(_),v=Math.pow(2,2*a);return Array.isArray(w)||(w=Ye(Number.MIN_VALUE,Pt(_)/v,w)),us().size([u,f]).thresholds(w.map(x=>x*v))(_).map((x,M)=>(x.value=+w[M],d(x)))}l.contours=function(m){var _=h(m),w=us().size([u,f]),v=Math.pow(2,2*a),x=M=>{M=+M;var A=d(w.contour(_,M*v));return A.value=M,A};return Object.defineProperty(x,"max",{get:()=>Pt(_)/v}),x};function d(m){return m.coordinates.forEach(p),m}function p(m){m.forEach(g)}function g(m){m.forEach(b)}function b(m){m[0]=m[0]*Math.pow(2,a)-c,m[1]=m[1]*Math.pow(2,a)-c}function y(){return c=o*3,u=r+c*2>>a,f=i+c*2>>a,l}return l.x=function(m){return arguments.length?(t=typeof m=="function"?m:Re(+m),l):t},l.y=function(m){return arguments.length?(n=typeof m=="function"?m:Re(+m),l):n},l.weight=function(m){return arguments.length?(e=typeof m=="function"?m:Re(+m),l):e},l.size=function(m){if(!arguments.length)return[r,i];var _=+m[0],w=+m[1];if(!(_>=0&&w>=0))throw new Error("invalid size");return r=_,i=w,y()},l.cellSize=function(m){if(!arguments.length)return 1<<a;if(!((m=+m)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(m)/Math.LN2),y()},l.thresholds=function(m){return arguments.length?(s=typeof m=="function"?m:Array.isArray(m)?Re(Wp.call(m)):Re(m),l):s},l.bandwidth=function(m){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((m=+m)>=0))throw new Error("invalid bandwidth");return o=(Math.sqrt(4*m*m+1)-1)/2,y()},l}const ge=11102230246251565e-32,Ut=134217729,p5=(3+8*ge)*ge;function sf(t,n,e,r,i){let o,a,c,u,f=n[0],s=r[0],h=0,l=0;s>f==s>-f?(o=f,f=n[++h]):(o=s,s=r[++l]);let d=0;if(h<t&&l<e)for(s>f==s>-f?(a=f+o,c=o-(a-f),f=n[++h]):(a=s+o,c=o-(a-s),s=r[++l]),o=a,c!==0&&(i[d++]=c);h<t&&l<e;)s>f==s>-f?(a=o+f,u=a-o,c=o-(a-u)+(f-u),f=n[++h]):(a=o+s,u=a-o,c=o-(a-u)+(s-u),s=r[++l]),o=a,c!==0&&(i[d++]=c);for(;h<t;)a=o+f,u=a-o,c=o-(a-u)+(f-u),f=n[++h],o=a,c!==0&&(i[d++]=c);for(;l<e;)a=o+s,u=a-o,c=o-(a-u)+(s-u),s=r[++l],o=a,c!==0&&(i[d++]=c);return(o!==0||d===0)&&(i[d++]=o),d}function g5(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}function Io(t){return new Float64Array(t)}const m5=(3+16*ge)*ge,y5=(2+12*ge)*ge,b5=(9+64*ge)*ge*ge,Rr=Io(4),Pd=Io(8),Fd=Io(12),Id=Io(16),Ht=Io(4);function w5(t,n,e,r,i,o,a){let c,u,f,s,h,l,d,p,g,b,y,m,_,w,v,x,M,A;const S=t-i,T=e-i,$=n-o,E=r-o;w=S*E,l=Ut*S,d=l-(l-S),p=S-d,l=Ut*E,g=l-(l-E),b=E-g,v=p*b-(w-d*g-p*g-d*b),x=$*T,l=Ut*$,d=l-(l-$),p=$-d,l=Ut*T,g=l-(l-T),b=T-g,M=p*b-(x-d*g-p*g-d*b),y=v-M,h=v-y,Rr[0]=v-(y+h)+(h-M),m=w+y,h=m-w,_=w-(m-h)+(y-h),y=_-x,h=_-y,Rr[1]=_-(y+h)+(h-x),A=m+y,h=A-m,Rr[2]=m-(A-h)+(y-h),Rr[3]=A;let L=g5(4,Rr),k=y5*a;if(L>=k||-L>=k||(h=t-S,c=t-(S+h)+(h-i),h=e-T,f=e-(T+h)+(h-i),h=n-$,u=n-($+h)+(h-o),h=r-E,s=r-(E+h)+(h-o),c===0&&u===0&&f===0&&s===0)||(k=b5*a+p5*Math.abs(L),L+=S*s+E*c-($*f+T*u),L>=k||-L>=k))return L;w=c*E,l=Ut*c,d=l-(l-c),p=c-d,l=Ut*E,g=l-(l-E),b=E-g,v=p*b-(w-d*g-p*g-d*b),x=u*T,l=Ut*u,d=l-(l-u),p=u-d,l=Ut*T,g=l-(l-T),b=T-g,M=p*b-(x-d*g-p*g-d*b),y=v-M,h=v-y,Ht[0]=v-(y+h)+(h-M),m=w+y,h=m-w,_=w-(m-h)+(y-h),y=_-x,h=_-y,Ht[1]=_-(y+h)+(h-x),A=m+y,h=A-m,Ht[2]=m-(A-h)+(y-h),Ht[3]=A;const C=sf(4,Rr,4,Ht,Pd);w=S*s,l=Ut*S,d=l-(l-S),p=S-d,l=Ut*s,g=l-(l-s),b=s-g,v=p*b-(w-d*g-p*g-d*b),x=$*f,l=Ut*$,d=l-(l-$),p=$-d,l=Ut*f,g=l-(l-f),b=f-g,M=p*b-(x-d*g-p*g-d*b),y=v-M,h=v-y,Ht[0]=v-(y+h)+(h-M),m=w+y,h=m-w,_=w-(m-h)+(y-h),y=_-x,h=_-y,Ht[1]=_-(y+h)+(h-x),A=m+y,h=A-m,Ht[2]=m-(A-h)+(y-h),Ht[3]=A;const N=sf(C,Pd,4,Ht,Fd);w=c*s,l=Ut*c,d=l-(l-c),p=c-d,l=Ut*s,g=l-(l-s),b=s-g,v=p*b-(w-d*g-p*g-d*b),x=u*f,l=Ut*u,d=l-(l-u),p=u-d,l=Ut*f,g=l-(l-f),b=f-g,M=p*b-(x-d*g-p*g-d*b),y=v-M,h=v-y,Ht[0]=v-(y+h)+(h-M),m=w+y,h=m-w,_=w-(m-h)+(y-h),y=_-x,h=_-y,Ht[1]=_-(y+h)+(h-x),A=m+y,h=A-m,Ht[2]=m-(A-h)+(y-h),Ht[3]=A;const R=sf(N,Fd,4,Ht,Id);return Id[R-1]}function da(t,n,e,r,i,o){const a=(n-o)*(e-i),c=(t-i)*(r-o),u=a-c,f=Math.abs(a+c);return Math.abs(u)>=m5*f?u:-w5(t,n,e,r,i,o,f)}const zd=Math.pow(2,-52),pa=new Uint32Array(512);class Qa{static from(n,e=$5,r=S5){const i=n.length,o=new Float64Array(i*2);for(let a=0;a<i;a++){const c=n[a];o[2*a]=e(c),o[2*a+1]=r(c)}return new Qa(o)}constructor(n){const e=n.length>>1;if(e>0&&typeof n[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=n;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:n,_hullPrev:e,_hullNext:r,_hullTri:i,_hullHash:o}=this,a=n.length>>1;let c=1/0,u=1/0,f=-1/0,s=-1/0;for(let S=0;S<a;S++){const T=n[2*S],$=n[2*S+1];T<c&&(c=T),$<u&&(u=$),T>f&&(f=T),$>s&&(s=$),this._ids[S]=S}const h=(c+f)/2,l=(u+s)/2;let d,p,g;for(let S=0,T=1/0;S<a;S++){const $=lf(h,l,n[2*S],n[2*S+1]);$<T&&(d=S,T=$)}const b=n[2*d],y=n[2*d+1];for(let S=0,T=1/0;S<a;S++){if(S===d)continue;const $=lf(b,y,n[2*S],n[2*S+1]);$<T&&$>0&&(p=S,T=$)}let m=n[2*p],_=n[2*p+1],w=1/0;for(let S=0;S<a;S++){if(S===d||S===p)continue;const T=v5(b,y,m,_,n[2*S],n[2*S+1]);T<w&&(g=S,w=T)}let v=n[2*g],x=n[2*g+1];if(w===1/0){for(let $=0;$<a;$++)this._dists[$]=n[2*$]-n[0]||n[2*$+1]-n[1];Ur(this._ids,this._dists,0,a-1);const S=new Uint32Array(a);let T=0;for(let $=0,E=-1/0;$<a;$++){const L=this._ids[$],k=this._dists[L];k>E&&(S[T++]=L,E=k)}this.hull=S.subarray(0,T),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(da(b,y,m,_,v,x)<0){const S=p,T=m,$=_;p=g,m=v,_=x,g=S,v=T,x=$}const M=M5(b,y,m,_,v,x);this._cx=M.x,this._cy=M.y;for(let S=0;S<a;S++)this._dists[S]=lf(n[2*S],n[2*S+1],M.x,M.y);Ur(this._ids,this._dists,0,a-1),this._hullStart=d;let A=3;r[d]=e[g]=p,r[p]=e[d]=g,r[g]=e[p]=d,i[d]=0,i[p]=1,i[g]=2,o.fill(-1),o[this._hashKey(b,y)]=d,o[this._hashKey(m,_)]=p,o[this._hashKey(v,x)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(let S=0,T,$;S<this._ids.length;S++){const E=this._ids[S],L=n[2*E],k=n[2*E+1];if(S>0&&Math.abs(L-T)<=zd&&Math.abs(k-$)<=zd||(T=L,$=k,E===d||E===p||E===g))continue;let C=0;for(let I=0,D=this._hashKey(L,k);I<this._hashSize&&(C=o[(D+I)%this._hashSize],!(C!==-1&&C!==r[C]));I++);C=e[C];let N=C,R;for(;R=r[N],da(L,k,n[2*N],n[2*N+1],n[2*R],n[2*R+1])>=0;)if(N=R,N===C){N=-1;break}if(N===-1)continue;let z=this._addTriangle(N,E,r[N],-1,-1,i[N]);i[E]=this._legalize(z+2),i[N]=z,A++;let O=r[N];for(;R=r[O],da(L,k,n[2*O],n[2*O+1],n[2*R],n[2*R+1])<0;)z=this._addTriangle(O,E,R,i[E],-1,i[O]),i[E]=this._legalize(z+2),r[O]=O,A--,O=R;if(N===C)for(;R=e[N],da(L,k,n[2*R],n[2*R+1],n[2*N],n[2*N+1])<0;)z=this._addTriangle(R,E,N,-1,i[N],i[R]),this._legalize(z+2),i[R]=z,r[N]=N,A--,N=R;this._hullStart=e[E]=N,r[N]=e[O]=E,r[E]=O,o[this._hashKey(L,k)]=E,o[this._hashKey(n[2*N],n[2*N+1])]=N}this.hull=new Uint32Array(A);for(let S=0,T=this._hullStart;S<A;S++)this.hull[S]=T,T=r[T];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(n,e){return Math.floor(_5(n-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(n){const{_triangles:e,_halfedges:r,coords:i}=this;let o=0,a=0;for(;;){const c=r[n],u=n-n%3;if(a=u+(n+2)%3,c===-1){if(o===0)break;n=pa[--o];continue}const f=c-c%3,s=u+(n+1)%3,h=f+(c+2)%3,l=e[a],d=e[n],p=e[s],g=e[h];if(x5(i[2*l],i[2*l+1],i[2*d],i[2*d+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){e[n]=g,e[c]=l;const y=r[h];if(y===-1){let _=this._hullStart;do{if(this._hullTri[_]===h){this._hullTri[_]=n;break}_=this._hullPrev[_]}while(_!==this._hullStart)}this._link(n,y),this._link(c,r[a]),this._link(a,h);const m=f+(c+1)%3;o<pa.length&&(pa[o++]=m)}else{if(o===0)break;n=pa[--o]}}return a}_link(n,e){this._halfedges[n]=e,e!==-1&&(this._halfedges[e]=n)}_addTriangle(n,e,r,i,o,a){const c=this.trianglesLen;return this._triangles[c]=n,this._triangles[c+1]=e,this._triangles[c+2]=r,this._link(c,i),this._link(c+1,o),this._link(c+2,a),this.trianglesLen+=3,c}}function _5(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}function lf(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function x5(t,n,e,r,i,o,a,c){const u=t-a,f=n-c,s=e-a,h=r-c,l=i-a,d=o-c,p=u*u+f*f,g=s*s+h*h,b=l*l+d*d;return u*(h*b-g*d)-f*(s*b-g*l)+p*(s*d-h*l)<0}function v5(t,n,e,r,i,o){const a=e-t,c=r-n,u=i-t,f=o-n,s=a*a+c*c,h=u*u+f*f,l=.5/(a*f-c*u),d=(f*s-c*h)*l,p=(a*h-u*s)*l;return d*d+p*p}function M5(t,n,e,r,i,o){const a=e-t,c=r-n,u=i-t,f=o-n,s=a*a+c*c,h=u*u+f*f,l=.5/(a*f-c*u),d=t+(f*s-c*h)*l,p=n+(a*h-u*s)*l;return{x:d,y:p}}function Ur(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const o=t[i],a=n[o];let c=i-1;for(;c>=e&&n[t[c]]>a;)t[c+1]=t[c--];t[c+1]=o}else{const i=e+r>>1;let o=e+1,a=r;Fi(t,i,o),n[t[e]]>n[t[r]]&&Fi(t,e,r),n[t[o]]>n[t[r]]&&Fi(t,o,r),n[t[e]]>n[t[o]]&&Fi(t,e,o);const c=t[o],u=n[c];for(;;){do o++;while(n[t[o]]<u);do a--;while(n[t[a]]>u);if(a<o)break;Fi(t,o,a)}t[e+1]=t[a],t[a]=c,r-o+1>=a-e?(Ur(t,n,o,r),Ur(t,n,e,a-1)):(Ur(t,n,e,a-1),Ur(t,n,o,r))}}function Fi(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function $5(t){return t[0]}function S5(t){return t[1]}const Dd=1e-6;class cr{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(n,e){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(n,e){this._+=`L${this._x1=+n},${this._y1=+e}`}arc(n,e,r){n=+n,e=+e,r=+r;const i=n+r,o=e;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>Dd||Math.abs(this._y1-o)>Dd)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${n-r},${e}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(n,e,r,i){this._+=`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class fs{constructor(){this._=[]}moveTo(n,e){this._.push([n,e])}closePath(){this._.push(this._[0].slice())}lineTo(n,e){this._.push([n,e])}value(){return this._.length?this._:null}}let A5=class{constructor(n,[e,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(e=+e))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=n,this._circumcenters=new Float64Array(n.points.length*2),this.vectors=new Float64Array(n.points.length*2),this.xmax=i,this.xmin=e,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:n,hull:e,triangles:r},vectors:i}=this;let o,a;const c=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,b=0,y=r.length,m,_;g<y;g+=3,b+=2){const w=r[g]*2,v=r[g+1]*2,x=r[g+2]*2,M=n[w],A=n[w+1],S=n[v],T=n[v+1],$=n[x],E=n[x+1],L=S-M,k=T-A,C=$-M,N=E-A,R=(L*N-k*C)*2;if(Math.abs(R)<1e-9){if(o===void 0){o=a=0;for(const O of e)o+=n[O*2],a+=n[O*2+1];o/=e.length,a/=e.length}const z=1e9*Math.sign((o-M)*N-(a-A)*C);m=(M+$)/2-z*N,_=(A+E)/2+z*C}else{const z=1/R,O=L*L+k*k,I=C*C+N*N;m=M+(N*O-k*I)*z,_=A+(L*I-C*O)*z}c[b]=m,c[b+1]=_}let u=e[e.length-1],f,s=u*4,h,l=n[2*u],d,p=n[2*u+1];i.fill(0);for(let g=0;g<e.length;++g)u=e[g],f=s,h=l,d=p,s=u*4,l=n[2*u],p=n[2*u+1],i[f+2]=i[s]=d-p,i[f+3]=i[s+1]=l-h}render(n){const e=n==null?n=new cr:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:a,vectors:c}=this;if(o.length<=1)return null;for(let s=0,h=r.length;s<h;++s){const l=r[s];if(l<s)continue;const d=Math.floor(s/3)*2,p=Math.floor(l/3)*2,g=a[d],b=a[d+1],y=a[p],m=a[p+1];this._renderSegment(g,b,y,m,n)}let u,f=o[o.length-1];for(let s=0;s<o.length;++s){u=f,f=o[s];const h=Math.floor(i[f]/3)*2,l=a[h],d=a[h+1],p=u*4,g=this._project(l,d,c[p+2],c[p+3]);g&&this._renderSegment(l,d,g[0],g[1],n)}return e&&e.value()}renderBounds(n){const e=n==null?n=new cr:void 0;return n.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(n,e){const r=e==null?e=new cr:void 0,i=this._clip(n);if(i===null||!i.length)return;e.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(i[a]!==i[a-2]||i[a+1]!==i[a-1])&&e.lineTo(i[a],i[a+1]);return e.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:n}}=this;for(let e=0,r=n.length/2;e<r;++e){const i=this.cellPolygon(e);i&&(i.index=e,yield i)}}cellPolygon(n){const e=new fs;return this.renderCell(n,e),e.value()}_renderSegment(n,e,r,i,o){let a;const c=this._regioncode(n,e),u=this._regioncode(r,i);c===0&&u===0?(o.moveTo(n,e),o.lineTo(r,i)):(a=this._clipSegment(n,e,r,i,c,u))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(n,e,r){return e=+e,e!==e||(r=+r,r!==r)?!1:this.delaunay._step(n,e,r)===n}*neighbors(n){const e=this._clip(n);if(e)for(const r of this.delaunay.neighbors(n)){const i=this._clip(r);if(i){t:for(let o=0,a=e.length;o<a;o+=2)for(let c=0,u=i.length;c<u;c+=2)if(e[o]===i[c]&&e[o+1]===i[c+1]&&e[(o+2)%a]===i[(c+u-2)%u]&&e[(o+3)%a]===i[(c+u-1)%u]){yield r;break t}}}}_cell(n){const{circumcenters:e,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,a=r[n];if(a===-1)return null;const c=[];let u=a;do{const f=Math.floor(u/3);if(c.push(e[f*2],e[f*2+1]),u=u%3===2?u-2:u+1,o[u]!==n)break;u=i[u]}while(u!==a&&u!==-1);return c}_clip(n){if(n===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(n);if(e===null)return null;const{vectors:r}=this,i=n*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(n,e,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(n,e))}_clipFinite(n,e){const r=e.length;let i=null,o,a,c=e[r-2],u=e[r-1],f,s=this._regioncode(c,u),h,l=0;for(let d=0;d<r;d+=2)if(o=c,a=u,c=e[d],u=e[d+1],f=s,s=this._regioncode(c,u),f===0&&s===0)h=l,l=0,i?i.push(c,u):i=[c,u];else{let p,g,b,y,m;if(f===0){if((p=this._clipSegment(o,a,c,u,f,s))===null)continue;[g,b,y,m]=p}else{if((p=this._clipSegment(c,u,o,a,s,f))===null)continue;[y,m,g,b]=p,h=l,l=this._edgecode(g,b),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(g,b):i=[g,b]}h=l,l=this._edgecode(y,m),h&&l&&this._edge(n,h,l,i,i.length),i?i.push(y,m):i=[y,m]}if(i)h=l,l=this._edgecode(i[0],i[1]),h&&l&&this._edge(n,h,l,i,i.length);else if(this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(n,e,r,i,o,a){const c=o<a;for(c&&([n,e,r,i,o,a]=[r,i,n,e,a,o]);;){if(o===0&&a===0)return c?[r,i,n,e]:[n,e,r,i];if(o&a)return null;let u,f,s=o||a;s&8?(u=n+(r-n)*(this.ymax-e)/(i-e),f=this.ymax):s&4?(u=n+(r-n)*(this.ymin-e)/(i-e),f=this.ymin):s&2?(f=e+(i-e)*(this.xmax-n)/(r-n),u=this.xmax):(f=e+(i-e)*(this.xmin-n)/(r-n),u=this.xmin),o?(n=u,e=f,o=this._regioncode(n,e)):(r=u,i=f,a=this._regioncode(r,i))}}_clipInfinite(n,e,r,i,o,a){let c=Array.from(e),u;if((u=this._project(c[0],c[1],r,i))&&c.unshift(u[0],u[1]),(u=this._project(c[c.length-2],c[c.length-1],o,a))&&c.push(u[0],u[1]),c=this._clipFinite(n,c))for(let f=0,s=c.length,h,l=this._edgecode(c[s-2],c[s-1]);f<s;f+=2)h=l,l=this._edgecode(c[f],c[f+1]),h&&l&&(f=this._edge(n,h,l,c,f),s=c.length);else this.contains(n,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(c=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return c}_edge(n,e,r,i,o){for(;e!==r;){let a,c;switch(e){case 5:e=4;continue;case 4:e=6,a=this.xmax,c=this.ymin;break;case 6:e=2;continue;case 2:e=10,a=this.xmax,c=this.ymax;break;case 10:e=8;continue;case 8:e=9,a=this.xmin,c=this.ymax;break;case 9:e=1;continue;case 1:e=5,a=this.xmin,c=this.ymin;break}(i[o]!==a||i[o+1]!==c)&&this.contains(n,a,c)&&(i.splice(o,0,a,c),o+=2)}return o}_project(n,e,r,i){let o=1/0,a,c,u;if(i<0){if(e<=this.ymin)return null;(a=(this.ymin-e)/i)<o&&(u=this.ymin,c=n+(o=a)*r)}else if(i>0){if(e>=this.ymax)return null;(a=(this.ymax-e)/i)<o&&(u=this.ymax,c=n+(o=a)*r)}if(r>0){if(n>=this.xmax)return null;(a=(this.xmax-n)/r)<o&&(c=this.xmax,u=e+(o=a)*i)}else if(r<0){if(n<=this.xmin)return null;(a=(this.xmin-n)/r)<o&&(c=this.xmin,u=e+(o=a)*i)}return[c,u]}_edgecode(n,e){return(n===this.xmin?1:n===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(n,e){return(n<this.xmin?1:n>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}_simplify(n){if(n&&n.length>4){for(let e=0;e<n.length;e+=2){const r=(e+2)%n.length,i=(e+4)%n.length;(n[e]===n[r]&&n[r]===n[i]||n[e+1]===n[r+1]&&n[r+1]===n[i+1])&&(n.splice(r,2),e-=2)}n.length||(n=null)}return n}};const T5=2*Math.PI,Pr=Math.pow;function C5(t){return t[0]}function E5(t){return t[1]}function k5(t){const{triangles:n,coords:e}=t;for(let r=0;r<n.length;r+=3){const i=2*n[r],o=2*n[r+1],a=2*n[r+2];if((e[a]-e[i])*(e[o+1]-e[i+1])-(e[o]-e[i])*(e[a+1]-e[i+1])>1e-10)return!1}return!0}function N5(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class je{static from(n,e=C5,r=E5,i){return new je("length"in n?L5(n,e,r,i):Float64Array.from(R5(n,e,r,i)))}constructor(n){this._delaunator=new Qa(n),this.inedges=new Int32Array(n.length/2),this._hullIndex=new Int32Array(n.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const n=this._delaunator,e=this.points;if(n.hull&&n.hull.length>2&&k5(n)){this.collinear=Int32Array.from({length:e.length/2},(l,d)=>d).sort((l,d)=>e[2*l]-e[2*d]||e[2*l+1]-e[2*d+1]);const u=this.collinear[0],f=this.collinear[this.collinear.length-1],s=[e[2*u],e[2*u+1],e[2*f],e[2*f+1]],h=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let l=0,d=e.length/2;l<d;++l){const p=N5(e[2*l],e[2*l+1],h);e[2*l]=p[0],e[2*l+1]=p[1]}this._delaunator=new Qa(e)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),c=this._hullIndex.fill(-1);for(let u=0,f=r.length;u<f;++u){const s=o[u%3===2?u-2:u+1];(r[u]===-1||a[s]===-1)&&(a[s]=u)}for(let u=0,f=i.length;u<f;++u)c[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],a[i[0]]=1,i.length===2&&(a[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(n){return new A5(this,n)}*neighbors(n){const{inedges:e,hull:r,_hullIndex:i,halfedges:o,triangles:a,collinear:c}=this;if(c){const h=c.indexOf(n);h>0&&(yield c[h-1]),h<c.length-1&&(yield c[h+1]);return}const u=e[n];if(u===-1)return;let f=u,s=-1;do{if(yield s=a[f],f=f%3===2?f-2:f+1,a[f]!==n)return;if(f=o[f],f===-1){const h=r[(i[n]+1)%r.length];h!==s&&(yield h);return}}while(f!==u)}find(n,e,r=0){if(n=+n,n!==n||(e=+e,e!==e))return-1;const i=r;let o;for(;(o=this._step(r,n,e))>=0&&o!==r&&o!==i;)r=o;return o}_step(n,e,r){const{inedges:i,hull:o,_hullIndex:a,halfedges:c,triangles:u,points:f}=this;if(i[n]===-1||!f.length)return(n+1)%(f.length>>1);let s=n,h=Pr(e-f[n*2],2)+Pr(r-f[n*2+1],2);const l=i[n];let d=l;do{let p=u[d];const g=Pr(e-f[p*2],2)+Pr(r-f[p*2+1],2);if(g<h&&(h=g,s=p),d=d%3===2?d-2:d+1,u[d]!==n)break;if(d=c[d],d===-1){if(d=o[(a[n]+1)%o.length],d!==p&&Pr(e-f[d*2],2)+Pr(r-f[d*2+1],2)<h)return d;break}}while(d!==l);return s}render(n){const e=n==null?n=new cr:void 0,{points:r,halfedges:i,triangles:o}=this;for(let a=0,c=i.length;a<c;++a){const u=i[a];if(u<a)continue;const f=o[a]*2,s=o[u]*2;n.moveTo(r[f],r[f+1]),n.lineTo(r[s],r[s+1])}return this.renderHull(n),e&&e.value()}renderPoints(n,e){e===void 0&&(!n||typeof n.moveTo!="function")&&(e=n,n=null),e=e==null?2:+e;const r=n==null?n=new cr:void 0,{points:i}=this;for(let o=0,a=i.length;o<a;o+=2){const c=i[o],u=i[o+1];n.moveTo(c+e,u),n.arc(c,u,e,0,T5)}return r&&r.value()}renderHull(n){const e=n==null?n=new cr:void 0,{hull:r,points:i}=this,o=r[0]*2,a=r.length;n.moveTo(i[o],i[o+1]);for(let c=1;c<a;++c){const u=2*r[c];n.lineTo(i[u],i[u+1])}return n.closePath(),e&&e.value()}hullPolygon(){const n=new fs;return this.renderHull(n),n.value()}renderTriangle(n,e){const r=e==null?e=new cr:void 0,{points:i,triangles:o}=this,a=o[n*=3]*2,c=o[n+1]*2,u=o[n+2]*2;return e.moveTo(i[a],i[a+1]),e.lineTo(i[c],i[c+1]),e.lineTo(i[u],i[u+1]),e.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:n}=this;for(let e=0,r=n.length/3;e<r;++e)yield this.trianglePolygon(e)}trianglePolygon(n){const e=new fs;return this.renderTriangle(n,e),e.value()}}function L5(t,n,e,r){const i=t.length,o=new Float64Array(i*2);for(let a=0;a<i;++a){const c=t[a];o[a*2]=n.call(r,c,a,t),o[a*2+1]=e.call(r,c,a,t)}return o}function*R5(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}function Tl(t){for(var n in t){var e=t[n].trim(),r,i;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(r=+e))e=r;else if(i=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))P5&&i[4]&&!i[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;t[n]=e}return t}const P5=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function F5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ei(t){return t=tc(Math.abs(t)),t?t[1]:NaN}function I5(t,n){return function(e,r){for(var i=e.length,o=[],a=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),o.push(e.substring(i-=c,i+c)),!((u+=c+1)>r));)c=t[a=(a+1)%t.length];return o.reverse().join(n)}}function z5(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var D5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function go(t){if(!(n=D5.exec(t)))throw new Error("invalid format: "+t);var n;return new Cl({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}go.prototype=Cl.prototype;function Cl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O5(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Hp;function B5(t,n){var e=tc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Hp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tc(t,Math.max(0,n+o-1))[0]}function Od(t,n){var e=tc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Bd={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:F5,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Od(t*100,n),r:Od,s:B5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ud(t){return t}var Yd=Array.prototype.map,qd=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function U5(t){var n=t.grouping===void 0||t.thousands===void 0?Ud:I5(Yd.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ud:z5(Yd.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(h){h=go(h);var l=h.fill,d=h.align,p=h.sign,g=h.symbol,b=h.zero,y=h.width,m=h.comma,_=h.precision,w=h.trim,v=h.type;v==="n"?(m=!0,v="g"):Bd[v]||(_===void 0&&(_=12),w=!0,v="g"),(b||l==="0"&&d==="=")&&(b=!0,l="0",d="=");var x=g==="$"?e:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=g==="$"?r:/[%p]/.test(v)?a:"",A=Bd[v],S=/[defgprs%]/.test(v);_=_===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function T($){var E=x,L=M,k,C,N;if(v==="c")L=A($)+L,$="";else{$=+$;var R=$<0||1/$<0;if($=isNaN($)?u:A(Math.abs($),_),w&&($=O5($)),R&&+$==0&&p!=="+"&&(R=!1),E=(R?p==="("?p:c:p==="-"||p==="("?"":p)+E,L=(v==="s"?qd[8+Hp/3]:"")+L+(R&&p==="("?")":""),S){for(k=-1,C=$.length;++k<C;)if(N=$.charCodeAt(k),48>N||N>57){L=(N===46?i+$.slice(k+1):$.slice(k))+L,$=$.slice(0,k);break}}}m&&!b&&($=n($,1/0));var z=E.length+$.length+L.length,O=z<y?new Array(y-z+1).join(l):"";switch(m&&b&&($=n(O+$,O.length?y-L.length:1/0),O=""),d){case"<":$=E+$+L+O;break;case"=":$=E+O+$+L;break;case"^":$=O.slice(0,z=O.length>>1)+E+$+L+O.slice(z);break;default:$=O+E+$+L;break}return o($)}return T.toString=function(){return h+""},T}function s(h,l){var d=f((h=go(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(ei(l)/3)))*3,g=Math.pow(10,-p),b=qd[8+p/3];return function(y){return d(g*y)+b}}return{format:f,formatPrefix:s}}var ga,xe,Gp;Y5({thousands:",",grouping:[3],currency:["$",""]});function Y5(t){return ga=U5(t),xe=ga.format,Gp=ga.formatPrefix,ga}function q5(t){return Math.max(0,-ei(Math.abs(t)))}function X5(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ei(n)/3)))*3-ei(Math.abs(t)))}function W5(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ei(n)-ei(t))+1}var K=1e-6,nc=1e-12,et=Math.PI,$t=et/2,Xd=et/4,un=et*2,zt=180/et,ft=et/180,lt=Math.abs,_i=Math.atan,An=Math.atan2,J=Math.cos,ma=Math.ceil,Vp=Math.exp,ss=Math.hypot,ec=Math.log,hf=Math.pow,G=Math.sin,pn=Math.sign||function(t){return t>0?1:t<0?-1:0},Zt=Math.sqrt,El=Math.tan;function jp(t){return t>1?0:t<-1?et:Math.acos(t)}function rn(t){return t>1?$t:t<-1?-$t:Math.asin(t)}function on(){}function rc(t,n){t&&Hd.hasOwnProperty(t.type)&&Hd[t.type](t,n)}var Wd={Feature:function(t,n){rc(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)rc(e[r].geometry,n)}},Hd={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ls(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ls(e[r],n,0)},Polygon:function(t,n){Gd(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Gd(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)rc(e[r],n)}};function ls(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Gd(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ls(t[e],n,1);n.polygonEnd()}function Pe(t,n){t&&Wd.hasOwnProperty(t.type)?Wd[t.type](t,n):rc(t,n)}function hs(t){return[An(t[1],t[0]),rn(t[2])]}function ri(t){var n=t[0],e=t[1],r=J(e);return[r*J(n),r*G(n),G(e)]}function ya(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ic(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function df(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ba(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ds(t){var n=Zt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var Hi,oc,ac,cc,uc,fc,sc,lc,ps,gs,ms,Zp,Kp,Gt,Vt,jt,Mn={sphere:on,point:kl,lineStart:Vd,lineEnd:jd,polygonStart:function(){Mn.lineStart=V5,Mn.lineEnd=j5},polygonEnd:function(){Mn.lineStart=Vd,Mn.lineEnd=jd}};function kl(t,n){t*=ft,n*=ft;var e=J(n);zo(e*J(t),e*G(t),G(n))}function zo(t,n,e){++Hi,ac+=(t-ac)/Hi,cc+=(n-cc)/Hi,uc+=(e-uc)/Hi}function Vd(){Mn.point=H5}function H5(t,n){t*=ft,n*=ft;var e=J(n);Gt=e*J(t),Vt=e*G(t),jt=G(n),Mn.point=G5,zo(Gt,Vt,jt)}function G5(t,n){t*=ft,n*=ft;var e=J(n),r=e*J(t),i=e*G(t),o=G(n),a=An(Zt((a=Vt*o-jt*i)*a+(a=jt*r-Gt*o)*a+(a=Gt*i-Vt*r)*a),Gt*r+Vt*i+jt*o);oc+=a,fc+=a*(Gt+(Gt=r)),sc+=a*(Vt+(Vt=i)),lc+=a*(jt+(jt=o)),zo(Gt,Vt,jt)}function jd(){Mn.point=kl}function V5(){Mn.point=Z5}function j5(){Jp(Zp,Kp),Mn.point=kl}function Z5(t,n){Zp=t,Kp=n,t*=ft,n*=ft,Mn.point=Jp;var e=J(n);Gt=e*J(t),Vt=e*G(t),jt=G(n),zo(Gt,Vt,jt)}function Jp(t,n){t*=ft,n*=ft;var e=J(n),r=e*J(t),i=e*G(t),o=G(n),a=Vt*o-jt*i,c=jt*r-Gt*o,u=Gt*i-Vt*r,f=ss(a,c,u),s=rn(f),h=f&&-s/f;ps.add(h*a),gs.add(h*c),ms.add(h*u),oc+=s,fc+=s*(Gt+(Gt=r)),sc+=s*(Vt+(Vt=i)),lc+=s*(jt+(jt=o)),zo(Gt,Vt,jt)}function K5(t){Hi=oc=ac=cc=uc=fc=sc=lc=0,ps=new On,gs=new On,ms=new On,Pe(t,Mn);var n=+ps,e=+gs,r=+ms,i=ss(n,e,r);return i<nc&&(n=fc,e=sc,r=lc,oc<K&&(n=ac,e=cc,r=uc),i=ss(n,e,r),i<nc)?[NaN,NaN]:[An(e,n)*zt,rn(r/i)*zt]}function ys(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function bs(t,n){return lt(t)>et&&(t-=Math.round(t/un)*un),[t,n]}bs.invert=bs;function Qp(t,n,e){return(t%=un)?n||e?ys(Kd(t),Jd(n,e)):Kd(t):n||e?Jd(n,e):bs}function Zd(t){return function(n,e){return n+=t,lt(n)>et&&(n-=Math.round(n/un)*un),[n,e]}}function Kd(t){var n=Zd(t);return n.invert=Zd(-t),n}function Jd(t,n){var e=J(t),r=G(t),i=J(n),o=G(n);function a(c,u){var f=J(u),s=J(c)*f,h=G(c)*f,l=G(u),d=l*e+s*r;return[An(h*i-d*o,s*e-l*r),rn(d*i+h*o)]}return a.invert=function(c,u){var f=J(u),s=J(c)*f,h=G(c)*f,l=G(u),d=l*i-h*o;return[An(h*i+l*o,s*e+d*r),rn(d*e-s*r)]},a}function J5(t){t=Qp(t[0]*ft,t[1]*ft,t.length>2?t[2]*ft:0);function n(e){return e=t(e[0]*ft,e[1]*ft),e[0]*=zt,e[1]*=zt,e}return n.invert=function(e){return e=t.invert(e[0]*ft,e[1]*ft),e[0]*=zt,e[1]*=zt,e},n}function Q5(t,n,e,r,i,o){if(e){var a=J(n),c=G(n),u=r*e;i==null?(i=n+r*un,o=n-u/2):(i=Qd(a,i),o=Qd(a,o),(r>0?i<o:i>o)&&(i+=r*un));for(var f,s=i;r>0?s>o:s<o;s-=u)f=hs([a,-c*J(s),-c*G(s)]),t.point(f[0],f[1])}}function Qd(t,n){n=ri(n),n[0]-=t,ds(n);var e=jp(-n[1]);return((-n[2]<0?-e:e)+un-K)%un}function tg(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:on,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Ba(t,n){return lt(t[0]-n[0])<K&&lt(t[1]-n[1])<K}function wa(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function ng(t,n,e,r,i){var o=[],a=[],c,u;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],y=p[g],m;if(Ba(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),c=0;c<g;++c)i.point((b=p[c])[0],b[1]);i.lineEnd();return}y[0]+=2*K}o.push(m=new wa(b,p,null,!0)),a.push(m.o=new wa(b,null,m,!1)),o.push(m=new wa(y,p,null,!1)),a.push(m.o=new wa(y,null,m,!0))}}),!!o.length){for(a.sort(n),t0(o),t0(a),c=0,u=a.length;c<u;++c)a[c].e=e=!e;for(var f=o[0],s,h;;){for(var l=f,d=!0;l.v;)if((l=l.n)===f)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(c=0,u=s.length;c<u;++c)i.point((h=s[c])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(s=l.p.z,c=s.length-1;c>=0;--c)i.point((h=s[c])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,d=!d}while(!l.v);i.lineEnd()}}}function t0(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function pf(t){return lt(t[0])<=et?t[0]:pn(t[0])*((lt(t[0])+et)%un-et)}function t4(t,n){var e=pf(n),r=n[1],i=G(r),o=[G(e),-J(e),0],a=0,c=0,u=new On;i===1?r=$t+K:i===-1&&(r=-$t-K);for(var f=0,s=t.length;f<s;++f)if(l=(h=t[f]).length)for(var h,l,d=h[l-1],p=pf(d),g=d[1]/2+Xd,b=G(g),y=J(g),m=0;m<l;++m,p=w,b=x,y=M,d=_){var _=h[m],w=pf(_),v=_[1]/2+Xd,x=G(v),M=J(v),A=w-p,S=A>=0?1:-1,T=S*A,$=T>et,E=b*x;if(u.add(An(E*S*G(T),y*M+E*J(T))),a+=$?A+S*un:A,$^p>=e^w>=e){var L=ic(ri(d),ri(_));ds(L);var k=ic(o,L);ds(k);var C=($^A>=0?-1:1)*rn(k[2]);(r>C||r===C&&(L[0]||L[1]))&&(c+=$^A>=0?1:-1)}}return(a<-K||a<K&&u<-nc)^c&1}function eg(t,n,e,r){return function(i){var o=n(i),a=tg(),c=n(a),u=!1,f,s,h,l={point:d,lineStart:g,lineEnd:b,polygonStart:function(){l.point=y,l.lineStart=m,l.lineEnd=_,s=[],f=[]},polygonEnd:function(){l.point=d,l.lineStart=g,l.lineEnd=b,s=op(s);var w=t4(f,r);s.length?(u||(i.polygonStart(),u=!0),ng(s,e4,w,e,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=f=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(w,v){t(w,v)&&i.point(w,v)}function p(w,v){o.point(w,v)}function g(){l.point=p,o.lineStart()}function b(){l.point=d,o.lineEnd()}function y(w,v){h.push([w,v]),c.point(w,v)}function m(){c.lineStart(),h=[]}function _(){y(h[0][0],h[0][1]),c.lineEnd();var w=c.clean(),v=a.result(),x,M=v.length,A,S,T;if(h.pop(),f.push(h),h=null,!!M){if(w&1){if(S=v[0],(A=S.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<A;++x)i.point((T=S[x])[0],T[1]);i.lineEnd()}return}M>1&&w&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(n4))}}return l}}function n4(t){return t.length>1}function e4(t,n){return((t=t.x)[0]<0?t[1]-$t-K:$t-t[1])-((n=n.x)[0]<0?n[1]-$t-K:$t-n[1])}const n0=eg(function(){return!0},r4,o4,[-et,-$t]);function r4(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var c=o>0?et:-et,u=lt(o-n);lt(u-et)<K?(t.point(n,e=(e+a)/2>0?$t:-$t),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(c,e),t.point(o,e),i=0):r!==c&&u>=et&&(lt(n-r)<K&&(n-=r*K),lt(o-c)<K&&(o-=c*K),e=i4(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(c,e),i=0),t.point(n=o,e=a),r=c},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function i4(t,n,e,r){var i,o,a=G(t-e);return lt(a)>K?_i((G(n)*(o=J(r))*G(e)-G(r)*(i=J(n))*G(t))/(i*o*a)):(n+r)/2}function o4(t,n,e,r){var i;if(t==null)i=e*$t,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(lt(t[0]-n[0])>K){var o=t[0]<n[0]?et:-et;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function a4(t){var n=J(t),e=2*ft,r=n>0,i=lt(n)>K;function o(s,h,l,d){Q5(d,t,e,l,s,h)}function a(s,h){return J(s)*J(h)>n}function c(s){var h,l,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(b,y){var m=[b,y],_,w=a(b,y),v=r?w?0:f(b,y):w?f(b+(b<0?et:-et),y):0;if(!h&&(p=d=w)&&s.lineStart(),w!==d&&(_=u(h,m),(!_||Ba(h,_)||Ba(m,_))&&(m[2]=1)),w!==d)g=0,w?(s.lineStart(),_=u(m,h),s.point(_[0],_[1])):(_=u(h,m),s.point(_[0],_[1],2),s.lineEnd()),h=_;else if(i&&h&&r^w){var x;!(v&l)&&(x=u(m,h,!0))&&(g=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}w&&(!h||!Ba(h,m))&&s.point(m[0],m[1]),h=m,d=w,l=v},lineEnd:function(){d&&s.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function u(s,h,l){var d=ri(s),p=ri(h),g=[1,0,0],b=ic(d,p),y=ya(b,b),m=b[0],_=y-m*m;if(!_)return!l&&s;var w=n*y/_,v=-n*m/_,x=ic(g,b),M=ba(g,w),A=ba(b,v);df(M,A);var S=x,T=ya(M,S),$=ya(S,S),E=T*T-$*(ya(M,M)-1);if(!(E<0)){var L=Zt(E),k=ba(S,(-T-L)/$);if(df(k,M),k=hs(k),!l)return k;var C=s[0],N=h[0],R=s[1],z=h[1],O;N<C&&(O=C,C=N,N=O);var I=N-C,D=lt(I-et)<K,B=D||I<K;if(!D&&z<R&&(O=R,R=z,z=O),B?D?R+z>0^k[1]<(lt(k[0]-C)<K?R:z):R<=k[1]&&k[1]<=z:I>et^(C<=k[0]&&k[0]<=N)){var U=ba(S,(-T+L)/$);return df(U,M),[k,hs(U)]}}}function f(s,h){var l=r?t:et-t,d=0;return s<-l?d|=1:s>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return eg(a,c,o,r?[0,-t]:[-et,t-et])}function c4(t,n,e,r,i,o){var a=t[0],c=t[1],u=n[0],f=n[1],s=0,h=1,l=u-a,d=f-c,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<h&&(h=p)}if(p=r-c,!(!d&&p>0)){if(p/=d,d<0){if(p<s)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>s&&(s=p)}if(p=o-c,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>s&&(s=p)}else if(d>0){if(p<s)return;p<h&&(h=p)}return s>0&&(t[0]=a+s*l,t[1]=c+s*d),h<1&&(n[0]=a+h*l,n[1]=c+h*d),!0}}}}}var Gi=1e9,_a=-Gi;function rg(t,n,e,r){function i(f,s){return t<=f&&f<=e&&n<=s&&s<=r}function o(f,s,h,l){var d=0,p=0;if(f==null||(d=a(f,h))!==(p=a(s,h))||u(f,s)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==p);else l.point(s[0],s[1])}function a(f,s){return lt(f[0]-t)<K?s>0?0:3:lt(f[0]-e)<K?s>0?2:1:lt(f[1]-n)<K?s>0?1:0:s>0?3:2}function c(f,s){return u(f.x,s.x)}function u(f,s){var h=a(f,1),l=a(s,1);return h!==l?h-l:h===0?s[1]-f[1]:h===1?f[0]-s[0]:h===2?f[1]-s[1]:s[0]-f[0]}return function(f){var s=f,h=tg(),l,d,p,g,b,y,m,_,w,v,x,M={point:A,lineStart:E,lineEnd:L,polygonStart:T,polygonEnd:$};function A(C,N){i(C,N)&&s.point(C,N)}function S(){for(var C=0,N=0,R=d.length;N<R;++N)for(var z=d[N],O=1,I=z.length,D=z[0],B,U,Q=D[0],tt=D[1];O<I;++O)B=Q,U=tt,D=z[O],Q=D[0],tt=D[1],U<=r?tt>r&&(Q-B)*(r-U)>(tt-U)*(t-B)&&++C:tt<=r&&(Q-B)*(r-U)<(tt-U)*(t-B)&&--C;return C}function T(){s=h,l=[],d=[],x=!0}function $(){var C=S(),N=x&&C,R=(l=op(l)).length;(N||R)&&(f.polygonStart(),N&&(f.lineStart(),o(null,null,1,f),f.lineEnd()),R&&ng(l,c,C,o,f),f.polygonEnd()),s=f,l=d=p=null}function E(){M.point=k,d&&d.push(p=[]),v=!0,w=!1,m=_=NaN}function L(){l&&(k(g,b),y&&w&&h.rejoin(),l.push(h.result())),M.point=A,w&&s.lineEnd()}function k(C,N){var R=i(C,N);if(d&&p.push([C,N]),v)g=C,b=N,y=R,v=!1,R&&(s.lineStart(),s.point(C,N));else if(R&&w)s.point(C,N);else{var z=[m=Math.max(_a,Math.min(Gi,m)),_=Math.max(_a,Math.min(Gi,_))],O=[C=Math.max(_a,Math.min(Gi,C)),N=Math.max(_a,Math.min(Gi,N))];c4(z,O,t,n,e,r)?(w||(s.lineStart(),s.point(z[0],z[1])),s.point(O[0],O[1]),R||s.lineEnd(),x=!1):R&&(s.lineStart(),s.point(C,N),x=!1)}m=C,_=N,w=R}return M}}function e0(t,n,e){var r=dn(t,n-K,e).concat(n);return function(i){return r.map(function(o){return[i,o]})}}function r0(t,n,e){var r=dn(t,n-K,e).concat(n);return function(i){return r.map(function(o){return[o,i]})}}function u4(){var t,n,e,r,i,o,a,c,u=10,f=u,s=90,h=360,l,d,p,g,b=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return dn(ma(r/s)*s,e,s).map(p).concat(dn(ma(c/h)*h,a,h).map(g)).concat(dn(ma(n/u)*u,t,u).filter(function(_){return lt(_%s)>K}).map(l)).concat(dn(ma(o/f)*f,i,f).filter(function(_){return lt(_%h)>K}).map(d))}return y.lines=function(){return m().map(function(_){return{type:"LineString",coordinates:_}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(a).slice(1),p(e).reverse().slice(1),g(c).reverse().slice(1))]}},y.extent=function(_){return arguments.length?y.extentMajor(_).extentMinor(_):y.extentMinor()},y.extentMajor=function(_){return arguments.length?(r=+_[0][0],e=+_[1][0],c=+_[0][1],a=+_[1][1],r>e&&(_=r,r=e,e=_),c>a&&(_=c,c=a,a=_),y.precision(b)):[[r,c],[e,a]]},y.extentMinor=function(_){return arguments.length?(n=+_[0][0],t=+_[1][0],o=+_[0][1],i=+_[1][1],n>t&&(_=n,n=t,t=_),o>i&&(_=o,o=i,i=_),y.precision(b)):[[n,o],[t,i]]},y.step=function(_){return arguments.length?y.stepMajor(_).stepMinor(_):y.stepMinor()},y.stepMajor=function(_){return arguments.length?(s=+_[0],h=+_[1],y):[s,h]},y.stepMinor=function(_){return arguments.length?(u=+_[0],f=+_[1],y):[u,f]},y.precision=function(_){return arguments.length?(b=+_,l=e0(o,i,90),d=r0(n,t,b),p=e0(c,a,90),g=r0(r,e,b),y):b},y.extentMajor([[-180,-90+K],[180,90-K]]).extentMinor([[-180,-80-K],[180,80+K]])}function f4(){return u4()()}const ws=t=>t;var gf=new On,_s=new On,ig,og,xs,vs,ue={point:on,lineStart:on,lineEnd:on,polygonStart:function(){ue.lineStart=s4,ue.lineEnd=h4},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=on,gf.add(lt(_s)),_s=new On},result:function(){var t=gf/2;return gf=new On,t}};function s4(){ue.point=l4}function l4(t,n){ue.point=ag,ig=xs=t,og=vs=n}function ag(t,n){_s.add(vs*t-xs*n),xs=t,vs=n}function h4(){ag(ig,og)}var ii=1/0,hc=ii,mo=-ii,dc=mo,pc={point:d4,lineStart:on,lineEnd:on,polygonStart:on,polygonEnd:on,result:function(){var t=[[ii,hc],[mo,dc]];return mo=dc=-(hc=ii=1/0),t}};function d4(t,n){t<ii&&(ii=t),t>mo&&(mo=t),n<hc&&(hc=n),n>dc&&(dc=n)}var Ms=0,$s=0,Vi=0,gc=0,mc=0,Yr=0,Ss=0,As=0,ji=0,cg,ug,Fn,In,hn={point:xr,lineStart:i0,lineEnd:o0,polygonStart:function(){hn.lineStart=m4,hn.lineEnd=y4},polygonEnd:function(){hn.point=xr,hn.lineStart=i0,hn.lineEnd=o0},result:function(){var t=ji?[Ss/ji,As/ji]:Yr?[gc/Yr,mc/Yr]:Vi?[Ms/Vi,$s/Vi]:[NaN,NaN];return Ms=$s=Vi=gc=mc=Yr=Ss=As=ji=0,t}};function xr(t,n){Ms+=t,$s+=n,++Vi}function i0(){hn.point=p4}function p4(t,n){hn.point=g4,xr(Fn=t,In=n)}function g4(t,n){var e=t-Fn,r=n-In,i=Zt(e*e+r*r);gc+=i*(Fn+t)/2,mc+=i*(In+n)/2,Yr+=i,xr(Fn=t,In=n)}function o0(){hn.point=xr}function m4(){hn.point=b4}function y4(){fg(cg,ug)}function b4(t,n){hn.point=fg,xr(cg=Fn=t,ug=In=n)}function fg(t,n){var e=t-Fn,r=n-In,i=Zt(e*e+r*r);gc+=i*(Fn+t)/2,mc+=i*(In+n)/2,Yr+=i,i=In*t-Fn*n,Ss+=i*(Fn+t),As+=i*(In+n),ji+=i*3,xr(Fn=t,In=n)}function sg(t){this._context=t}sg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,un);break}}},result:on};var Ts=new On,mf,lg,hg,Zi,Ki,yo={point:on,lineStart:function(){yo.point=w4},lineEnd:function(){mf&&dg(lg,hg),yo.point=on},polygonStart:function(){mf=!0},polygonEnd:function(){mf=null},result:function(){var t=+Ts;return Ts=new On,t}};function w4(t,n){yo.point=dg,lg=Zi=t,hg=Ki=n}function dg(t,n){Zi-=t,Ki-=n,Ts.add(Zt(Zi*Zi+Ki*Ki)),Zi=t,Ki=n}let a0,yc,c0,u0;class f0{constructor(n){this._append=n==null?pg:_4(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==c0||this._append!==yc){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,c0=r,yc=this._append,u0=this._,this._=i}this._+=u0;break}}}result(){const n=this._;return this._="",n.length?n:null}}function pg(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function _4(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return pg;if(n!==a0){const e=10**n;a0=n,yc=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return yc}function Ae(t,n){let e=3,r=4.5,i,o;function a(c){return c&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Pe(c,i(o))),o.result()}return a.area=function(c){return Pe(c,i(ue)),ue.result()},a.measure=function(c){return Pe(c,i(yo)),yo.result()},a.bounds=function(c){return Pe(c,i(pc)),pc.result()},a.centroid=function(c){return Pe(c,i(hn)),hn.result()},a.projection=function(c){return arguments.length?(i=c==null?(t=null,ws):(t=c).stream,a):t},a.context=function(c){return arguments.length?(o=c==null?(n=null,new f0(e)):new sg(n=c),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(o.pointRadius(+c),+c),a):r},a.digits=function(c){if(!arguments.length)return e;if(c==null)e=null;else{const u=Math.floor(c);if(!(u>=0))throw new RangeError(`invalid digits: ${c}`);e=u}return n===null&&(o=new f0(e)),a},a.projection(t).digits(e).context(n)}function bc(t){return{stream:cu(t)}}function cu(t){return function(n){var e=new Cs;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Cs(){}Cs.prototype={constructor:Cs,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Nl(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Pe(e,t.stream(pc)),n(pc.result()),r!=null&&t.clipExtent(r),t}function Ll(t,n,e){return Nl(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),c=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([c,u])},e)}function gg(t,n,e){return Ll(t,[[0,0],n],e)}function mg(t,n,e){return Nl(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,c=-o*r[0][1];t.scale(150*o).translate([a,c])},e)}function yg(t,n,e){return Nl(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],c=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,c])},e)}var s0=16,x4=J(30*ft);function l0(t,n){return+n?M4(t,n):v4(t)}function v4(t){return cu({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function M4(t,n){function e(r,i,o,a,c,u,f,s,h,l,d,p,g,b){var y=f-r,m=s-i,_=y*y+m*m;if(_>4*n&&g--){var w=a+l,v=c+d,x=u+p,M=Zt(w*w+v*v+x*x),A=rn(x/=M),S=lt(lt(x)-1)<K||lt(o-h)<K?(o+h)/2:An(v,w),T=t(S,A),$=T[0],E=T[1],L=$-r,k=E-i,C=m*L-y*k;(C*C/_>n||lt((y*L+m*k)/_-.5)>.3||a*l+c*d+u*p<x4)&&(e(r,i,o,a,c,u,$,E,S,w/=M,v/=M,x,g,b),b.point($,E),e($,E,S,w,v,x,f,s,h,l,d,p,g,b))}}return function(r){var i,o,a,c,u,f,s,h,l,d,p,g,b={point:y,lineStart:m,lineEnd:w,polygonStart:function(){r.polygonStart(),b.lineStart=v},polygonEnd:function(){r.polygonEnd(),b.lineStart=m}};function y(A,S){A=t(A,S),r.point(A[0],A[1])}function m(){h=NaN,b.point=_,r.lineStart()}function _(A,S){var T=ri([A,S]),$=t(A,S);e(h,l,s,d,p,g,h=$[0],l=$[1],s=A,d=T[0],p=T[1],g=T[2],s0,r),r.point(h,l)}function w(){b.point=y,r.lineEnd()}function v(){m(),b.point=x,b.lineEnd=M}function x(A,S){_(i=A,S),o=h,a=l,c=d,u=p,f=g,b.point=_}function M(){e(h,l,s,d,p,g,o,a,i,c,u,f,s0,r),b.lineEnd=w,w()}return b}}var $4=cu({point:function(t,n){this.stream.point(t*ft,n*ft)}});function S4(t){return cu({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function A4(t,n,e,r,i){function o(a,c){return a*=r,c*=i,[n+t*a,e-t*c]}return o.invert=function(a,c){return[(a-n)/t*r,(e-c)/t*i]},o}function h0(t,n,e,r,i,o){if(!o)return A4(t,n,e,r,i);var a=J(o),c=G(o),u=a*t,f=c*t,s=a/t,h=c/t,l=(c*e-a*n)/t,d=(c*n+a*e)/t;function p(g,b){return g*=r,b*=i,[u*g-f*b+n,e-f*g-u*b]}return p.invert=function(g,b){return[r*(s*g-h*b+l),i*(d-h*g-s*b)]},p}function Ze(t){return bg(function(){return t})()}function bg(t){var n,e=150,r=480,i=250,o=0,a=0,c=0,u=0,f=0,s,h=0,l=1,d=1,p=null,g=n0,b=null,y,m,_,w=ws,v=.5,x,M,A,S,T;function $(C){return A(C[0]*ft,C[1]*ft)}function E(C){return C=A.invert(C[0],C[1]),C&&[C[0]*zt,C[1]*zt]}$.stream=function(C){return S&&T===C?S:S=$4(S4(s)(g(x(w(T=C)))))},$.preclip=function(C){return arguments.length?(g=C,p=void 0,k()):g},$.postclip=function(C){return arguments.length?(w=C,b=y=m=_=null,k()):w},$.clipAngle=function(C){return arguments.length?(g=+C?a4(p=C*ft):(p=null,n0),k()):p*zt},$.clipExtent=function(C){return arguments.length?(w=C==null?(b=y=m=_=null,ws):rg(b=+C[0][0],y=+C[0][1],m=+C[1][0],_=+C[1][1]),k()):b==null?null:[[b,y],[m,_]]},$.scale=function(C){return arguments.length?(e=+C,L()):e},$.translate=function(C){return arguments.length?(r=+C[0],i=+C[1],L()):[r,i]},$.center=function(C){return arguments.length?(o=C[0]%360*ft,a=C[1]%360*ft,L()):[o*zt,a*zt]},$.rotate=function(C){return arguments.length?(c=C[0]%360*ft,u=C[1]%360*ft,f=C.length>2?C[2]%360*ft:0,L()):[c*zt,u*zt,f*zt]},$.angle=function(C){return arguments.length?(h=C%360*ft,L()):h*zt},$.reflectX=function(C){return arguments.length?(l=C?-1:1,L()):l<0},$.reflectY=function(C){return arguments.length?(d=C?-1:1,L()):d<0},$.precision=function(C){return arguments.length?(x=l0(M,v=C*C),k()):Zt(v)},$.fitExtent=function(C,N){return Ll($,C,N)},$.fitSize=function(C,N){return gg($,C,N)},$.fitWidth=function(C,N){return mg($,C,N)},$.fitHeight=function(C,N){return yg($,C,N)};function L(){var C=h0(e,0,0,l,d,h).apply(null,n(o,a)),N=h0(e,r-C[0],i-C[1],l,d,h);return s=Qp(c,u,f),M=ys(n,N),A=ys(s,M),x=l0(M,v),k()}function k(){return S=T=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&E,L()}}function Rl(t){var n=0,e=et/3,r=bg(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ft,e=o[1]*ft):[n*zt,e*zt]},i}function T4(t){var n=J(t);function e(r,i){return[r*n,G(i)/n]}return e.invert=function(r,i){return[r/n,rn(i*n)]},e}function C4(t,n){var e=G(t),r=(e+G(n))/2;if(lt(r)<K)return T4(t);var i=1+e*(2*r-e),o=Zt(i)/r;function a(c,u){var f=Zt(i-2*r*G(u))/r;return[f*G(c*=r),o-f*J(c)]}return a.invert=function(c,u){var f=o-u,s=An(c,lt(f))*pn(f);return f*r<0&&(s-=et*pn(c)*pn(f)),[s/r,rn((i-(c*c+f*f)*r*r)/(2*r))]},a}function wc(){return Rl(C4).scale(155.424).center([0,33.6442])}function wg(){return wc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function E4(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function k4(){var t,n,e=wg(),r,i=wc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=wc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,u,f={point:function(l,d){u=[l,d]}};function s(l){var d=l[0],p=l[1];return u=null,r.point(d,p),u||(o.point(d,p),u)||(c.point(d,p),u)}s.invert=function(l){var d=e.scale(),p=e.translate(),g=(l[0]-p[0])/d,b=(l[1]-p[1])/d;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?a:e).invert(l)},s.stream=function(l){return t&&n===l?t:t=E4([e.stream(n=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),h()):e.precision()},s.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),s.translate(e.translate())):e.scale()},s.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(f),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+K,g+.12*d+K],[p-.214*d-K,g+.234*d-K]]).stream(f),c=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+K,g+.166*d+K],[p-.115*d-K,g+.234*d-K]]).stream(f),h()},s.fitExtent=function(l,d){return Ll(s,l,d)},s.fitSize=function(l,d){return gg(s,l,d)},s.fitWidth=function(l,d){return mg(s,l,d)},s.fitHeight=function(l,d){return yg(s,l,d)};function h(){return t=n=null,s}return s.scale(1070)}function _g(t){return function(n,e){var r=J(n),i=J(e),o=t(r*i);return o===1/0?[2,0]:[o*i*G(n),o*G(e)]}}function Do(t){return function(n,e){var r=Zt(n*n+e*e),i=t(r),o=G(i),a=J(i);return[An(n*o,r*a),rn(r&&e*o/r)]}}var xg=_g(function(t){return Zt(2/(1+t))});xg.invert=Do(function(t){return 2*rn(t/2)});function N4(){return Ze(xg).scale(124.75).clipAngle(180-.001)}var vg=_g(function(t){return(t=jp(t))&&t/G(t)});vg.invert=Do(function(t){return t});function L4(){return Ze(vg).scale(79.4188).clipAngle(180-.001)}function uu(t,n){return[t,ec(El(($t+n)/2))]}uu.invert=function(t,n){return[t,2*_i(Vp(n))-$t]};function R4(){return Mg(uu).scale(961/un)}function Mg(t){var n=Ze(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,c,u,f;n.scale=function(h){return arguments.length?(r(h),s()):r()},n.translate=function(h){return arguments.length?(i(h),s()):i()},n.center=function(h){return arguments.length?(e(h),s()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=c=u=f=null:(a=+h[0][0],c=+h[0][1],u=+h[1][0],f=+h[1][1]),s()):a==null?null:[[a,c],[u,f]]};function s(){var h=et*r(),l=n(J5(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===uu?[[Math.max(l[0]-h,a),c],[Math.min(l[0]+h,u),f]]:[[a,Math.max(l[1]-h,c)],[u,Math.min(l[1]+h,f)]])}return s()}function xa(t){return El(($t+t)/2)}function P4(t,n){var e=J(t),r=t===n?G(t):ec(e/J(n))/ec(xa(n)/xa(t)),i=e*hf(xa(t),r)/r;if(!r)return uu;function o(a,c){i>0?c<-$t+K&&(c=-$t+K):c>$t-K&&(c=$t-K);var u=i/hf(xa(c),r);return[u*G(r*a),i-u*J(r*a)]}return o.invert=function(a,c){var u=i-c,f=pn(r)*Zt(a*a+u*u),s=An(a,lt(u))*pn(u);return u*r<0&&(s-=et*pn(a)*pn(u)),[s/r,2*_i(hf(i/f,1/r))-$t]},o}function F4(){return Rl(P4).scale(109.5).parallels([30,30])}function _c(t,n){return[t,n]}_c.invert=_c;function I4(){return Ze(_c).scale(152.63)}function z4(t,n){var e=J(t),r=t===n?G(t):(e-J(n))/(n-t),i=e/r+t;if(lt(r)<K)return _c;function o(a,c){var u=i-c,f=r*a;return[u*G(f),i-u*J(f)]}return o.invert=function(a,c){var u=i-c,f=An(a,lt(u))*pn(u);return u*r<0&&(f-=et*pn(a)*pn(u)),[f/r,i-pn(r)*Zt(a*a+u*u)]},o}function D4(){return Rl(z4).scale(131.154).center([0,13.9389])}var to=1.340264,no=-.081106,eo=893e-6,ro=.003796,xc=Zt(3)/2,O4=12;function $g(t,n){var e=rn(xc*G(n)),r=e*e,i=r*r*r;return[t*J(e)/(xc*(to+3*no*r+i*(7*eo+9*ro*r))),e*(to+no*r+i*(eo+ro*r))]}$g.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,c,u;o<O4&&(c=e*(to+no*r+i*(eo+ro*r))-n,u=to+3*no*r+i*(7*eo+9*ro*r),e-=a=c/u,r=e*e,i=r*r*r,!(lt(a)<nc));++o);return[xc*t*(to+3*no*r+i*(7*eo+9*ro*r))/J(e),rn(G(e)/xc)]};function B4(){return Ze($g).scale(177.158)}function Sg(t,n){var e=J(n),r=J(t)*e;return[e*G(t)/r,G(n)/r]}Sg.invert=Do(_i);function U4(){return Ze(Sg).scale(144.049).clipAngle(60)}function Ag(t,n){return[J(n)*G(t),G(n)]}Ag.invert=Do(rn);function Y4(){return Ze(Ag).scale(249.5).clipAngle(90+K)}function Tg(t,n){var e=J(n),r=1+J(t)*e;return[e*G(t)/r,G(n)/r]}Tg.invert=Do(function(t){return 2*_i(t)});function q4(){return Ze(Tg).scale(250).clipAngle(142)}function Cg(t,n){return[ec(El(($t+n)/2)),-t]}Cg.invert=function(t,n){return[-n,2*_i(Vp(t))-$t]};function X4(){var t=Mg(Cg),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function W4(t,n){return t.parent===n.parent?1:2}function H4(t){return t.reduce(G4,0)/t.length}function G4(t,n){return t+n.x}function V4(t){return 1+t.reduce(j4,0)}function j4(t,n){return Math.max(t,n.y)}function Z4(t){for(var n;n=t.children;)t=n[0];return t}function K4(t){for(var n;n=t.children;)t=n[n.length-1];return t}function Eg(){var t=W4,n=1,e=1,r=!1;function i(o){var a,c=0;o.eachAfter(function(l){var d=l.children;d?(l.x=H4(d),l.y=V4(d)):(l.x=a?c+=t(l,a):0,l.y=0,a=l)});var u=Z4(o),f=K4(o),s=u.x-t(u,f)/2,h=f.x+t(f,u)/2;return o.eachAfter(r?function(l){l.x=(l.x-o.x)*n,l.y=(o.y-l.y)*e}:function(l){l.x=(l.x-s)/(h-s)*n,l.y=(1-(o.y?l.y/o.y:1))*e})}return i.separation=function(o){return arguments.length?(t=o,i):t},i.size=function(o){return arguments.length?(r=!1,n=+o[0],e=+o[1],i):r?null:[n,e]},i.nodeSize=function(o){return arguments.length?(r=!0,n=+o[0],e=+o[1],i):r?[n,e]:null},i}function J4(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Q4(){return this.eachAfter(J4)}function t8(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function n8(t,n){for(var e=this,r=[e],i,o,a=-1;e=r.pop();)if(t.call(n,e,++a,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function e8(t,n){for(var e=this,r=[e],i=[],o,a,c,u=-1;e=r.pop();)if(i.push(e),o=e.children)for(a=0,c=o.length;a<c;++a)r.push(o[a]);for(;e=i.pop();)t.call(n,e,++u,this);return this}function r8(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function i8(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function o8(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function a8(t){for(var n=this,e=c8(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function c8(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function u8(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function f8(){return Array.from(this)}function s8(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function l8(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*h8(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function kg(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=g8)):n===void 0&&(n=p8);for(var e=new oi(t),r,i=[e],o,a,c,u;r=i.pop();)if((a=n(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,c=u-1;c>=0;--c)i.push(o=a[c]=new oi(a[c])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(Ng)}function d8(){return kg(this).eachBefore(m8)}function p8(t){return t.children}function g8(t){return Array.isArray(t)?t[1]:null}function m8(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Ng(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function oi(t){this.data=t,this.depth=this.height=0,this.parent=null}oi.prototype=kg.prototype={constructor:oi,count:Q4,each:t8,eachAfter:e8,eachBefore:n8,find:r8,sum:i8,sort:o8,path:a8,ancestors:u8,descendants:f8,leaves:s8,links:l8,copy:d8,[Symbol.iterator]:h8};function yf(t){return t==null?null:y8(t)}function y8(t){if(typeof t!="function")throw new Error;return t}var b8={depth:-1},d0={},bf={};function w8(t){return t.id}function _8(t){return t.parentId}function Lg(){var t=w8,n=_8,e;function r(i){var o=Array.from(i),a=t,c=n,u,f,s,h,l,d,p,g,b=new Map;if(e!=null){const y=o.map((w,v)=>x8(e(w,v,i))),m=y.map(p0),_=new Set(y).add("");for(const w of m)_.has(w)||(_.add(w),y.push(w),m.push(p0(w)),o.push(bf));a=(w,v)=>y[v],c=(w,v)=>m[v]}for(s=0,u=o.length;s<u;++s)f=o[s],d=o[s]=new oi(f),(p=a(f,s,i))!=null&&(p+="")&&(g=d.id=p,b.set(g,b.has(g)?d0:d)),(p=c(f,s,i))!=null&&(p+="")&&(d.parent=p);for(s=0;s<u;++s)if(d=o[s],p=d.parent){if(l=b.get(p),!l)throw new Error("missing: "+p);if(l===d0)throw new Error("ambiguous: "+p);l.children?l.children.push(d):l.children=[d],d.parent=l}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(e!=null){for(;h.data===bf&&h.children.length===1;)h=h.children[0],--u;for(let y=o.length-1;y>=0&&(d=o[y],d.data===bf);--y)d.data=null}if(h.parent=b8,h.eachBefore(function(y){y.depth=y.parent.depth+1,--u}).eachBefore(Ng),h.parent=null,u>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(t=yf(i),r):t},r.parentId=function(i){return arguments.length?(n=yf(i),r):n},r.path=function(i){return arguments.length?(e=yf(i),r):e},r}function x8(t){t=`${t}`;let n=t.length;return Es(t,n-1)&&!Es(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function p0(t){let n=t.length;if(n<2)return"";for(;--n>1&&!Es(t,n););return t.slice(0,n)}function Es(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}function v8(t,n){return t.parent===n.parent?1:2}function wf(t){var n=t.children;return n?n[0]:t.t}function _f(t){var n=t.children;return n?n[n.length-1]:t.t}function M8(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function $8(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function S8(t,n,e){return t.a.parent===n.parent?t.a:e}function Ua(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Ua.prototype=Object.create(oi.prototype);function A8(t){for(var n=new Ua(t,0),e,r=[n],i,o,a,c;e=r.pop();)if(o=e._.children)for(e.children=new Array(c=o.length),a=c-1;a>=0;--a)r.push(i=e.children[a]=new Ua(o[a],a)),i.parent=e;return(n.parent=new Ua(null,0)).children=[n],n}function vc(){var t=v8,n=1,e=1,r=null;function i(f){var s=A8(f);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)f.eachBefore(u);else{var h=f,l=f,d=f;f.eachBefore(function(m){m.x<h.x&&(h=m),m.x>l.x&&(l=m),m.depth>d.depth&&(d=m)});var p=h===l?1:t(h,l)/2,g=p-h.x,b=n/(l.x+p+g),y=e/(d.depth||1);f.eachBefore(function(m){m.x=(m.x+g)*b,m.y=m.depth*y})}return f}function o(f){var s=f.children,h=f.parent.children,l=f.i?h[f.i-1]:null;if(s){$8(f);var d=(s[0].z+s[s.length-1].z)/2;l?(f.z=l.z+t(f._,l._),f.m=f.z-d):f.z=d}else l&&(f.z=l.z+t(f._,l._));f.parent.A=c(f,l,f.parent.A||h[0])}function a(f){f._.x=f.z+f.parent.m,f.m+=f.parent.m}function c(f,s,h){if(s){for(var l=f,d=f,p=s,g=l.parent.children[0],b=l.m,y=d.m,m=p.m,_=g.m,w;p=_f(p),l=wf(l),p&&l;)g=wf(g),d=_f(d),d.a=f,w=p.z+m-l.z-b+t(p._,l._),w>0&&(M8(S8(p,f,h),f,w),b+=w,y+=w),m+=p.m,b+=l.m,_+=g.m,y+=d.m;p&&!_f(d)&&(d.t=p,d.m+=m-y),l&&!wf(g)&&(g.t=l,g.m+=b-_,h=f)}return h}function u(f){f.x*=n,f.y=f.depth*e}return i.separation=function(f){return arguments.length?(t=f,i):t},i.size=function(f){return arguments.length?(r=!1,n=+f[0],e=+f[1],i):r?null:[n,e]},i.nodeSize=function(f){return arguments.length?(r=!0,n=+f[0],e=+f[1],i):r?[n,e]:null},i}const T8=1664525,C8=1013904223,g0=1/4294967296;function Pl(t=Math.random()){let n=(0<=t&&t<1?t/g0:Math.abs(t))|0;return()=>(n=T8*n+C8|0,g0*(n>>>0))}function Zn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function fu(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const ks=Symbol("implicit");function Fl(){var t=new mr,n=[],e=[],r=ks;function i(o){let a=t.get(o);if(a===void 0){if(r!==ks)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new mr;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Fl(n,e).unknown(r)},Zn.apply(i,arguments),i}function su(){var t=Fl().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,c=!1,u=0,f=0,s=.5;delete t.unknown;function h(){var l=n().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,l-u+f*2),c&&(o=Math.floor(o)),p+=(g-p-o*(l-u))*s,a=o*(1-u),c&&(p=Math.round(p),a=Math.round(a));var b=dn(l).map(function(y){return p+o*y});return e(d?b.reverse():b)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,c=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(c=!!l,h()):c},t.padding=function(l){return arguments.length?(u=Math.min(1,f=+l),h()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),h()):u},t.paddingOuter=function(l){return arguments.length?(f=+l,h()):f},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),h()):s},t.copy=function(){return su(n(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(s)},Zn.apply(h(),arguments)}function Rg(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Rg(n())},t}function E8(){return Rg(su.apply(null,arguments).paddingInner(1))}function k8(t){return function(){return t}}function Ns(t){return+t}var m0=[0,1];function gn(t){return t}function Ls(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:k8(isNaN(n)?NaN:.5)}function N8(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function L8(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Ls(i,r),o=e(a,o)):(r=Ls(r,i),o=e(o,a)),function(c){return o(r(c))}}function R8(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Ls(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(c){var u=Kc(t,c,1,r)-1;return o[u](i[u](c))}}function Oo(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lu(){var t=m0,n=m0,e=Fo,r,i,o,a=gn,c,u,f;function s(){var l=Math.min(t.length,n.length);return a!==gn&&(a=N8(t[0],t[l-1])),c=l>2?R8:L8,u=f=null,h}function h(l){return l==null||isNaN(l=+l)?o:(u||(u=c(t.map(r),n,e)))(r(a(l)))}return h.invert=function(l){return a(i((f||(f=c(n,t.map(r),Yt)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,Ns),s()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),s()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=vl,s()},h.clamp=function(l){return arguments.length?(a=l?!0:gn,s()):a!==gn},h.interpolate=function(l){return arguments.length?(e=l,s()):e},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,s()}}function Pg(){return lu()(gn,gn)}function P8(t,n,e,r){var i=Zf(t,n,e),o;switch(r=go(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=X5(i,a))&&(r.precision=o),Gp(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=W5(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=q5(i))&&(r.precision=o-(r.type==="%")*2);break}}return xe(r)}function Bo(t){var n=t.domain;return t.ticks=function(e){var r=n();return Ye(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return P8(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],c=r[o],u,f,s=10;for(c<a&&(f=a,a=c,c=f,f=i,i=o,o=f);s-- >0;){if(f=fo(a,c,e),f===u)return r[i]=a,r[o]=c,n(r);if(f>0)a=Math.floor(a/f)*f,c=Math.ceil(c/f)*f;else if(f<0)a=Math.ceil(a*f)/f,c=Math.floor(c*f)/f;else break;u=f}return t},t}function Il(){var t=Pg();return t.copy=function(){return Oo(t,Il())},Zn.apply(t,arguments),Bo(t)}function Fg(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Ns),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Fg(t).unknown(n)},t=arguments.length?Array.from(t,Ns):[0,1],Bo(e)}function Ig(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function y0(t){return Math.log(t)}function b0(t){return Math.exp(t)}function F8(t){return-Math.log(-t)}function I8(t){return-Math.exp(-t)}function z8(t){return isFinite(t)?+("1e"+t):t<0?0:t}function D8(t){return t===10?z8:t===Math.E?Math.exp:n=>Math.pow(t,n)}function O8(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function w0(t){return(n,e)=>-t(-n,e)}function zg(t){const n=t(y0,b0),e=n.domain;let r=10,i,o;function a(){return i=O8(r),o=D8(r),e()[0]<0?(i=w0(i),o=w0(o),t(F8,I8)):t(y0,b0),n}return n.base=function(c){return arguments.length?(r=+c,a()):r},n.domain=function(c){return arguments.length?(e(c),a()):e()},n.ticks=c=>{const u=e();let f=u[0],s=u[u.length-1];const h=s<f;h&&([f,s]=[s,f]);let l=i(f),d=i(s),p,g;const b=c==null?10:+c;let y=[];if(!(r%1)&&d-l<b){if(l=Math.floor(l),d=Math.ceil(d),f>0){for(;l<=d;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<f)){if(g>s)break;y.push(g)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<f)){if(g>s)break;y.push(g)}y.length*2<b&&(y=Ye(f,s,b))}else y=Ye(l,d,Math.min(d-l,b)).map(o);return h?y.reverse():y},n.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=go(u)).precision==null&&(u.trim=!0),u=xe(u)),c===1/0)return u;const f=Math.max(1,r*c/n.ticks().length);return s=>{let h=s/o(Math.round(i(s)));return h*r<r-.5&&(h*=r),h<=f?u(s):""}},n.nice=()=>e(Ig(e(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),n}function Dg(){const t=zg(lu()).domain([1,10]);return t.copy=()=>Oo(t,Dg()).base(t.base()),Zn.apply(t,arguments),t}function _0(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function x0(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Og(t){var n=1,e=t(_0(n),x0(n));return e.constant=function(r){return arguments.length?t(_0(n=+r),x0(n)):n},Bo(e)}function Bg(){var t=Og(lu());return t.copy=function(){return Oo(t,Bg()).constant(t.constant())},Zn.apply(t,arguments)}function v0(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function B8(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function U8(t){return t<0?-t*t:t*t}function Ug(t){var n=t(gn,gn),e=1;function r(){return e===1?t(gn,gn):e===.5?t(B8,U8):t(v0(e),v0(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Bo(n)}function Yg(){var t=Ug(lu());return t.copy=function(){return Oo(t,Yg()).exponent(t.exponent())},Zn.apply(t,arguments),t}function qg(){var t=[],n=[],e=[],r;function i(){var a=0,c=Math.max(1,n.length);for(e=new Array(c-1);++a<c;)e[a-1]=u6(t,a/c);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Kc(e,a)]}return o.invertExtent=function(a){var c=n.indexOf(a);return c<0?[NaN,NaN]:[c>0?e[c-1]:t[0],c<e.length?e[c]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let c of a)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(vt),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return qg().domain(t).range(n).unknown(r)},Zn.apply(o,arguments)}function Xg(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Kc(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Xg().domain(t).range(n).unknown(e)},Zn.apply(i,arguments)}const xf=new Date,vf=new Date;function Et(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),c=i.ceil(o);return o-a<c-o?a:c},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,c)=>{const u=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<a)||!(c>0))return u;let f;do u.push(f=new Date(+o)),n(o,c),t(o);while(f<o&&o<a);return u},i.filter=o=>Et(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,c)=>{if(a>=a)if(c<0)for(;++c<=0;)for(;n(a,-1),!o(a););else for(;--c>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(xf.setTime(+o),vf.setTime(+a),t(xf),t(vf),Math.floor(e(xf,vf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Mc=Et(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Mc.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Mc);Mc.range;const le=1e3,mn=le*60,he=mn*60,ve=he*24,zl=ve*7,M0=ve*30,Mf=ve*365,$n=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*le)},(t,n)=>(n-t)/le,t=>t.getUTCSeconds());$n.range;const Uo=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*le)},(t,n)=>{t.setTime(+t+n*mn)},(t,n)=>(n-t)/mn,t=>t.getMinutes());Uo.range;const Yo=Et(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*mn)},(t,n)=>(n-t)/mn,t=>t.getUTCMinutes());Yo.range;const qo=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*le-t.getMinutes()*mn)},(t,n)=>{t.setTime(+t+n*he)},(t,n)=>(n-t)/he,t=>t.getHours());qo.range;const Xo=Et(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*he)},(t,n)=>(n-t)/he,t=>t.getUTCHours());Xo.range;const $r=Et(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mn)/ve,t=>t.getDate()-1);$r.range;const hu=Et(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/ve,t=>t.getUTCDate()-1);hu.range;const du=Et(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/ve,t=>Math.floor(t/ve));du.range;function Sr(t){return Et(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*mn)/zl)}const ai=Sr(0),bo=Sr(1),Wg=Sr(2),Hg=Sr(3),vr=Sr(4),Gg=Sr(5),Vg=Sr(6);ai.range;bo.range;Wg.range;Hg.range;vr.range;Gg.range;Vg.range;function Ar(t){return Et(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/zl)}const ci=Ar(0),wo=Ar(1),jg=Ar(2),Zg=Ar(3),Mr=Ar(4),Kg=Ar(5),Jg=Ar(6);ci.range;wo.range;jg.range;Zg.range;Mr.range;Kg.range;Jg.range;const Wo=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Wo.range;const Ho=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ho.range;const Tn=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Tn.range;const yn=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());yn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});yn.range;function Qg(t,n,e,r,i,o){const a=[[$n,1,le],[$n,5,5*le],[$n,15,15*le],[$n,30,30*le],[o,1,mn],[o,5,5*mn],[o,15,15*mn],[o,30,30*mn],[i,1,he],[i,3,3*he],[i,6,6*he],[i,12,12*he],[r,1,ve],[r,2,2*ve],[e,1,zl],[n,1,M0],[n,3,3*M0],[t,1,Mf]];function c(f,s,h){const l=s<f;l&&([f,s]=[s,f]);const d=h&&typeof h.range=="function"?h:u(f,s,h),p=d?d.range(f,+s+1):[];return l?p.reverse():p}function u(f,s,h){const l=Math.abs(s-f)/h,d=Zc(([,,b])=>b).right(a,l);if(d===a.length)return t.every(Zf(f/Mf,s/Mf,h));if(d===0)return Mc.every(Math.max(Zf(f,s,h),1));const[p,g]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(g)}return[c,u]}const[Y8,tm]=Qg(yn,Ho,ci,du,Xo,Yo),[q8,X8]=Qg(Tn,Wo,ai,$r,qo,Uo);function $f(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sf(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ii(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function W8(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,c=t.months,u=t.shortMonths,f=zi(i),s=Di(i),h=zi(o),l=Di(o),d=zi(a),p=Di(a),g=zi(c),b=Di(c),y=zi(u),m=Di(u),_={a:R,A:z,b:O,B:I,c:null,d:E0,e:E0,f:p7,g:$7,G:A7,H:l7,I:h7,j:d7,L:nm,m:g7,M:m7,p:D,q:B,Q:L0,s:R0,S:y7,u:b7,U:w7,V:_7,w:x7,W:v7,x:null,X:null,y:M7,Y:S7,Z:T7,"%":N0},w={a:U,A:Q,b:tt,B:H,c:null,d:k0,e:k0,f:N7,g:U7,G:q7,H:C7,I:E7,j:k7,L:rm,m:L7,M:R7,p:q,q:X,Q:L0,s:R0,S:P7,u:F7,U:I7,V:z7,w:D7,W:O7,x:null,X:null,y:B7,Y:Y7,Z:X7,"%":N0},v={a:T,A:$,b:E,B:L,c:k,d:T0,e:T0,f:c7,g:A0,G:S0,H:C0,I:C0,j:r7,L:a7,m:e7,M:i7,p:S,q:n7,Q:f7,s:s7,S:o7,u:Z8,U:K8,V:J8,w:j8,W:Q8,x:C,X:N,y:A0,Y:S0,Z:t7,"%":u7};_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),w.x=x(e,w),w.X=x(r,w),w.c=x(n,w);function x(F,Y){return function(W){var P=[],ot=-1,j=0,at=F.length,ut,wt,Nn;for(W instanceof Date||(W=new Date(+W));++ot<at;)F.charCodeAt(ot)===37&&(P.push(F.slice(j,ot)),(wt=$0[ut=F.charAt(++ot)])!=null?ut=F.charAt(++ot):wt=ut==="e"?" ":"0",(Nn=Y[ut])&&(ut=Nn(W,wt)),P.push(ut),j=ot+1);return P.push(F.slice(j,ot)),P.join("")}}function M(F,Y){return function(W){var P=Ii(1900,void 0,1),ot=A(P,F,W+="",0),j,at;if(ot!=W.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(Y&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(j=Sf(Ii(P.y,0,1)),at=j.getUTCDay(),j=at>4||at===0?wo.ceil(j):wo(j),j=hu.offset(j,(P.V-1)*7),P.y=j.getUTCFullYear(),P.m=j.getUTCMonth(),P.d=j.getUTCDate()+(P.w+6)%7):(j=$f(Ii(P.y,0,1)),at=j.getDay(),j=at>4||at===0?bo.ceil(j):bo(j),j=$r.offset(j,(P.V-1)*7),P.y=j.getFullYear(),P.m=j.getMonth(),P.d=j.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),at="Z"in P?Sf(Ii(P.y,0,1)).getUTCDay():$f(Ii(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(at+5)%7:P.w+P.U*7-(at+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,Sf(P)):$f(P)}}function A(F,Y,W,P){for(var ot=0,j=Y.length,at=W.length,ut,wt;ot<j;){if(P>=at)return-1;if(ut=Y.charCodeAt(ot++),ut===37){if(ut=Y.charAt(ot++),wt=v[ut in $0?Y.charAt(ot++):ut],!wt||(P=wt(F,W,P))<0)return-1}else if(ut!=W.charCodeAt(P++))return-1}return P}function S(F,Y,W){var P=f.exec(Y.slice(W));return P?(F.p=s.get(P[0].toLowerCase()),W+P[0].length):-1}function T(F,Y,W){var P=d.exec(Y.slice(W));return P?(F.w=p.get(P[0].toLowerCase()),W+P[0].length):-1}function $(F,Y,W){var P=h.exec(Y.slice(W));return P?(F.w=l.get(P[0].toLowerCase()),W+P[0].length):-1}function E(F,Y,W){var P=y.exec(Y.slice(W));return P?(F.m=m.get(P[0].toLowerCase()),W+P[0].length):-1}function L(F,Y,W){var P=g.exec(Y.slice(W));return P?(F.m=b.get(P[0].toLowerCase()),W+P[0].length):-1}function k(F,Y,W){return A(F,n,Y,W)}function C(F,Y,W){return A(F,e,Y,W)}function N(F,Y,W){return A(F,r,Y,W)}function R(F){return a[F.getDay()]}function z(F){return o[F.getDay()]}function O(F){return u[F.getMonth()]}function I(F){return c[F.getMonth()]}function D(F){return i[+(F.getHours()>=12)]}function B(F){return 1+~~(F.getMonth()/3)}function U(F){return a[F.getUTCDay()]}function Q(F){return o[F.getUTCDay()]}function tt(F){return u[F.getUTCMonth()]}function H(F){return c[F.getUTCMonth()]}function q(F){return i[+(F.getUTCHours()>=12)]}function X(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var Y=x(F+="",_);return Y.toString=function(){return F},Y},parse:function(F){var Y=M(F+="",!1);return Y.toString=function(){return F},Y},utcFormat:function(F){var Y=x(F+="",w);return Y.toString=function(){return F},Y},utcParse:function(F){var Y=M(F+="",!0);return Y.toString=function(){return F},Y}}}var $0={"-":"",_:" ",0:"0"},It=/^\s*\d+/,H8=/^%/,G8=/[\\^$*+?|[\]().{}]/g;function st(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function V8(t){return t.replace(G8,"\\$&")}function zi(t){return new RegExp("^(?:"+t.map(V8).join("|")+")","i")}function Di(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function j8(t,n,e){var r=It.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Z8(t,n,e){var r=It.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function K8(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function J8(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Q8(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function S0(t,n,e){var r=It.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function A0(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function t7(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function n7(t,n,e){var r=It.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function e7(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function T0(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function r7(t,n,e){var r=It.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function C0(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function i7(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function o7(t,n,e){var r=It.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function a7(t,n,e){var r=It.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function c7(t,n,e){var r=It.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function u7(t,n,e){var r=H8.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function f7(t,n,e){var r=It.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function s7(t,n,e){var r=It.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function E0(t,n){return st(t.getDate(),n,2)}function l7(t,n){return st(t.getHours(),n,2)}function h7(t,n){return st(t.getHours()%12||12,n,2)}function d7(t,n){return st(1+$r.count(Tn(t),t),n,3)}function nm(t,n){return st(t.getMilliseconds(),n,3)}function p7(t,n){return nm(t,n)+"000"}function g7(t,n){return st(t.getMonth()+1,n,2)}function m7(t,n){return st(t.getMinutes(),n,2)}function y7(t,n){return st(t.getSeconds(),n,2)}function b7(t){var n=t.getDay();return n===0?7:n}function w7(t,n){return st(ai.count(Tn(t)-1,t),n,2)}function em(t){var n=t.getDay();return n>=4||n===0?vr(t):vr.ceil(t)}function _7(t,n){return t=em(t),st(vr.count(Tn(t),t)+(Tn(t).getDay()===4),n,2)}function x7(t){return t.getDay()}function v7(t,n){return st(bo.count(Tn(t)-1,t),n,2)}function M7(t,n){return st(t.getFullYear()%100,n,2)}function $7(t,n){return t=em(t),st(t.getFullYear()%100,n,2)}function S7(t,n){return st(t.getFullYear()%1e4,n,4)}function A7(t,n){var e=t.getDay();return t=e>=4||e===0?vr(t):vr.ceil(t),st(t.getFullYear()%1e4,n,4)}function T7(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+st(n/60|0,"0",2)+st(n%60,"0",2)}function k0(t,n){return st(t.getUTCDate(),n,2)}function C7(t,n){return st(t.getUTCHours(),n,2)}function E7(t,n){return st(t.getUTCHours()%12||12,n,2)}function k7(t,n){return st(1+hu.count(yn(t),t),n,3)}function rm(t,n){return st(t.getUTCMilliseconds(),n,3)}function N7(t,n){return rm(t,n)+"000"}function L7(t,n){return st(t.getUTCMonth()+1,n,2)}function R7(t,n){return st(t.getUTCMinutes(),n,2)}function P7(t,n){return st(t.getUTCSeconds(),n,2)}function F7(t){var n=t.getUTCDay();return n===0?7:n}function I7(t,n){return st(ci.count(yn(t)-1,t),n,2)}function im(t){var n=t.getUTCDay();return n>=4||n===0?Mr(t):Mr.ceil(t)}function z7(t,n){return t=im(t),st(Mr.count(yn(t),t)+(yn(t).getUTCDay()===4),n,2)}function D7(t){return t.getUTCDay()}function O7(t,n){return st(wo.count(yn(t)-1,t),n,2)}function B7(t,n){return st(t.getUTCFullYear()%100,n,2)}function U7(t,n){return t=im(t),st(t.getUTCFullYear()%100,n,2)}function Y7(t,n){return st(t.getUTCFullYear()%1e4,n,4)}function q7(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Mr(t):Mr.ceil(t),st(t.getUTCFullYear()%1e4,n,4)}function X7(){return"+0000"}function N0(){return"%"}function L0(t){return+t}function R0(t){return Math.floor(+t/1e3)}var Fr,Dl,Go;W7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W7(t){return Fr=W8(t),Dl=Fr.format,Fr.parse,Go=Fr.utcFormat,Fr.utcParse,Fr}function H7(t){return new Date(t)}function G7(t){return t instanceof Date?+t:+new Date(+t)}function Ol(t,n,e,r,i,o,a,c,u,f){var s=Pg(),h=s.invert,l=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),b=f("%I %p"),y=f("%a %d"),m=f("%b %d"),_=f("%B"),w=f("%Y");function v(x){return(u(x)<x?d:c(x)<x?p:a(x)<x?g:o(x)<x?b:r(x)<x?i(x)<x?y:m:e(x)<x?_:w)(x)}return s.invert=function(x){return new Date(h(x))},s.domain=function(x){return arguments.length?l(Array.from(x,G7)):l().map(H7)},s.ticks=function(x){var M=l();return t(M[0],M[M.length-1],x??10)},s.tickFormat=function(x,M){return M==null?v:f(M)},s.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=n(M[0],M[M.length-1],x??10)),x?l(Ig(M,x)):s},s.copy=function(){return Oo(s,Ol(t,n,e,r,i,o,a,c,u,f))},s}function V7(){return Zn.apply(Ol(q8,X8,Tn,Wo,ai,$r,qo,Uo,$n,Dl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j7(){return Zn.apply(Ol(Y8,tm,yn,Ho,ci,hu,Xo,Yo,$n,Go).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pu(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gu(){var t=0,n=.5,e=1,r=1,i,o,a,c,u,f=gn,s,h=!1,l;function d(g){return isNaN(g=+g)?l:(g=.5+((g=+s(g))-o)*(r*g<r*o?c:u),f(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=s(t=+t),o=s(n=+n),a=s(e=+e),c=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(f=g,d):f};function p(g){return function(b){var y,m,_;return arguments.length?([y,m,_]=b,f=iu(g,[y,m,_]),d):[f(0),f(.5),f(1)]}}return d.range=p(Fo),d.rangeRound=p(vl),d.unknown=function(g){return arguments.length?(l=g,d):l},function(g){return s=g,i=g(t),o=g(n),a=g(e),c=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function om(){var t=Bo(gu()(gn));return t.copy=function(){return pu(t,om())},fu.apply(t,arguments)}function am(){var t=zg(gu()).domain([.1,1,10]);return t.copy=function(){return pu(t,am()).base(t.base())},fu.apply(t,arguments)}function cm(){var t=Og(gu());return t.copy=function(){return pu(t,cm()).constant(t.constant())},fu.apply(t,arguments)}function um(){var t=Ug(gu());return t.copy=function(){return pu(t,um()).exponent(t.exponent())},fu.apply(t,arguments)}function nt(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const Z7=nt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),K7=nt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),J7=nt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Q7=nt("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),t9=nt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),n9=nt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),e9=nt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),r9=nt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),i9=nt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),o9=nt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),a9=nt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),pt=t=>M3(t[t.length-1]);var fm=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(nt);const sm=pt(fm);var lm=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(nt);const hm=pt(lm);var dm=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(nt);const pm=pt(dm);var gm=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(nt);const mm=pt(gm);var Rs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(nt);const $c=pt(Rs);var ym=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(nt);const bm=pt(ym);var Ps=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(nt);const Sc=pt(Ps);var wm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(nt);const _m=pt(wm);var xm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(nt);const vm=pt(xm);var Mm=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(nt);const $m=pt(Mm);var Sm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(nt);const Am=pt(Sm);var Tm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(nt);const Cm=pt(Tm);var Em=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(nt);const km=pt(Em);var Nm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(nt);const Lm=pt(Nm);var Rm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(nt);const Pm=pt(Rm);var Fm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(nt);const Im=pt(Fm);var zm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(nt);const Dm=pt(zm);var Om=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(nt);const Bm=pt(Om);var Um=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(nt);const Ym=pt(Um);var qm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(nt);const Xm=pt(qm);var Wm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(nt);const Hm=pt(Wm);var Gm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(nt);const Vm=pt(Gm);var jm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(nt);const Zm=pt(jm);var Km=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(nt);const Jm=pt(Km);var Qm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(nt);const t2=pt(Qm);var n2=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(nt);const e2=pt(n2);var r2=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(nt);const i2=pt(r2);function o2(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const a2=Ml(Xn(300,.5,0),Xn(-240,.5,1));var c2=Ml(Xn(-100,.75,.35),Xn(80,1.5,.8)),u2=Ml(Xn(260,.75,.35),Xn(80,1.5,.8)),va=Xn();function f2(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return va.h=360*t-100,va.s=1.5-1.5*n,va.l=.8-.9*n,va+""}var Ma=qn(),c9=Math.PI/3,u9=Math.PI*2/3;function s2(t){var n;return t=(.5-t)*Math.PI,Ma.r=255*(n=Math.sin(t))*n,Ma.g=255*(n=Math.sin(t+c9))*n,Ma.b=255*(n=Math.sin(t+u9))*n,Ma+""}function l2(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function mu(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const h2=mu(nt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var d2=mu(nt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),p2=mu(nt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),g2=mu(nt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Lt(t){return function(){return t}}const m2=Math.cos,Bl=Math.min,Ac=Math.sin,kt=Math.sqrt,P0=1e-12,Tc=Math.PI,yu=2*Tc;function y2(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Xp(n)}function b2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w2(t){this._context=t}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Vo(t){return new w2(t)}function _2(t){return t[0]}function x2(t){return t[1]}function v2(t,n){var e=Lt(!0),r=null,i=Vo,o=null,a=y2(c);t=typeof t=="function"?t:t===void 0?_2:Lt(t),n=typeof n=="function"?n:n===void 0?x2:Lt(n);function c(u){var f,s=(u=b2(u)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),f=0;f<=s;++f)!(f<s&&e(h=u[f],f,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,f,u),+n(h,f,u));if(d)return o=null,d+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Lt(+u),c):t},c.y=function(u){return arguments.length?(n=typeof u=="function"?u:Lt(+u),c):n},c.defined=function(u){return arguments.length?(e=typeof u=="function"?u:Lt(!!u),c):e},c.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),c):r},c}function Ul(t,n,e){var r=null,i=Lt(!0),o=null,a=Vo,c=null,u=y2(f);t=typeof t=="function"?t:t===void 0?_2:Lt(+t),n=typeof n=="function"?n:Lt(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?x2:Lt(+e);function f(h){var l,d,p,g=(h=b2(h)).length,b,y=!1,m,_=new Array(g),w=new Array(g);for(o==null&&(c=a(m=u())),l=0;l<=g;++l){if(!(l<g&&i(b=h[l],l,h))===y)if(y=!y)d=l,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=l-1;p>=d;--p)c.point(_[p],w[p]);c.lineEnd(),c.areaEnd()}y&&(_[l]=+t(b,l,h),w[l]=+n(b,l,h),c.point(r?+r(b,l,h):_[l],e?+e(b,l,h):w[l]))}if(m)return c=null,m+""||null}function s(){return v2().defined(i).curve(a).context(o)}return f.x=function(h){return arguments.length?(t=typeof h=="function"?h:Lt(+h),r=null,f):t},f.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Lt(+h),f):t},f.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Lt(+h),f):r},f.y=function(h){return arguments.length?(n=typeof h=="function"?h:Lt(+h),e=null,f):n},f.y0=function(h){return arguments.length?(n=typeof h=="function"?h:Lt(+h),f):n},f.y1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:Lt(+h),f):e},f.lineX0=f.lineY0=function(){return s().x(t).y(n)},f.lineY1=function(){return s().x(t).y(e)},f.lineX1=function(){return s().x(r).y(n)},f.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Lt(!!h),f):i},f.curve=function(h){return arguments.length?(a=h,o!=null&&(c=a(o)),f):a},f.context=function(h){return arguments.length?(h==null?o=c=null:c=a(o=h),f):o},f}class M2{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function f9(t){return new M2(t,!0)}function s9(t){return new M2(t,!1)}const l9=kt(3),$2={draw(t,n){const e=kt(n+Bl(n/28,.75))*.59436,r=e/2,i=r*l9;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},_o={draw(t,n){const e=kt(n/Tc);t.moveTo(e,0),t.arc(0,0,e,0,yu)}},S2={draw(t,n){const e=kt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},A2=kt(1/3),h9=A2*2,T2={draw(t,n){const e=kt(n/h9),r=e*A2;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},C2={draw(t,n){const e=kt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},E2={draw(t,n){const e=kt(n-Bl(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},k2={draw(t,n){const e=kt(n),r=-e/2;t.rect(r,r,e,e)}},N2={draw(t,n){const e=kt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},d9=.8908130915292852,L2=Ac(Tc/10)/Ac(7*Tc/10),p9=Ac(yu/10)*L2,g9=-m2(yu/10)*L2,R2={draw(t,n){const e=kt(n*d9),r=p9*e,i=g9*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=yu*o/5,c=m2(a),u=Ac(a);t.lineTo(u*e,-c*e),t.lineTo(c*r-u*i,u*r+c*i)}t.closePath()}},Af=kt(3),P2={draw(t,n){const e=-kt(n/(Af*3));t.moveTo(0,e*2),t.lineTo(-Af*e,-e),t.lineTo(Af*e,-e),t.closePath()}},m9=kt(3),F2={draw(t,n){const e=kt(n)*.6824,r=e/2,i=e*m9/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},sn=-.5,ln=kt(3)/2,Fs=1/kt(12),y9=(Fs/2+1)*3,I2={draw(t,n){const e=kt(n/y9),r=e/2,i=e*Fs,o=r,a=e*Fs+e,c=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(c,u),t.lineTo(sn*r-ln*i,ln*r+sn*i),t.lineTo(sn*o-ln*a,ln*o+sn*a),t.lineTo(sn*c-ln*u,ln*c+sn*u),t.lineTo(sn*r+ln*i,sn*i-ln*r),t.lineTo(sn*o+ln*a,sn*a-ln*o),t.lineTo(sn*c+ln*u,sn*u-ln*c),t.closePath()}},z2={draw(t,n){const e=kt(n-Bl(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},b9=[_o,S2,T2,k2,R2,P2,I2],w9=[_o,E2,z2,F2,$2,N2,C2];function Xe(){}function Cc(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function bu(t){this._context=t}bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cc(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function _9(t){return new bu(t)}function D2(t){this._context=t}D2.prototype={areaStart:Xe,areaEnd:Xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Cc(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function x9(t){return new D2(t)}function O2(t){this._context=t}O2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Cc(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function v9(t){return new O2(t)}function B2(t,n){this._basis=new bu(t),this._beta=n}B2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,c=-1,u;++c<=e;)u=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(r+u*o),this._beta*n[c]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const M9=function t(n){function e(r){return n===1?new bu(r):new B2(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function Ec(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Yl(t,n){this._context=t,this._k=(1-n)/6}Yl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ec(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ec(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const $9=function t(n){function e(r){return new Yl(r,n)}return e.tension=function(r){return t(+r)},e}(0);function ql(t,n){this._context=t,this._k=(1-n)/6}ql.prototype={areaStart:Xe,areaEnd:Xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ec(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const S9=function t(n){function e(r){return new ql(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Xl(t,n){this._context=t,this._k=(1-n)/6}Xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ec(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const A9=function t(n){function e(r){return new Xl(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Wl(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>P0){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>P0){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,a=(a*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function U2(t,n){this._context=t,this._alpha=n}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Wl(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const T9=function t(n){function e(r){return n?new U2(r,n):new Yl(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function Y2(t,n){this._context=t,this._alpha=n}Y2.prototype={areaStart:Xe,areaEnd:Xe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Wl(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const C9=function t(n){function e(r){return n?new Y2(r,n):new ql(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function q2(t,n){this._context=t,this._alpha=n}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wl(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const E9=function t(n){function e(r){return n?new q2(r,n):new Xl(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function X2(t){this._context=t}X2.prototype={areaStart:Xe,areaEnd:Xe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function k9(t){return new X2(t)}function F0(t){return t<0?-1:1}function I0(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),c=(o*i+a*r)/(r+i);return(F0(o)+F0(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(c))||0}function z0(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Tf(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*n,o-c,a-c*e,o,a)}function kc(t){this._context=t}kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tf(this,this._t0,z0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Tf(this,z0(this,e=I0(this,t,n)),e);break;default:Tf(this,this._t0,e=I0(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function W2(t){this._context=new H2(t)}(W2.prototype=Object.create(kc.prototype)).point=function(t,n){kc.prototype.point.call(this,n,t)};function H2(t){this._context=t}H2.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function N9(t){return new kc(t)}function L9(t){return new W2(t)}function G2(t){this._context=t}G2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=D0(t),i=D0(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function D0(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function R9(t){return new G2(t)}function wu(t,n){this._context=t,this._t=n}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function P9(t){return new wu(t,.5)}function F9(t){return new wu(t,0)}function I9(t){return new wu(t,1)}function Ji(t,n,e){this.k=t,this.x=n,this.y=e}Ji.prototype={constructor:Ji,scale:function(t){return t===1?this:new Ji(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ji(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ji.prototype;function Bt(t){return t!=null&&!Number.isNaN(t)}function bn(t,n){return+Bt(n)-+Bt(t)||vt(t,n)}function Nc(t,n){return+Bt(n)-+Bt(t)||gr(t,n)}function Hl(t){return t!=null&&`${t}`!=""}function Lc(t){return isFinite(t)?t:NaN}function me(t){return t>0&&isFinite(t)?t:NaN}function _u(t){return t<0&&isFinite(t)?t:NaN}function z9(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${D9(t.getUTCFullYear())}-${ce(t.getUTCMonth()+1,2)}-${ce(t.getUTCDate(),2)}${e||r||i||o?`T${ce(e,2)}:${ce(r,2)}${i||o?`:${ce(i,2)}${o?`.${ce(o,3)}`:""}`:""}Z`:""}`}function D9(t){return t<0?`-${ce(-t,6)}`:t>9999?`+${ce(t,6)}`:ce(t,4)}function ce(t,n){return`${t}`.padStart(n,"0")}const O9=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function V2(t,n){return O9.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function ui(t){if(t==null)return;const n=t[0],e=t[t.length-1];return gr(n,e)}const qr=1e3,ze=qr*60,De=ze*60,Wn=De*24,Rn=Wn*7,sr=Wn*30,Le=Wn*365,Cf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",qr],["5 seconds",5*qr],["15 seconds",15*qr],["30 seconds",30*qr],["minute",ze],["5 minutes",5*ze],["15 minutes",15*ze],["30 minutes",30*ze],["hour",De],["3 hours",3*De],["6 hours",6*De],["12 hours",12*De],["day",Wn],["2 days",2*Wn],["week",Rn],["2 weeks",2*Rn],["month",sr],["3 months",3*sr],["6 months",6*sr],["year",Le],["2 years",2*Le],["5 years",5*Le],["10 years",10*Le],["20 years",20*Le],["50 years",50*Le],["100 years",100*Le]],Gl=new Map([["second",qr],["minute",ze],["hour",De],["day",Wn],["monday",Rn],["tuesday",Rn],["wednesday",Rn],["thursday",Rn],["friday",Rn],["saturday",Rn],["sunday",Rn],["week",Rn],["month",sr],["year",Le]]),j2=new Map([["second",$n],["minute",Uo],["hour",qo],["day",$r],["monday",bo],["tuesday",Wg],["wednesday",Hg],["thursday",vr],["friday",Gg],["saturday",Vg],["sunday",ai],["week",ai],["month",Wo],["year",Tn]]),Vl=new Map([["second",$n],["minute",Yo],["hour",Xo],["day",du],["monday",wo],["tuesday",jg],["wednesday",Zg],["thursday",Mr],["friday",Kg],["saturday",Jg],["sunday",ci],["week",ci],["month",Ho],["year",yn]]),jo=Symbol("intervalDuration"),xu=Symbol("intervalType");for(const[t,n]of j2)n[jo]=Gl.get(t),n[xu]="time";for(const[t,n]of Vl)n[jo]=Gl.get(t),n[xu]="utc";const Qi=[["year",yn,"utc"],["month",Ho,"utc"],["day",du,"utc",6*sr],["hour",Xo,"utc",3*Wn],["minute",Yo,"utc",6*De],["second",$n,"utc",30*ze]],Ya=[["year",Tn,"time"],["month",Wo,"time"],["day",$r,"time",6*sr],["hour",qo,"time",3*Wn],["minute",Uo,"time",6*De],["second",$n,"time",30*ze]],B9=[Qi[0],Ya[0],Qi[1],Ya[1],Qi[2],Ya[2],...Qi.slice(3)];function jl(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Vl.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Zl(t){return Z2(jl(t),"time")}function vu(t){return Z2(jl(t),"utc")}function Z2([t,n],e){let r=(e==="time"?j2:Vl).get(t);return n>1&&(r=r.every(n),r[jo]=Gl.get(t)*n,r[xu]=e),r}function O0(t,n){if(!(n>1))return;const e=t[jo];if(!Cf.some(([,i])=>i===e)||e%Wn===0&&Wn<e&&e<sr)return;const[r]=Cf[Zc(([,i])=>Math.log(i)).center(Cf,Math.log(e*n))];return(t[xu]==="time"?Zl:vu)(r)}function B0(t,n,e){const r=n==="time"?Dl:Go;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=U9(e);switch(t){case"millisecond":return Ir(r(".%L"),r(":%M:%S"),i);case"second":return Ir(r(":%S"),r("%-I:%M"),i);case"minute":return Ir(r("%-I:%M"),r("%p"),i);case"hour":return Ir(r("%-I %p"),r("%b %-d"),i);case"day":return Ir(r("%-d"),r("%b"),i);case"month":return Ir(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function U9(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function Y9(t){return t==="time"?Ya:t==="utc"?Qi:B9}function q9(t,n,e){const r=Pt(l6(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return B0("millisecond","utc",e);for(const[i,o,a,c]of Y9(t)){if(r>c||i==="hour"&&!r)break;if(n.every(u=>o.floor(u)>=u))return B0(i,a,e)}}function Ir(t,n,e){return(r,i,o)=>{const a=t(r,i),c=n(r,i),u=i-ui(o);return i!==u&&o[u]!==void 0&&c===n(o[u],u)?a:e(a,c)}}const Mu=Object.getPrototypeOf(Uint8Array),X9=Object.prototype.toString;function Te(t){return t instanceof Array||t instanceof Mu}function K2(t){return t instanceof Mu&&!W9(t)}function J2(t){return(t==null?void 0:t.prototype)instanceof Mu&&!H9(t)}function W9(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function H9(t){return t===BigInt64Array||t===BigUint64Array}const Q2=Symbol("reindex");function rt(t,n,e){const r=typeof n;return r==="string"?hy(t)?Kl(t.getChild(n),e):U0(t,ty(n),e):r==="function"?U0(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,Dt(n),e):typeof(n==null?void 0:n.transform)=="function"?Is(n.transform(t),e):G9(Is(n,e),t==null?void 0:t[Q2])}function G9(t,n){return t!=null&&n?Su(t,n):t}function U0(t,n,e){return dt(t,J2(e)?(r,i)=>th(n(r,i)):n,e)}function Is(t,n){return n===void 0?Me(t):dy(t)?Kl(t,n):t instanceof n?t:n.from(t,J2(n)&&!K2(t)?th:void 0)}function Kl(t,n){return t==null?t:(n===void 0||n===Array)&&cM(t.type)?ny(t.toArray()):Is(t.toArray(),n)}const io=[null],ty=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},Ft={transform:Ce},V={transform:t=>t},Jl=()=>1,V9=()=>!0,qt=t=>t==null?t:`${t}`,yt=t=>t==null?t:+t,$u=t=>t?t[0]:void 0,xo=t=>t?t[1]:void 0,j9=t=>t?t[2]:void 0,Dt=t=>()=>t;function Ql(t){const n=+`${t}`.slice(1)/100;return(e,r)=>qe(e,n,r)}function nn(t){return K2(t)?t:dt(t,th,Float64Array)}function th(t){return t==null?NaN:Number(t)}function ny(t){return dt(t,ey)}function ey(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?V2(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Kt(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:Zo(t)?[void 0,t]:[t,void 0]}function At(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function ry(t,n,e){if(t!=null)return fn(t,n,e)}function fn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function fi(t){return hy(t)?t:Me(t)}function Me(t){if(t==null||Te(t))return t;if(dy(t))return Kl(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function vo(t,n=Array){return t instanceof n?t.slice():n.from(t)}function iy({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function oy({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function xi(t){return iy(t)||oy(t)||t.interval!==void 0}function _n(t){return(t==null?void 0:t.toString)===X9}function lr(t){return _n(t)&&(t.type!==void 0||t.domain!==void 0)}function Pn(t){return _n(t)&&typeof t.transform!="function"}function We(t){return Pn(t)&&t.value===void 0&&t.channel===void 0}function ay(t,n,e,r=V){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function En(t,n){return t===void 0&&n===void 0?[$u,xo]:[t,n]}function Ke({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=Kt(n)),t===void 0&&([t]=Kt(e)),t}function Mo(t){return Te(t)?t.length:t==null?void 0:t.numRows}function Ce(t){const n=Mo(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Su(t,n){return Te(t)?dt(n,e=>t[e],t.constructor):dt(n,e=>t.at(e))}function nh(t){return t.length===1?(n,e)=>t(Su(e,n)):t}function hr(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function de(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cy(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function an(t){let n;return[{transform:()=>n,label:Kn(t)},e=>n=e]}function tn(t){return t==null?[t]:an(t)}function Kn(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Rc(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Jt(r)||Jt(i)?dt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):dt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Pc(t,n){const e=uy(n==null?void 0:n.interval,n==null?void 0:n.type);return e?dt(t,e):t}function uy(t,n){const e=Au(t,n);return e&&(r=>Bt(r)?e.floor(r):r)}function Au(t,n){if(t!=null){if(typeof t=="number")return fy(t);if(typeof t=="string")return(n==="time"?Zl:vu)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function fy(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>dn(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>dn(Math.ceil(e/n),r/n).map(i=>i*n)}}function vi(t,n){if(t=Au(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Z9(t,n){if(t=vi(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function K9(t){return Xr(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Xr(t){return typeof(t==null?void 0:t.range)=="function"}function Mi(t){return t===void 0||Pn(t)?t:{value:t}}function J9(t){return t==null?null:{transform:n=>rt(n,t,Float64Array),label:Kn(t)}}function Q9(t){if(!Ee(t))return!1;for(const n of t)if(n!=null)return typeof n=="object"&&"0"in n&&"1"in n}function Ee(t){return t&&typeof t[Symbol.iterator]=="function"}function sy(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Mt(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Jt(t){for(const n of t)if(n!=null)return n instanceof Date}function tM(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&V2(n)}function nM(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Wr(t){for(const n of t)if(n!=null)return typeof n=="number"}function Ef(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const eM=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Zo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||eM.has(t))}function rM(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function _t(t){return t==null||si(t)}function si(t){return/^\s*none\s*$/i.test(t)}function iM(t){return/^\s*round\s*$/i.test(t)}function zs(t,n){return ry(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ko(t="middle"){return zs(t,"frameAnchor")}function oM(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function aM(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function eh(t){return Ee(t)?aM(t):t}function ly(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=fn(t,"clip",["frame","sphere"])),t}function hy(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function dy(t){return t&&typeof t.toArray=="function"&&t.type}function cM(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const Dn=Symbol("position"),ke=Symbol("color"),Jo=Symbol("radius"),Qo=Symbol("length"),ta=Symbol("opacity"),Tu=Symbol("symbol"),py=Symbol("projection"),xt=new Map([["x",Dn],["y",Dn],["fx",Dn],["fy",Dn],["r",Jo],["color",ke],["opacity",ta],["symbol",Tu],["length",Qo],["projection",py]]);function uM(t){return t===Dn||t===py}function fM(t){return t===Dn||t===Jo||t===Qo||t===ta}const gy=Math.sqrt(3),my=2/gy,sM={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*my,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},rh=new Map([["asterisk",$2],["circle",_o],["cross",S2],["diamond",T2],["diamond2",C2],["hexagon",sM],["plus",E2],["square",k2],["square2",N2],["star",R2],["times",z2],["triangle",P2],["triangle2",F2],["wye",I2]]);function ih(t){return t&&typeof t.draw=="function"}function lM(t){return ih(t)?!0:typeof t!="string"?!1:rh.has(t.toLowerCase())}function oh(t){if(t==null||ih(t))return t;const n=rh.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function hM(t){if(t==null||ih(t))return[void 0,t];if(typeof t=="string"){const n=rh.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function kn({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=ah(t)),n!=null&&!We(n)&&(r=kf(r,uh(n))),e&&(r=kf(r,ch))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||We(n))&&{sort:n},transform:kf(r,a)}}function Qt({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=ah(t)),n!=null&&!We(n)&&(r=Nf(r,uh(n))),e&&(r=Nf(r,ch))),{...i,...(n===null||We(n))&&{sort:n},initializer:Nf(r,o)}}function kf(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,fi(e),r,i)}}function Nf(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,c,u,f,s,h;return{data:c=e,facets:u=r,channels:a}=t.call(this,e,r,i,...o),{data:s=c,facets:h=u,channels:f}=n.call(this,c,u,{...i,...a},...o),{data:s,facets:h,channels:{...a,...f}}}}function Cu(t,n){return(t.initializer!=null?Qt:kn)(t,n)}function dM(t,n){return Cu(n,ah(t))}function ah(t){return(n,e)=>{const r=rt(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function pM({sort:t,...n}={}){return{...Cu(n,ch),sort:We(t)?t:null}}function ch(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function gM({seed:t,sort:n,...e}={}){return{...Cu(e,by(t==null?Math.random:Pl(t))),sort:We(n)?n:null}}function yy(t,{sort:n,...e}={}){return{...(Pn(t)&&t.channel!==void 0?Qt:Cu)(e,uh(t)),sort:We(n)?n:null}}function uh(t){return(typeof t=="function"&&t.length!==1?mM:by)(t)}function mM(t){return(n,e)=>{const r=Te(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function by(t){let n,e;({channel:n,value:t,order:e}={...Mi(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Nc:bn),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=bn;break;case"descending":e=Nc;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let c;if(n===void 0)c=rt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(c=a[n],!c)return{};c=c.value}const u=(f,s)=>e(c[f],c[s]);return{data:i,facets:o.map(f=>f.slice().sort(u))}}}function fh(t,n){return Eu(null,null,t,n)}function $o(t={y:"count"},n={}){const{x:e=V}=n;if(e==null)throw new Error("missing channel: x");return Eu(e,null,t,n)}function So(t={x:"count"},n={}){const{y:e=V}=n;if(e==null)throw new Error("missing channel: y");return Eu(null,e,t,n)}function sh(t={fill:"count"},n={}){let{x:e,y:r}=n;if([e,r]=En(e,r),e==null)throw new Error("missing channel: x");if(r==null)throw new Error("missing channel: y");return Eu(e,r,t,n)}function Eu(t,n,{data:e=ph,filter:r,sort:i,reverse:o,...a}={},c={}){a=_y(a,c),e=My(e,V),i=i==null?void 0:xy("sort",i,c),r=r==null?void 0:vy("filter",r,c);const[u,f]=tn(t),[s,h]=tn(n),{z:l,fill:d,stroke:p,x1:g,x2:b,y1:y,y2:m,..._}=c,[w,v]=tn(l),[x]=Kt(d),[M]=Kt(p),[A,S]=tn(x),[T,$]=tn(M);return{..."z"in c&&{z:w||l},..."fill"in c&&{fill:A||d},..."stroke"in c&&{stroke:T||p},...kn(_,(E,L,k)=>{const C=Pc(rt(E,t),k==null?void 0:k.x),N=Pc(rt(E,n),k==null?void 0:k.y),R=rt(E,l),z=rt(E,x),O=rt(E,M),I=dh(a,{z:R,fill:z,stroke:O}),D=[],B=[],U=C&&f([]),Q=N&&h([]),tt=R&&v([]),H=z&&S([]),q=O&&$([]);let X=0;for(const F of a)F.initialize(E);i&&i.initialize(E),r&&r.initialize(E);for(const F of L){const Y=[];for(const W of a)W.scope("facet",F);i&&i.scope("facet",F),r&&r.scope("facet",F);for(const[W,P]of dr(F,I))for(const[ot,j]of dr(P,N))for(const[at,ut]of dr(j,C)){const wt={data:E};if(C&&(wt.x=at),N&&(wt.y=ot),I&&(wt.z=W),!(r&&!r.reduce(ut,wt))){Y.push(X++),B.push(e.reduceIndex(ut,E,wt)),C&&U.push(at),N&&Q.push(ot),R&&tt.push(I===R?W:R[ut[0]]),z&&H.push(I===z?W:z[ut[0]]),O&&q.push(I===O?W:O[ut[0]]);for(const Nn of a)Nn.reduce(ut,wt);i&&i.reduce(ut,wt)}}D.push(Y)}return $y(D,i,o),{data:B,facets:D}}),...!Oe(a,"x")&&(u?{x:u}:{x1:g,x2:b}),...!Oe(a,"y")&&(s?{y:s}:{y1:y,y2:m}),...Object.fromEntries(a.map(({name:E,output:L})=>[E,L]))}}function Oe(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function wy(t,n,e=lh){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",vM]),n.href!=null&&t.href===void 0&&r.push(["href",gh]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?yM(i):e(i,o,n))}function lh(t,n,e,r=hh){let i;_n(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,c]=an(o.label);let u;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(f){o.initialize(f),u=c([])},scope(f,s){o.scope(f,s)},reduce(f,s){u.push(o.reduce(f,s))}}}function yM(t){return{name:t,initialize(){},scope(){},reduce(){}}}function hh(t,n,e,r=ku){const i=cy(t,e),o=r(n,i);let a,c;return{label:Kn(o===Fc?null:i,o.label),initialize(u){a=i===void 0?u:rt(u,i),o.scope==="data"&&(c=o.reduceIndex(Ce(u),a))},scope(u,f){o.scope===u&&(c=o.reduceIndex(f,a))},reduce(u,f){return o.scope==null?o.reduceIndex(u,a,f):o.reduceIndex(u,a,c,f)}}}function dr(t,n){return n?Ge(t,e=>n[e]):[[,t]]}function ku(t,n,e=bM){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&_n(t))return _M(t);if(typeof t=="function")return xM(t);if(/^p\d{2}$/i.test(t))return oe(Ql(t));switch(`${t}`.toLowerCase()){case"first":return gh;case"last":return MM;case"identity":return ph;case"count":return Fc;case"distinct":return $M;case"sum":return n==null?Fc:SM;case"proportion":return q0(n,"data");case"proportion-facet":return q0(n,"facet");case"deviation":return oe(No);case"min":return oe(en);case"min-index":return oe(c6);case"max":return oe(Pt);case"max-index":return oe(a6);case"mean":return Y0(Qc);case"median":return Y0(so);case"variance":return oe(sl);case"mode":return oe(ap)}return e(t)}function bM(t){throw new Error(`invalid reduce: ${t}`)}function _y(t,n){return wy(t,n,xy)}function xy(t,n,e){return lh(t,n,e,vy)}function vy(t,n,e){return hh(t,n,e,My)}function My(t,n){return ku(t,n,wM)}function wM(t){switch(`${t}`.toLowerCase()){case"x":return AM;case"y":return TM;case"z":return Sy}throw new Error(`invalid group reduce: ${t}`)}function dh(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function $y(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>bn(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function _M(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function xM(t){return{reduceIndex(n,e,r){return t(Su(e,n),r)}}}function oe(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Y0(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Jt(e)?new Date(r):r}}}const ph={reduceIndex(t,n){return Su(n,t)}},gh={reduceIndex(t,n){return n[t[0]]}},vM={reduceIndex(t,n){const r=Xa(Vr(t,o=>o.length,o=>n[o]),xo),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`… ${o.length.toLocaleString("en-US")} more`,Yn(o,xo)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},MM={reduceIndex(t,n){return n[t[t.length-1]]}},Fc={label:"Frequency",reduceIndex(t){return t.length}},$M={label:"Distinct",reduceIndex(t,n){const e=new Lo;for(const r of t)e.add(n[r]);return e.size}},SM=oe(Yn);function q0(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Yn(e,o=>r[o])/i}}const AM={reduceIndex(t,n,{x:e}){return e}},TM={reduceIndex(t,n,{y:e}){return e}},Sy={reduceIndex(t,n,{z:e}){return e}};function CM(t){if(typeof t!="function")throw new Error(`invalid test function: ${t}`);return{reduceIndex(n,e,{data:r}){return e[n.find(Te(r)?i=>t(r[i],i,r):i=>t(r.get(i),i,r))]}}}function Ao(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Kn(r)},c){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Ty(c,{scale:n,type:e,value:rt(t,r),label:a,filter:i,hint:o})}function Ay(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Ao(n,r,e)]))}function mh(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:dt(o,a)]}));return e.channels=t,e}function Ty(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Ef(r,Zo)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Ef(r,rM)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Ef(r,lM)?(n.scale=null,n.value=dt(r,oh)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=xt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!xt.has(e))throw new Error(`unknown scale: ${e}`);return n}function EM(t,n,e,r,i){const{order:o,reverse:a,reduce:c=!0,limit:u}=i;for(const f in i){if(!xt.has(f))continue;let{value:s,order:h=o,reverse:l=a,reduce:d=c,limit:p=u}=Mi(i[f]);const g=s==null?void 0:s.startsWith("-");if(g&&(s=s.slice(1)),h=h===void 0?g!==(s==="width"||s==="height")?Ey:Cy:LM(h),d==null||d===!1)continue;const b=f==="fx"||f==="fy"?NM(n,r[f]):kM(e,f);if(!b)throw new Error(`missing channel for scale: ${f}`);const y=b.value,[m=0,_=1/0]=Ee(p)?p:p<0?[p]:[0,p];if(s==null)b.domain=()=>{let w=Array.from(new Lo(y));return l&&(w=w.reverse()),(m!==0||_!==1/0)&&(w=w.slice(m,_)),w};else{const w=s==="data"?t:s==="height"?X0(e,"y1","y2"):s==="width"?X0(e,"x1","x2"):Ds(e,s,s==="y"?"y2":s==="x"?"x2":void 0),v=ku(d===!0?"max":d,w);b.domain=()=>{let x=n6(Ce(y),M=>v.reduceIndex(M,w),M=>y[M]);return h&&x.sort(h),l&&x.reverse(),(m!==0||_!==1/0)&&(x=x.slice(m,_)),x.map($u)}}}}function kM(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function NM(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const c of t[o])i[c]=a}return n}function X0(t,n,e){const r=Ds(t,n),i=Ds(t,e);return dt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Ds(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function LM(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Cy;case"descending":return Ey}throw new Error(`invalid order: ${t}`)}function Cy([t,n],[e,r]){return bn(n,r)||bn(t,e)}function Ey([t,n],[e,r]){return Nc(n,r)||bn(t,e)}function Os(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const ky=new Map([["accent",K7],["category10",Z7],["dark2",J7],["observable10",Q7],["paired",t9],["pastel1",n9],["pastel2",e9],["set1",r9],["set2",i9],["set3",o9],["tableau10",a9]]);function RM(t){return t!=null&&ky.has(`${t}`.toLowerCase())}const W0=new Map([...ky,["brbg",ee(fm,sm)],["prgn",ee(lm,hm)],["piyg",ee(dm,pm)],["puor",ee(gm,mm)],["rdbu",ee(Rs,$c)],["rdgy",ee(ym,bm)],["rdylbu",ee(Ps,Sc)],["rdylgn",ee(wm,_m)],["spectral",ee(xm,vm)],["burd",H0(Rs,$c)],["buylrd",H0(Ps,Sc)],["blues",Nt(Gm,Vm)],["greens",Nt(jm,Zm)],["greys",Nt(Km,Jm)],["oranges",Nt(r2,i2)],["purples",Nt(Qm,t2)],["reds",Nt(n2,e2)],["turbo",re(l2)],["viridis",re(h2)],["magma",re(d2)],["inferno",re(p2)],["plasma",re(g2)],["cividis",re(o2)],["cubehelix",re(a2)],["warm",re(c2)],["cool",re(u2)],["bugn",Nt(Mm,$m)],["bupu",Nt(Sm,Am)],["gnbu",Nt(Tm,Cm)],["orrd",Nt(Em,km)],["pubu",Nt(Rm,Pm)],["pubugn",Nt(Nm,Lm)],["purd",Nt(Fm,Im)],["rdpu",Nt(zm,Dm)],["ylgn",Nt(Um,Ym)],["ylgnbu",Nt(Om,Bm)],["ylorbr",Nt(qm,Xm)],["ylorrd",Nt(Wm,Hm)],["rainbow",G0(f2)],["sinebow",G0(s2)]]);function Nt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Sn(n,e):t[e])}function ee(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Sn(n,e):t[e])}function H0(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Sn(r=>n(1-r),e):t[e].slice().reverse())}function re(t){return({length:n})=>Sn(t,Math.max(2,Math.floor(n)))}function G0(t){return({length:n})=>Sn(t,Math.floor(n)+1).slice(0,-1)}function Ny(t){const n=`${t}`.toLowerCase();if(!W0.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return W0.get(n)}function Nu(t,n){const e=Ny(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function PM(t,n="greys"){const e=new Set,[r,i]=Nu(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const V0=new Map([["brbg",sm],["prgn",hm],["piyg",pm],["puor",mm],["rdbu",$c],["rdgy",bm],["rdylbu",Sc],["rdylgn",_m],["spectral",vm],["burd",t=>$c(1-t)],["buylrd",t=>Sc(1-t)],["blues",Vm],["greens",Zm],["greys",Jm],["purples",t2],["reds",e2],["oranges",i2],["turbo",l2],["viridis",h2],["magma",d2],["inferno",p2],["plasma",g2],["cividis",o2],["cubehelix",a2],["warm",c2],["cool",u2],["bugn",$m],["bupu",Am],["gnbu",Cm],["orrd",km],["pubugn",Lm],["pubu",Pm],["purd",Im],["rdpu",Dm],["ylgnbu",Bm],["ylgn",Ym],["ylorbr",Xm],["ylorrd",Hm],["rainbow",f2],["sinebow",s2]]);function yh(t){const n=`${t}`.toLowerCase();if(!V0.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return V0.get(n)}const FM=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function IM(t){return t!=null&&FM.has(`${t}`.toLowerCase())}const Ly=t=>n=>t(1-n),Lf=[0,1],j0=new Map([["number",Yt],["rgb",wr],["hsl",I3],["hcl",O3],["lab",z3]]);function Ry(t){const n=`${t}`.toLowerCase();if(!j0.has(n))throw new Error(`unknown interpolator: ${n}`);return j0.get(n)}function na(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:c=Fy(t,e),unknown:u,round:f,scheme:s,interval:h,range:l=xt.get(t)===Jo?GM(e,c):xt.get(t)===Qo?VM(e,c):xt.get(t)===ta?Lf:void 0,interpolate:d=xt.get(t)===ke?s==null&&l!==void 0?wr:yh(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):f?vl:Yt,reverse:p}){if(h=vi(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Ry(d)),p=!!p,l!==void 0){const g=(c=Me(c)).length,b=(l=Me(l)).length;if(g!==b){if(d.length===1)throw new Error("invalid piecewise interpolator");d=iu(d,l),l=void 0}}if(d.length===1?(p&&(d=Ly(d),p=!1),l===void 0&&(l=Float64Array.from(c,(g,b)=>b/(c.length-1)),l.length===2&&(l=Lf)),n.interpolate((l===Lf?Dt:wh)(d))):n.interpolate(d),a){const[g,b]=Ct(c);(g>0||b<0)&&(c=vo(c),(ui(c)||1)===Math.sign(g)?c[0]=0:c[c.length-1]=0)}return p&&(c=Ha(c)),n.domain(c).unknown(u),i&&(n.nice(zM(i,r)),c=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:c,range:l,scale:n,interpolate:d,interval:h}}function zM(t,n){return t===!0?void 0:typeof t=="number"?t:Z9(t,n)}function DM(t,n,e){return na(t,Il(),n,e)}function OM(t,n,e){return Py(t,n,{...e,exponent:.5})}function Py(t,n,{exponent:e=1,...r}){return na(t,Yg().exponent(e),n,{...r,type:"pow"})}function BM(t,n,{base:e=10,domain:r=jM(n),...i}){return na(t,Dg().base(e),n,{...i,domain:r})}function UM(t,n,{constant:e=1,...r}){return na(t,Bg().constant(e),n,r)}function YM(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=ZM(n),unknown:c,interpolate:u,reverse:f}){return e===void 0&&(e=u!==void 0?Sn(u,i):xt.get(t)===ke?Nu(o,i):void 0),a.length>0&&(a=qg(a,e===void 0?{length:i}:e).quantiles()),bh(t,n,{domain:a,range:e,reverse:f,unknown:c})}function qM(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=Fy(t,n),unknown:a,interpolate:c,reverse:u}){const[f,s]=Ct(o);let h;return e===void 0?(h=Ye(f,s,r),h[0]<=f&&h.splice(0,1),h[h.length-1]>=s&&h.pop(),r=h.length+1,e=c!==void 0?Sn(c,r):xt.get(t)===ke?Nu(i,r):void 0):(h=Sn(Yt(f,s),r+1).slice(1,-1),f instanceof Date&&(h=h.map(l=>new Date(l)))),ui(Me(o))<0&&h.reverse(),bh(t,n,{domain:h,range:e,reverse:u,unknown:a})}function bh(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Sn(o,e.length+1):xt.get(t)===ke?Nu(i,e.length+1):void 0,reverse:c}){e=Me(e);const u=ui(e);if(!isNaN(u)&&!XM(e,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(a=Ha(a)),{type:"threshold",scale:Xg(u<0?Ha(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function XM(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=gr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function WM(t){return{type:"identity",scale:fM(xt.get(t))?Fg():n=>n}}function To(t,n=Lc){return t.length?[en(t,({value:e})=>e===void 0?e:en(e,n)),Pt(t,({value:e})=>e===void 0?e:Pt(e,n))]:[0,1]}function Fy(t,n){const e=xt.get(t);return(e===Jo||e===ta||e===Qo?HM:To)(n)}function HM(t){return[0,t.length?Pt(t,({value:n})=>n===void 0?n:Pt(n,Lc)):1]}function GM(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=qe(t,.5,({value:a})=>a===void 0?NaN:qe(a,.25,me)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/Pt(i);return o<1?i.map(a=>a*o):i}function VM(t,n){const e=so(t,({value:o})=>o===void 0?NaN:so(o,Math.abs)),r=n.map(o=>12*o/e),i=60/Pt(r);return i<1?r.map(o=>o*i):r}function jM(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return To(t,me);if(e<0)return To(t,_u)}return[1,10]}function ZM(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function wh(t){return(n,e)=>r=>t(n+r*(e-n))}let Bs=0,Us;function KM(){const t=Bs;return Bs=0,Us=void 0,t}function ye(t){t!==Us&&(Us=t,console.warn(t),++Bs)}function Lu(t,n,e,r,{type:i,nice:o,clamp:a,domain:c=To(r),unknown:u,pivot:f=0,scheme:s,range:h,symmetric:l=!0,interpolate:d=xt.get(t)===ke?s==null&&h!==void 0?wr:yh(s!==void 0?s:"rdbu"):Yt,reverse:p}){f=+f,c=Me(c);let[g,b]=c;if(c.length>2&&ye(`Warning: the diverging ${t} scale domain contains extra elements.`),gr(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,f),b=Math.max(b,f),typeof d!="function"&&(d=Ry(d)),h!==void 0&&(d=d.length===1?wh(d)(...h):iu(d,h)),p&&(d=Ly(d)),l){const y=e.apply(f),m=y-e.apply(g),_=e.apply(b)-y;m<_?g=e.invert(y-_):m>_&&(b=e.invert(y+m))}return n.domain([g,f,b]).unknown(u).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,b],pivot:f,interpolate:d,scale:n}}function JM(t,n,e){return Lu(t,om(),e$,n,e)}function QM(t,n,e){return Iy(t,n,{...e,exponent:.5})}function Iy(t,n,{exponent:e=1,...r}){return Lu(t,um().exponent(e=+e),o$(e),n,{...r,type:"diverging-pow"})}function t$(t,n,{base:e=10,pivot:r=1,domain:i=To(n,r<0?_u:me),...o}){return Lu(t,am().base(e=+e),r$,n,{domain:i,pivot:r,...o})}function n$(t,n,{constant:e=1,...r}){return Lu(t,cm().constant(e=+e),a$(e),n,r)}const e$={apply(t){return t},invert(t){return t}},r$={apply:Math.log,invert:Math.exp},i$={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function o$(t){return t===.5?i$:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function a$(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function zy(t,n,e,r){return na(t,n,e,r)}function c$(t,n,e){return zy(t,V7(),n,e)}function u$(t,n,e){return zy(t,j7(),n,e)}const ea=Symbol("ordinal");function Dy(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:c,hint:u}){return i=vi(i,r),o===void 0&&(o=By(e,i,t)),(r==="categorical"||r===ea)&&(r="ordinal"),c&&(o=Ha(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:u,interval:i}}function f$(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:c,...u}){r=vi(r,e),i===void 0&&(i=By(n,r,t));let f;if(xt.get(t)===Tu)f=h$(n),o=o===void 0?d$(f):dt(o,oh);else if(xt.get(t)===ke&&(o===void 0&&(e==="ordinal"||e===ea)&&(o=PM(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=yh(a),h=o[0],l=o[1]-o[0];o=({length:d})=>Sn(p=>s(h+l*p),d)}else o=Ny(a);if(c===ks)throw new Error(`implicit unknown on ${t} scale is not supported`);return Dy(t,Fl().unknown(c),n,{...u,type:e,domain:i,range:o,hint:f})}function s$(t,n,{align:e=.5,padding:r=.5,...i}){return Oy(E8().align(e).padding(r),n,i,t)}function l$(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return Oy(su().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function Oy(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=Dy(r,t,n,e),t.round=i,t}function By(t,n,e){const r=new Lo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Ct(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&xt.get(e)===Dn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Xa(r,bn)}function Z0(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function h$(t){return{fill:Z0(t,"fill"),stroke:Z0(t,"stroke")}}function d$(t){return _t(t.fill)?w9:b9}function Ys(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:c,nice:u,clamp:f,zero:s,align:h,padding:l,projection:d,facet:{label:p=n}={},...g}={}){const b={};for(const[y,m]of t){const _=g[y],w=Wy(y,m,{round:xt.get(y)===Dn?c:void 0,nice:u,clamp:f,zero:s,align:h,padding:l,projection:d,..._});if(w){let{label:v=y==="fx"||y==="fy"?p:n,percent:x,transform:M,inset:A,insetTop:S=A!==void 0?A:y==="y"?r:0,insetRight:T=A!==void 0?A:y==="x"?i:0,insetBottom:$=A!==void 0?A:y==="y"?o:0,insetLeft:E=A!==void 0?A:y==="x"?a:0}=_||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");w.percent=!!x,w.label=v===void 0?g$(m,w):v,w.transform=M,y==="x"||y==="fx"?(w.insetLeft=+E,w.insetRight=+T):(y==="y"||y==="fy")&&(w.insetTop=+S,w.insetBottom=+$),b[y]=w}}return b}function K0(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:c,label:u}=i;n[r]=Gy(i),e[r]=o,o.type=a,c!=null&&(o.interval=c),u!=null&&(o.label=u)}return e}function p$(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?_h(n):n;i&&J0(i,a),o&&Q0(o,a);const c=i||o?Yy(t,n):n;e&&J0(e,c),r&&Q0(r,c)}function g$(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!Tr(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Uy(t){return Math.sign(ui(t.domain()))*Math.sign(ui(t.range()))}function _h(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:c,marginRight:u,marginBottom:f,marginLeft:s}}=t;return{marginTop:Math.max(n,c),marginRight:Math.max(e,u),marginBottom:Math.max(r,f),marginLeft:Math.max(i,s),width:o,height:a}}function Yy({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:u}=_h(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:c,height:n?n.scale.bandwidth()+r+o:u,facet:{width:c,height:u}}}function J0(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,c=o+e,u=i-a-r;t.range=[c,Math.max(c,u)],Tr(t)||(t.range=Xy(t)),t.scale.range(t.range)}qy(t)}function Q0(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,c=o+e,u=i-a-r;t.range=[Math.max(c,u),c],Tr(t)?t.range.reverse():t.range=Xy(t),t.scale.range(t.range)}qy(t)}function qy(t){t.round===void 0&&b$(t)&&m$(t)<=30&&t.scale.round(!0)}function m$({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,c=Math.abs(r-e)/Math.max(1,a+o*2);return(c-Math.floor(c))*a}function Xy(t){const n=t.scale.domain().length+Hy(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function qs(t,n,e){return Wy(t,e===void 0?void 0:[{hint:e}],{...n})}function Wy(t,n=[],e={}){const r=y$(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&Tr({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Jt)?ye(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${zr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${zr(r)}".`):i.some(tM)?ye(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${zr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${zr(r)}".`):i.some(nM)&&ye(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${zr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${zr(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=$a(n,e,nn);break;case"identity":switch(xt.get(t)){case Dn:e=$a(n,e,nn);break;case Tu:e=$a(n,e,w$);break}break;case"utc":case"time":e=$a(n,e,ny);break}switch(r){case"diverging":return JM(t,n,e);case"diverging-sqrt":return QM(t,n,e);case"diverging-pow":return Iy(t,n,e);case"diverging-log":return t$(t,n,e);case"diverging-symlog":return n$(t,n,e);case"categorical":case"ordinal":case ea:return f$(t,n,e);case"cyclical":case"sequential":case"linear":return DM(t,n,e);case"sqrt":return OM(t,n,e);case"threshold":return bh(t,n,e);case"quantile":return YM(t,n,e);case"quantize":return qM(t,n,e);case"pow":return Py(t,n,e);case"log":return BM(t,n,e);case"symlog":return UM(t,n,e);case"utc":return u$(t,n,e);case"time":return c$(t,n,e);case"point":return s$(t,n,e);case"band":return l$(t,n,e);case"identity":return WM(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function zr(t){return typeof t=="symbol"?t.description:t}function t1(t){return typeof t=="string"?`${t}`.toLowerCase():t}const n1={toString:()=>"projection"};function y$(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:c}){if(e=t1(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&c!=null&&(e=n1);for(const f of n){const s=t1(f.type);if(s!==void 0){if(e===void 0)e=s;else if(e!==s)throw new Error(`scale incompatible with channel: ${e} !== ${s}`)}}if(e===n1)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:f})=>f!==void 0))return;const u=xt.get(t);if(u===Jo)return"sqrt";if(u===ta||u===Qo)return"linear";if(u===Tu)return"ordinal";if((r||i||[]).length>2)return Rf(u);if(r!==void 0){if(Mt(r))return Rf(u);if(Jt(r))return"utc"}else{const f=n.map(({value:s})=>s).filter(s=>s!==void 0);if(f.some(Mt))return Rf(u);if(f.some(Jt))return"utc"}if(u===ke){if(a!=null||IM(o))return"diverging";if(RM(o))return"categorical"}return"linear"}function Rf(t){switch(t){case Dn:return"point";case ke:return ea;default:return"ordinal"}}function Tr({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ea}function Hy({type:t}){return t==="threshold"}function b$({type:t}){return t==="point"||t==="band"}function Hn(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function $a(t,{domain:n,...e},r){var i;for(const o of t)o.value!==void 0&&(n===void 0&&(n=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:n===void 0?n:r(n),...e}}function w$(t){return dt(t,oh)}function _$(t={}){let n;for(const e in t)if(xt.has(e)&&lr(t[e])){if(n!==void 0)throw new Error("ambiguous scale definition; multiple scales found");n=Gy(qs(e,t[e]))}if(n===void 0)throw new Error("invalid scale definition; no scale found");return n}function x$(t){return n=>{if(!xt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function Gy({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:c,pivot:u}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const f=t.unknown?t.unknown():void 0;return{type:n,domain:vo(e),...r!==void 0&&{range:vo(r)},...a!==void 0&&{transform:a},...c&&{percent:c},...f!==void 0&&{unknown:f},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function v$(t,n){const{fx:e,fy:r}=Ys(t,n),i=e==null?void 0:e.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Q_(i,o).map(([a,c],u)=>({x:a,y:c,i:u})):i?i.map((a,c)=>({x:a,i:c})):o?o.map((a,c)=>({y:a,i:c})):void 0}function M$(t,{x:n,y:e}){return n&&(n=Xs(n)),e&&(e=Xs(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function xh(t,{fx:n,fy:e}){const r=Ce(t),i=n==null?void 0:n.value,o=e==null?void 0:e.value;return n&&e?Vr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Vr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Vr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function $$(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function S$(t){const n=[],e=new Uint32Array(Yn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const A$=new Map([["top",Pf],["right",zf],["bottom",Ff],["left",If],["top-left",Sa(Pf,If)],["top-right",Sa(Pf,zf)],["bottom-left",Sa(Ff,If)],["bottom-right",Sa(Ff,zf)],["top-empty",E$],["right-empty",L$],["bottom-empty",k$],["left-empty",N$],["empty",R$]]);function T$(t){if(t==null)return null;const n=A$.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const e1=new WeakMap;function Xs(t){let n=e1.get(t);return n||e1.set(t,n=new mr(dt(t,(e,r)=>[e,r]))),n}function Je(t,n){return Xs(t).get(n)}function C$(t,n,e){return n=de(n),e=de(e),t.find(r=>Object.is(de(r.x),n)&&Object.is(de(r.y),e))}function Ru(t,n,e){var r;return(r=C$(t,n,e))==null?void 0:r.empty}function Pf(t,{y:n},{y:e}){return n?Je(n,e)===0:!0}function Ff(t,{y:n},{y:e}){return n?Je(n,e)===n.length-1:!0}function If(t,{x:n},{x:e}){return n?Je(n,e)===0:!0}function zf(t,{x:n},{x:e}){return n?Je(n,e)===n.length-1:!0}function E$(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Je(n,r);if(o>0)return Ru(t,e,n[o-1])}function k$(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Je(n,r);if(o<n.length-1)return Ru(t,e,n[o+1])}function N$(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Je(n,e);if(o>0)return Ru(t,n[o-1],r)}function L$(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Je(n,e);if(o<n.length-1)return Ru(t,n[o+1],r)}function R$(t,n,{empty:e}){return e}function Sa(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function Df(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Vy=Math.PI,ie=2*Vy,Of=.618;function P$({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let c,u,f="frame";if(_n(t)){let v;if({type:t,domain:u,inset:v,insetTop:e=v!==void 0?v:e,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:f=f,...c}=t,t==null)return}typeof t!="function"&&({type:t}=Ws(t));const{width:s,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:g}=a,b=s-l-d-o-r,y=h-p-g-e-i;if(t=t==null?void 0:t({width:b,height:y,clip:f,...c}),t==null)return;f=F$(f,l,p,s-d,h-g);let m=l+o,_=p+e,w;if(u!=null){const[[v,x],[M,A]]=Ae(t).bounds(u),S=Math.min(b/(M-v),y/(A-x));S>0?(m-=(S*(v+M)-b)/2,_-=(S*(x+A)-y)/2,w=bc({point(T,$){this.stream.point(T*S+m,$*S+_)}})):ye("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=m===0&&_===0?jy():bc({point(v,x){this.stream.point(v+m,x+_)}})),{stream:v=>t.stream(w.stream(f(v)))}}function Ws(t){switch(`${t}`.toLowerCase()){case"albers-usa":return xn(k4,.7463,.4673);case"albers":return Aa(wg,.7463,.4673);case"azimuthal-equal-area":return xn(N4,4,4);case"azimuthal-equidistant":return xn(L4,ie,ie);case"conic-conformal":return Aa(F4,ie,ie);case"conic-equal-area":return Aa(wc,6.1702,2.9781);case"conic-equidistant":return Aa(D4,7.312,3.6282);case"equal-earth":return xn(B4,5.4133,2.6347);case"equirectangular":return xn(I4,ie,Vy);case"gnomonic":return xn(U4,3.4641,3.4641);case"identity":return{type:jy};case"reflect-y":return{type:I$};case"mercator":return xn(R4,ie,ie);case"orthographic":return xn(Y4,2,2);case"stereographic":return xn(q4,2,2);case"transverse-mercator":return xn(X4,ie,ie);default:throw new Error(`unknown projection type: ${t}`)}}function F$(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return rg(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function xn(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:c})=>{var f,s,h;const u=t();return a!=null&&((f=u.precision)==null||f.call(u,a)),o!=null&&((s=u.rotate)==null||s.call(u,o)),typeof c=="number"&&((h=u.clipAngle)==null||h.call(u,c)),r!=null&&(u.scale(Math.min(r/n,i/e)),u.translate([r/2,i/2])),u},aspectRatio:e/n}}function Aa(t,n,e){const{type:r,aspectRatio:i}=xn(t,n,e);return{type:o=>{const{parallels:a,domain:c,width:u,height:f}=o,s=r(o);return a!=null&&(s.parallels(a),c===void 0&&u!=null&&s.fitSize([u,f],{type:"Sphere"})),s},aspectRatio:i}}const jy=Dt({stream:t=>t}),I$=Dt(bc({point(t,n){this.stream.point(t,-n)}}));function Zy(t,n,e,r){const i=e[t],o=e[n],a=i.length,c=e[t]=new Float64Array(a).fill(NaN),u=e[n]=new Float64Array(a).fill(NaN);let f;const s=r.stream({point(h,l){c[f]=h,u[f]=l}});for(f=0;f<a;++f)s.point(i[f],o[f])}function z$({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(_n(t)&&(t=t.type),t!=null)}function D$(t){if(typeof(t==null?void 0:t.stream)=="function")return Of;if(_n(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?Ws(t).type:t,[[i,o],[a,c]]=Ae(r({...e,width:100,height:100})).bounds(n),u=(c-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Of}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=Ws(t);if(n)return n}return Of}}function ra(t,n,{projection:e}){const{x:r,y:i}=t;let o={};return r&&(o.x=r),i&&(o.y=i),o=mh(o,n),e&&(r==null?void 0:r.scale)==="x"&&(i==null?void 0:i.scale)==="y"&&Zy("x","y",o,e),r&&(o.x=nn(o.x)),i&&(o.y=nn(o.y)),o}function O$(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,c){n.push(a),e.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Pe(a,o);return[r,i]}function Pu(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:ly(e)}}function ct(t,{document:n}){return Ue(nu(t).call(n.documentElement))}const Hs=Symbol("unset");function li(t){return(t.length===1?B$:U$)(t)}function B$(t){let n,e=Hs;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function U$(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const Y$=li(t=>new Intl.NumberFormat(t)),q$=li((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}})),X$=li((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function Ky(t="en-US"){const n=Y$(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function W$(t="en-US",n="short"){const e=q$(t,n);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2e3,+r)))?e.format(r):void 0}function H$(t="en-US",n="short"){const e=X$(t,n);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2001,0,+r)))?e.format(r):void 0}function Jy(t){return z9(t,"Invalid Date")}function G$(t="en-US"){const n=Ky(t);return e=>(e instanceof Date?Jy:typeof e=="number"?n:qt)(e)}const hi=G$(),Ot=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let V$=0,j$=0;function Qy(){return`plot-clip-${++V$}`}function Z$(){return`plot-pattern-${++j$}`}function tb(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:c,fillOpacity:u,stroke:f,strokeWidth:s,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:y,mixBlendMode:m,imageFilter:_,paintOrder:w,pointerEvents:v,shapeRendering:x,channels:M},{ariaLabel:A,fill:S="currentColor",fillOpacity:T,stroke:$="none",strokeOpacity:E,strokeWidth:L,strokeLinecap:k,strokeLinejoin:C,strokeMiterlimit:N,paintOrder:R}){S===null&&(c=null,u=null),$===null&&(f=null,h=null),_t(S)?!_t($)&&(!_t(c)||M!=null&&M.fill)&&($="none"):_t($)&&(!_t(f)||M!=null&&M.stroke)&&(S="none");const[z,O]=Kt(c,S),[I,D]=At(u,T),[B,U]=Kt(f,$),[Q,tt]=At(h,E),[H,q]=At(y);si(U)||(s===void 0&&(s=L),d===void 0&&(d=k),l===void 0&&(l=C),p===void 0&&!iM(l)&&(p=N),!si(O)&&w===void 0&&(w=R));const[X,F]=At(s);return S!==null&&(t.fill=Tt(O,"currentColor"),t.fillOpacity=Oi(D,1)),$!==null&&(t.stroke=Tt(U,"none"),t.strokeWidth=Oi(F,1),t.strokeOpacity=Oi(tt,1),t.strokeLinejoin=Tt(l,"miter"),t.strokeLinecap=Tt(d,"butt"),t.strokeMiterlimit=Oi(p,4),t.strokeDasharray=Tt(g,"none"),t.strokeDashoffset=Tt(b,"0")),t.target=qt(a),t.ariaLabel=qt(A),t.ariaDescription=qt(i),t.ariaHidden=qt(o),t.opacity=Oi(q,1),t.mixBlendMode=Tt(m,"normal"),t.imageFilter=Tt(_,"none"),t.paintOrder=Tt(w,"normal"),t.pointerEvents=Tt(v,"auto"),t.shapeRendering=Tt(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:B,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:X,optional:!0},opacity:{value:H,scale:"auto",optional:!0}}}function K$(t,n){n&&t.filter(e=>Hl(n[e])).append("title").call(Q$,n)}function J$(t,n){n&&t.filter(([e])=>Hl(n[e])).append("title").call(tS,n)}function Q$(t,n){n&&t.text(e=>hi(n[e]))}function tS(t,n){n&&t.text(([e])=>hi(n[e]))}function St(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:u,strokeWidth:f,opacity:s,href:h}){r&&Z(t,"aria-label",l=>r[l]),o&&Z(t,"fill",l=>o[l]),a&&Z(t,"fill-opacity",l=>a[l]),c&&Z(t,"stroke",l=>c[l]),u&&Z(t,"stroke-opacity",l=>u[l]),f&&Z(t,"stroke-width",l=>f[l]),s&&Z(t,"opacity",l=>s[l]),h&&rb(t,l=>h[l],n),e||K$(t,i)}function Ic(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:c,strokeOpacity:u,strokeWidth:f,opacity:s,href:h}){r&&Z(t,"aria-label",([l])=>r[l]),o&&Z(t,"fill",([l])=>o[l]),a&&Z(t,"fill-opacity",([l])=>a[l]),c&&Z(t,"stroke",([l])=>c[l]),u&&Z(t,"stroke-opacity",([l])=>u[l]),f&&Z(t,"stroke-width",([l])=>f[l]),s&&Z(t,"opacity",([l])=>s[l]),h&&rb(t,([l])=>h[l],n),e||J$(t,i)}function nS({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:c,href:u},{tip:f}){return[t,f?void 0:n,e,r,i,o,a,c,u].filter(s=>s!==void 0)}function vh(t,n,e){const r=Ge(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&ye("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*nb(t,n,e,r){const{z:i}=e,{z:o}=r,a=nS(r,e),c=[...n,...a];for(const u of o?vh(t,o,i):[t]){let f,s;t:for(const h of u){for(const l of c)if(!Bt(l[h])){s&&s.push(-1);continue t}if(f===void 0){s&&(yield s),f=a.map(l=>de(l[h])),s=[h];continue}s.push(h);for(let l=0;l<a.length;++l)if(de(a[l][h])!==f[l]){yield s,f=a.map(p=>de(p[h])),s=[h];continue t}}s&&(yield s)}}function eS(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{t=ct("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=rS(r,e);break}case"sphere":{i=iS(r);break}}Z(t,"aria-label",n.ariaLabel),Z(t,"aria-description",n.ariaDescription),Z(t,"aria-hidden",n.ariaHidden),Z(t,"clip-path",i)}function eb(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=Qy();Ue(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const rS=eb((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:c,marginBottom:u}=e;t.append("rect").attr("x",o).attr("y",c).attr("width",r-a-o).attr("height",i-c-u)}),iS=eb((t,n)=>{const{projection:e}=n;if(!e)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",Ae(e)({type:"Sphere"}))});function bt(t,n,e,r){eS(t,n,e,r),Z(t,"class",n.className),Z(t,"fill",n.fill),Z(t,"fill-opacity",n.fillOpacity),Z(t,"stroke",n.stroke),Z(t,"stroke-width",n.strokeWidth),Z(t,"stroke-opacity",n.strokeOpacity),Z(t,"stroke-linejoin",n.strokeLinejoin),Z(t,"stroke-linecap",n.strokeLinecap),Z(t,"stroke-miterlimit",n.strokeMiterlimit),Z(t,"stroke-dasharray",n.strokeDasharray),Z(t,"stroke-dashoffset",n.strokeDashoffset),Z(t,"shape-rendering",n.shapeRendering),Z(t,"filter",n.imageFilter),Z(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Z(t,"pointer-events",i)}function ht(t,n){oS(t,"mix-blend-mode",n.mixBlendMode),Z(t,"opacity",n.opacity)}function rb(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(we.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(we.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Z(t,n,e){e!=null&&t.attr(n,e)}function oS(t,n,e){e!=null&&t.style(n,e)}function gt(t,n,{x:e,y:r},i=Ot,o=Ot){i+=n.dx,o+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function Tt(t,n){if((t=qt(t))!==n)return t}function Oi(t,n){if((t=yt(t))!==n)return t}const aS=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Fu(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!aS.test(t))throw new Error(`invalid class name: ${t}`);return t}function Mh(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function Jn({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class mt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:c,fy:u,sort:f,dx:s=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:g=l,marginLeft:b=l,className:y,clip:m=i==null?void 0:i.clip,channels:_,tip:w,render:v}=r;if(this.data=n,this.sort=We(f)?f:null,this.initializer=Qt(r).initializer,this.transform=this.initializer?r.transform:kn(r).transform,o===null||o===!1?this.facet=null:(this.facet=fn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===io&&typeof c=="string"?[c]:c,this.fy=n===io&&typeof u=="string"?[u]:u),this.facetAnchor=T$(a),e=eh(e),_!==void 0&&(e={...cS(_),...e}),i!==void 0&&(e={...tb(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,M])=>{if(Pn(M.value)){const{value:A,label:S=M.label,scale:T=M.scale}=M.value;M={...M,label:S,scale:T,value:A}}if(n===io&&typeof M.value=="string"){const{value:A}=M;M={...M,value:[A]}}return[x,M]}).filter(([x,{value:M,optional:A}])=>{if(M!=null)return!0;if(A)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+s,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=ly(m),this.tip=uS(w),this.className=y?Fu(y):null,this.facet==="super"){if(c||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=e[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}v!=null&&(this.render=di(v,this.render))}initialize(n,e,r){let i=fi(this.data);n===void 0&&i!=null&&(n=[Ce(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=fi(i)),n!==void 0&&(n.original=o);const a=Ay(this.channels,i);return this.sort!=null&&EM(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=Bt}=e[i];if(o!==null){const a=r[i];n=n.filter(c=>o(a[c]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&Zy(i,o,e,r.projection)}}scale(n,e,r){const i=mh(n,e);return r.projection&&this.project(n,i,r),i}}function wn(...t){return t.plot=mt.prototype.plot,t}function di(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,c){return t.call(this,e,r,i,o,a,(u,f,s,h,l)=>n.call(this,u,f,s,h,l,c))}}function cS(t){return Object.fromEntries(Object.entries(eh(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Mi(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function uS(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?fn(t,"tip",["x","y","xy"]):t}function Cr(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:_n(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function fS(t,n,e={}){let r=.5-Ot,i=.5+Ot,o=.5+Ot,a=.5-Ot;for(const{marginTop:g,marginRight:b,marginBottom:y,marginLeft:m}of n)g>r&&(r=g),b>i&&(i=b),y>o&&(o=y),m>a&&(a=m);let{margin:c,marginTop:u=c!==void 0?c:r,marginRight:f=c!==void 0?c:i,marginBottom:s=c!==void 0?c:o,marginLeft:h=c!==void 0?c:a}=e;u=+u,f=+f,s=+s,h=+h;let{width:l=640,height:d=sS(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+s-o)}=e;l=+l,d=+d;const p={width:l,height:d,marginTop:u,marginRight:f,marginBottom:s,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:b=g!==void 0?g:u,marginRight:y=g!==void 0?g:f,marginBottom:m=g!==void 0?g:s,marginLeft:_=g!==void 0?g:h}=e.facet??{};b=+b,y=+y,m=+m,_=+_,p.facet={marginTop:b,marginRight:y,marginBottom:m,marginLeft:_}}return p}function sS({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:c,marginRightDefault:u,marginBottomDefault:f,marginLeftDefault:s}){const h=e&&e.scale.domain().length||1,l=D$(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,g));return Math.round((a-s-u)*b+c+f)}const d=n?Tr(n)?n.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=r1("y",n)/(r1("x",t)*o),g=r?r.scale.bandwidth():1,b=e?e.scale.bandwidth():1,y=g*(a-s-u)-t.insetLeft-t.insetRight;return(p*y+n.insetTop+n.insetBottom)/b+c+f}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function r1(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const c=n.scale.exponent();i=u=>Math.pow(u,c);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Ct(r);return Math.abs(i(a)-i(o))}const i1=new WeakMap;function $h(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:c,render:u,...f}={}){return a=+a,i!=null&&(e??(e=null),c={...c,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),c={...c,py:{value:o,scale:"y"}}),{x:e,y:r,channels:c,...f,render:di(function(s,h,l,d,p,g){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let m=i1.get(b);m||i1.set(b,m={sticky:!1,roots:[],renders:[]});let _=m.renders.push(U)-1;const{x:w,y:v,fx:x,fy:M}=h;let A=x?x(s.fx)-d.marginLeft:0,S=M?M(s.fy)-d.marginTop:0;w!=null&&w.bandwidth&&(A+=w.bandwidth()/2),v!=null&&v.bandwidth&&(S+=v.bandwidth()/2);const T=s.fi!=null;let $;if(T){let q=m.facetStates;q||(m.facetStates=q=new Map),$=q.get(this),$||q.set(this,$=new Map)}const[E,L]=Jn(this,d),{px:k,py:C}=l,N=k?q=>k[q]:ib(l,E),R=C?q=>C[q]:ob(l,L);let z,O,I,D;function B(q,X){if(T)if(D&&(D=cancelAnimationFrame(D)),q==null)$.delete(s.fi);else{$.set(s.fi,X),D=requestAnimationFrame(()=>{D=null;for(const[F,Y]of $)if(Y<X||Y===X&&F<s.fi){q=null;break}U(q)});return}U(q)}function U(q){if(z===q&&I===m.sticky)return;z=q,I=p.pointerSticky=m.sticky;const X=z==null?[]:[z];T&&(X.fx=s.fx,X.fy=s.fy,X.fi=s.fi);const F=g(X,h,l,d,p);if(O){if(T){const Y=O.parentNode,W=O.getAttribute("transform"),P=F.getAttribute("transform");W?F.setAttribute("transform",W):F.removeAttribute("transform"),P?Y.setAttribute("transform",P):Y.removeAttribute("transform"),F.removeAttribute("aria-label"),F.removeAttribute("aria-description"),F.removeAttribute("aria-hidden")}O.replaceWith(F)}if(m.roots[_]=O=F,!(z==null&&($==null?void 0:$.size)>1)){const Y=z==null?null:Te(y)?y[z]:y.get(z);p.dispatchValue(Y)}return F}function Q(q){if(m.sticky||q.pointerType==="mouse"&&q.buttons===1)return;let[X,F]=i3(q);X-=A,F-=S;const Y=X<d.marginLeft||X>d.width-d.marginRight?1:t,W=F<d.marginTop||F>d.height-d.marginBottom?1:n;let P=null,ot=a*a;for(const j of s){const at=Y*(N(j)-X),ut=W*(R(j)-F),wt=at*at+ut*ut;wt<=ot&&(P=j,ot=wt)}if(P!=null&&(t!==1||n!==1)){const j=N(P)-X,at=R(P)-F;ot=j*j+at*at}B(P,ot)}function tt(q){q.pointerType==="mouse"&&z!=null&&(m.sticky&&m.roots.some(X=>X==null?void 0:X.contains(q.target))||(m.sticky?(m.sticky=!1,m.renders.forEach(X=>X(null))):(m.sticky=!0,U(z)),q.stopImmediatePropagation()))}function H(q){q.pointerType==="mouse"&&(m.sticky||B(null))}return b.addEventListener("pointerenter",Q),b.addEventListener("pointermove",Q),b.addEventListener("pointerdown",tt),b.addEventListener("pointerleave",H),U(null)},u)}}function Sh(t){return $h(1,1,t)}function Ah(t){return $h(1,.01,t)}function zc(t){return $h(.01,1,t)}function ib({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function ob({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function ab(t){return Tr(t)&&t.interval===void 0?void 0:"tabular-nums"}function lS(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:c=0,marginBottom:u=16+r,marginLeft:f=0,style:s,ticks:h=(i-f-c)/64,tickFormat:l,fontVariant:d=ab(t),round:p=!0,opacity:g,className:b}=n;const y=Pu(n);b=Fu(b),g=At(g)[1],l===null&&(l=()=>null);const m=ct("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(E=>E.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Mh,s);let _=E=>E.selectAll(".tick line").attr("y1",a+u-o),w;const v=p?(E,L)=>E.rangeRound(L):(E,L)=>E.range(L),{type:x,domain:M,range:A,interpolate:S,scale:T,pivot:$}=t;if(S){const E=A===void 0?S:iu(S.length===1?wh(S):S,A);w=v(T.copy(),Sn(Yt(f,i-c),Math.min(M.length+($!==void 0),A===void 0?1/0:A.length)));const L=256,k=y.document.createElement("canvas");k.width=L,k.height=1;const C=k.getContext("2d");for(let N=0,R=L-1;N<L;++N)C.fillStyle=E(N/R),C.fillRect(N,0,1,1);m.append("image").attr("opacity",g).attr("x",f).attr("y",a).attr("width",i-f-c).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",k.toDataURL())}else if(x==="threshold"){const E=M,L=l===void 0?k=>k:typeof l=="string"?xe(l):l;w=v(Il().domain([-1,A.length-1]),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(A).enter().append("rect").attr("x",(k,C)=>w(C-1)).attr("y",a).attr("width",(k,C)=>w(C)-w(C-1)).attr("height",o-a-u).attr("fill",k=>k),h=dt(E,(k,C)=>C),l=k=>L(E[k],k)}else w=v(su().domain(M),[f,i-c]),m.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",w).attr("y",a).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",o-a-u).attr("fill",T),_=()=>{};return m.append("g").attr("transform",`translate(0,${o-u})`).call(x6(w).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Tt(d,"normal")).call(_).call(E=>E.select(".domain").remove()),e!==void 0&&m.append("text").attr("x",f).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),m.node()}const Dc=Math.PI/180;function $i(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Bf(e),t.markerMid=Bf(r),t.markerEnd=Bf(i)}function Bf(t){if(t==null||t===!1)return null;if(t===!0)return a1;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return o1("auto");case"arrow-reverse":return o1("auto-start-reverse");case"dot":return hS;case"circle":case"circle-fill":return a1;case"circle-stroke":return dS;case"tick":return Uf("auto");case"tick-x":return Uf(90);case"tick-y":return Uf(0)}throw new Error(`invalid marker: ${t}`)}function o1(t){return(n,e)=>ct("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function hS(t,n){return ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function a1(t,n){return ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function dS(t,n){return ct("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Uf(t){return(n,e)=>ct("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let pS=0;function ia(t,n,{stroke:e},r){return ub(t,n,e&&(i=>e[i]),null,r)}function gS(t,n,{stroke:e,z:r},i){return ub(t,n,e&&(([o])=>e[o]),r,i)}const Gs=1,cb=2;function mS(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Hs;o<i;++o){const c=r[o];if(c.length>1){const u=c[0];a!==(a=de(n[u]))&&(e[u]|=Gs)}}for(let o=i-1,a=Hs;o>=0;--o){const c=r[o];if(c.length>1){const u=c[0];a!==(a=de(n[u]))&&(e[u]|=cb)}}return([o])=>e[o]}function ub(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,c){if(!n&&!e&&!r)return;const u=new Map,f=a&&mS(t,a);function s(h,l,d){return function(p){if(d&&!d(p))return;const g=o(p);let b=u.get(l);b||u.set(l,b=new Map);let y=b.get(g);if(!y){const m=this.parentNode.insertBefore(l(g,c),this),_=`plot-marker-${++pS}`;m.setAttribute("id",_),b.set(g,y=`url(#${_})`)}this.setAttribute(h,y)}}n&&t.each(s("marker-start",n,f&&(h=>f(h)&Gs))),e&&f&&t.each(s("marker-start",e,h=>!(f(h)&Gs))),e&&t.each(s("marker-mid",e)),r&&t.each(s("marker-end",r,f&&(h=>f(h)&cb)))}function oa({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=fb(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function aa({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=fb(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function fb(t,n,e){return t===void 0&&n===void 0&&e===void 0?Ot?[1,0]:[.5,.5]:[n,e]}function sb(t,{interval:n}){return t={...Mi(t)},t.interval=Au(t.interval===void 0?n:t.interval),t}function Iu(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:c,interval:u}=sb(i,e);if(c==null||u==null&&!r)return e;const f=Kn(i);if(u==null){let d;const p={transform:g=>d||(d=rt(g,c)),label:f};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,h;function l(d){return h!==void 0&&d===s?h:h=dt(rt(s=d,c),p=>u.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:f}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>u.offset(p)),label:f}:a})}function lb(t,n,e){const{[t]:r}=e,{value:i,interval:o}=sb(r,e);return i==null||o==null?e:n({...e,[t]:{label:Kn(r),transform:a=>{const c=dt(rt(a,i),f=>o.floor(f)),u=c.map(f=>o.offset(f));return c.map(Jt(c)?(f,s)=>f==null||isNaN(f=+f)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((f+s)/2):(f,s)=>f==null||(s=u[s],s==null)?NaN:(+f+ +s)/2)}}})}function hb(t={}){return Iu("x",oa,t,!0)}function db(t={}){return Iu("y",aa,t,!0)}function Th(t={}){return Iu("x",oa,t)}function Ch(t={}){return Iu("y",aa,t)}function pb(t={}){return lb("x",oa,t)}function gb(t={}){return lb("y",aa,t)}const mb={ariaLabel:"rule",fill:null,stroke:"currentColor"};class yb extends mt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:c=a,insetBottom:u=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Cr(e,"x"),mb),this.insetTop=yt(c),this.insetBottom=yt(u),$i(this,e)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y1:f,y2:s}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:y,insetBottom:m}=this;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a},Ot,0).call(_=>_.selectAll().data(n).enter().append("line").call(ht,this).attr("x1",u?w=>u[w]:(g+h-p)/2).attr("x2",u?w=>u[w]:(g+h-p)/2).attr("y1",f&&!Hn(c)?w=>f[w]+y:d+y).attr("y2",s&&!Hn(c)?c.bandwidth?w=>s[w]+c.bandwidth()-m:w=>s[w]-m:l-b-m).call(St,this,r).call(ia,this,r,o)).node()}}class bb extends mt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:c=a,insetLeft:u=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Cr(e,"y"),mb),this.insetRight=yt(c),this.insetLeft=yt(u),$i(this,e)}render(n,e,r,i,o){const{x:a,y:c}=e,{y:u,x1:f,x2:s}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:y,insetRight:m}=this;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{y:u&&c},0,Ot).call(_=>_.selectAll().data(n).enter().append("line").call(ht,this).attr("x1",f&&!Hn(a)?w=>f[w]+y:g+y).attr("x2",s&&!Hn(a)?a.bandwidth?w=>s[w]+a.bandwidth()-m:w=>s[w]-m:h-p-m).attr("y1",u?w=>u[w]:(d+l-b)/2).attr("y2",u?w=>u[w]:(d+l-b)/2).call(St,this,r).call(ia,this,r,o)).node()}}function Gn(t,n){let{x:e=V,y:r,y1:i,y2:o,...a}=Ch(n);return[i,o]=wb(r,i,o),new yb(t,{...a,x:e,y1:i,y2:o})}function $e(t,n){let{y:e=V,x:r,x1:i,x2:o,...a}=Th(n);return[i,o]=wb(r,i,o),new bb(t,{...a,y:e,x1:i,x2:o})}function wb(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function pi(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const yS={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},_b="­";class zu extends mt{constructor(n,e={}){const{x:r,y:i,text:o=Ee(n)&&sy(n)?V:Ft,frameAnchor:a,textAnchor:c=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:f=1,lineWidth:s=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:y,rotate:m}=e,[_,w]=At(m,0),[v,x]=xS(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:J9(_),optional:!0},text:{value:o,filter:Hl,optional:!0}},e,yS),this.rotate=w,this.textAnchor=Tt(c,"middle"),this.lineAnchor=fn(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+s,this.textOverflow=xb(h),this.monospace=!!l,this.fontFamily=qt(d),this.fontSize=x,this.fontStyle=qt(g),this.fontVariant=qt(b),this.fontWeight=qt(y),this.frameAnchor=Ko(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Sb(this),this.clipLine=Ab(this)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,rotate:s,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[g,b]=Jn(this,i);return ct("svg:g",o).call(bt,this,i,o).call($b,this,h,i).call(gt,this,{x:u&&a,y:f&&c}).call(y=>y.selectAll().data(n).enter().append("text").call(ht,this).call(bS,this,h,l).attr("transform",pi`translate(${u?m=>u[m]:g},${f?m=>f[m]:b})${s?m=>` rotate(${s[m]})`:p?` rotate(${p})`:""}`).call(Z,"font-size",d&&(m=>d[m])).call(St,this,r)).node()}}function xb(t){return t==null?null:fn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function bS(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:c,clipLine:u}=n;t.each(function(f){const s=c(hi(e[f])??"").map(u),h=s.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!s[p])continue;const g=this.ownerDocument.createElementNS(we.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=s[p],this.appendChild(g),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==e[f]){const d=this.ownerDocument.createElementNS(we.svg,"title");d.textContent=e[f],this.appendChild(d)}})}function Se(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=En(n,e)),new zu(t,{...r,x:n,y:e})}function vb(t,{x:n=V,...e}={}){return new zu(t,gb({...e,x:n}))}function Mb(t,{y:n=V,...e}={}){return new zu(t,pb({...e,y:n}))}function $b(t,n,e){Z(t,"text-anchor",n.textAnchor),Z(t,"font-family",n.fontFamily),Z(t,"font-size",n.fontSize),Z(t,"font-style",n.fontStyle),Z(t,"font-variant",n.fontVariant===void 0?wS(e):n.fontVariant),Z(t,"font-weight",n.fontWeight)}function wS(t){return t&&(Wr(t)||Jt(t))?"tabular-nums":void 0}const _S=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function xS(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),_S.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function vS(t,n,e){const r=[];let i,o=0;for(const[a,c,u]of MS(t)){if(i===void 0&&(i=a),o>i&&e(t,i,c)>n&&(r.push(t.slice(i,o)+(t[o-1]===_b?"-":"")),i=a),u){r.push(t.slice(i,c)),i=void 0;continue}o=c}return r}function*MS(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case _b:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const c1={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Eh(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Si(t,i))r+=c1[t[i]]??(Cb(t,i)?120:c1.e);return r}function kh(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Si(t,i))r+=Cb(t,i)?126:63;return r}function Sb({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?kh:Eh,i=n*100;return o=>vS(o,i,r)}function Ab({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?kh:Eh,i=n*100;switch(e){case"clip-start":return o=>f1(o,i,r,"");case"clip-end":return o=>u1(o,i,r,"");case"ellipsis-start":return o=>f1(o,i,r,Kr);case"ellipsis-middle":return o=>$S(o,i,r,Kr);case"ellipsis-end":return o=>u1(o,i,r,Kr)}}const Kr="…";function gi(t,n,e,r){const i=[];let o=0;for(let a=0,c=0,u=t.length;a<u;a=c){c=Si(t,a);const f=e(t,a,c);if(o+f>n){for(o+=r;o>n&&a>0;)c=a,a=i.pop(),o-=e(t,a,c);return[a,n-o]}o+=f,i.push(a)}return[-1,0]}function u1(t,n,e,r){t=t.trim();const i=e(r),[o]=gi(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function $S(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,c]=gi(t,n/2,e,o),[u]=gi(t,i-n/2-c+o,e,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(Si(t,u)).trimStart()}function f1(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=gi(t,i-n+o,e,-o);return a<0?r:r+t.slice(Si(t,a)).trimStart()}const Vs=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,s1=new RegExp("\\p{Extended_Pictographic}","uy");function Si(t,n){return n+=SS(t,n)?2:1,TS(t,n)&&(n=Vs.lastIndex),AS(t,n)?Si(t,n+1):n}function Tb(t,n){return t.charCodeAt(n)<128}function SS(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function AS(t,n){return t.charCodeAt(n)===8205}function TS(t,n){return Tb(t,n)?!1:(Vs.lastIndex=n,Vs.test(t))}function Cb(t,n){return Tb(t,n)?!1:(s1.lastIndex=n,s1.test(t))}const Eb={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},kb=3.5,CS=kb*5,Nb={draw(t,n,e){const r=n*e/CS;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},Lb={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},ES=new Map([["arrow",Nb],["spike",Lb]]);function kS(t){return t&&typeof t.draw=="function"}function NS(t){if(kS(t))return t;const n=ES.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class Du extends mt{constructor(n,e={}){const{x:r,y:i,r:o=kb,length:a,rotate:c,shape:u=Nb,anchor:f="middle",frameAnchor:s}=e,[h,l]=At(a,12),[d,p]=At(c,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,Eb),this.r=+o,this.length=l,this.rotate=p,this.shape=NS(u),this.anchor=fn(f,"anchor",["start","middle","end"]),this.frameAnchor=Ko(s)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,length:s,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:g,r:b}=this,[y,m]=Jn(this,i);return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(_=>_.selectAll().data(n).enter().append("path").call(ht,this).attr("transform",pi`translate(${u?w=>u[w]:y},${f?w=>f[w]:m})${h?w=>` rotate(${h[w]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?s?w=>` translate(0,${s[w]})`:` translate(0,${l})`:s?w=>` translate(0,${s[w]/2})`:` translate(0,${l/2})`}`).attr("d",s?w=>{const v=se();return g.draw(v,s[w],b),v}:(()=>{const w=se();return g.draw(w,l,b),w})()).call(St,this,r)).node()}}function Rb(t,n={}){let{x:e,y:r,...i}=n;return n.frameAnchor===void 0&&([e,r]=En(e,r)),new Du(t,{...i,x:e,y:r})}function Pb(t,n={}){const{x:e=V,...r}=n;return new Du(t,{...r,x:e})}function Fb(t,n={}){const{y:e=V,...r}=n;return new Du(t,{...r,y:e})}function LS(t,n={}){const{shape:e=Lb,stroke:r=Eb.stroke,strokeWidth:i=1,fill:o=r,fillOpacity:a=.3,anchor:c="start",...u}=n;return Rb(t,{...u,shape:e,stroke:r,strokeWidth:i,fill:o,fillOpacity:a,anchor:c})}function Qe(t,n){return arguments.length<2&&!Ee(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Ou({anchor:t}={},n){return t===void 0?n[0]:fn(t,"anchor",n)}function Ib(t){return Ou(t,["left","right"])}function zb(t){return Ou(t,["right","left"])}function Db(t){return Ou(t,["bottom","top"])}function Ob(t){return Ou(t,["top","bottom"])}function Ai(){const[t,n]=Qe(...arguments);return Yb("y",Ib(n),t,n)}function Bb(){const[t,n]=Qe(...arguments);return Yb("fy",zb(n),t,n)}function Ti(){const[t,n]=Qe(...arguments);return qb("x",Db(n),t,n)}function Ub(){const[t,n]=Qe(...arguments);return qb("fx",Ob(n),t,n)}function Yb(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:u=r,fillOpacity:f=i,textAnchor:s,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:b,x:y,margin:m,marginTop:_=m===void 0?20:m,marginRight:w=m===void 0?n==="right"?40:0:m,marginBottom:v=m===void 0?20:m,marginLeft:x=m===void 0?n==="left"?40:0:m,label:M,labelAnchor:A,labelArrow:S,labelOffset:T,...$}){return p=yt(p),g=yt(g),b=yt(b),A!==void 0&&(A=fn(A,"labelAnchor",["center","top","bottom"])),S=tw(S),wn(p&&!_t(o)?RS(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:b,x:y,...$}):null,_t(u)?null:FS(t,n,e,{fill:u,fillOpacity:f,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:b,x:y,marginTop:_,marginRight:w,marginBottom:v,marginLeft:x,...$}),!_t(u)&&M!==null?Se([],Zb({fill:u,fillOpacity:f,...$},function(E,L,k,C,N){const R=C[t],{marginTop:z,marginRight:O,marginBottom:I,marginLeft:D}=t==="y"&&N.inset||N,B=A??(R.bandwidth?"center":"top"),U=T??(n==="right"?O:D)-3;return B==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=B,this.frameAnchor=`${B}-${n}`,this.rotate=0),this.dy=B==="top"?3-z:B==="bottom"?I-3:0,this.dx=n==="right"?U:-U,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Qb(t,R,{anchor:n,label:M,labelAnchor:B,labelArrow:S})]}}}})):null)}function qb(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:c=1,fill:u=r,fillOpacity:f=i,textAnchor:s,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:b,y,margin:m,marginTop:_=m===void 0?n==="top"?30:0:m,marginRight:w=m===void 0?20:m,marginBottom:v=m===void 0?n==="bottom"?30:0:m,marginLeft:x=m===void 0?20:m,label:M,labelAnchor:A,labelArrow:S,labelOffset:T,...$}){return p=yt(p),g=yt(g),b=yt(b),A!==void 0&&(A=fn(A,"labelAnchor",["center","left","right"])),S=tw(S),wn(p&&!_t(o)?PS(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:c,tickSize:p,tickPadding:g,tickRotate:b,y,...$}):null,_t(u)?null:IS(t,n,e,{fill:u,fillOpacity:f,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:p,tickPadding:g,tickRotate:b,y,marginTop:_,marginRight:w,marginBottom:v,marginLeft:x,...$}),!_t(u)&&M!==null?Se([],Zb({fill:u,fillOpacity:f,...$},function(E,L,k,C,N){const R=C[t],{marginTop:z,marginRight:O,marginBottom:I,marginLeft:D}=t==="x"&&N.inset||N,B=A??(R.bandwidth?"center":"right"),U=T??(n==="top"?z:I)-3;return B==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${B}`,this.textAnchor=B==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-U:U,this.dx=B==="right"?O-3:B==="left"?3-D:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Qb(t,R,{anchor:n,label:M,labelAnchor:B,labelArrow:S})]}}}})):null)}function RS(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:c=n,tickSize:u,inset:f=0,insetLeft:s=f,insetRight:h=f,dx:l=0,y:d=t==="y"?void 0:null,...p}){return Ci(Fb,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:c,y:d,...p,dx:n==="left"?+l-Ot+ +s:+l+Ot-h,anchor:"start",length:u,shape:n==="left"?BS:US})}function PS(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:c=n,tickSize:u,inset:f=0,insetTop:s=f,insetBottom:h=f,dy:l=0,x:d=t==="x"?void 0:null,...p}){return Ci(Pb,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:c,x:d,...p,dy:n==="bottom"?+l-Ot-h:+l+Ot+ +s,anchor:"start",length:u,shape:n==="bottom"?DS:OS})}function FS(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Dc):0),text:u,textAnchor:f=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:g=0,y:b=t==="y"?void 0:null,...y}){return Ci(Mb,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:f,lineAnchor:s,fontVariant:h,rotate:a,y:b,...y,dx:n==="left"?+g-o-c+ +d:+g+ +o+ +c-p},function(m,_,w,v,x){h===void 0&&(this.fontVariant=Jb(m)),u===void 0&&(x.text=Kb(m,_,w,v,n))})}function IS(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Dc):0),text:u,textAnchor:f=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:g=0,x:b=t==="x"?void 0:null,...y}){return Ci(vb,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:f,lineAnchor:s,fontVariant:h,rotate:a,x:b,...y,dy:n==="bottom"?+g+ +o+ +c-p:+g-o-c+ +d},function(m,_,w,v,x){h===void 0&&(this.fontVariant=Jb(m)),u===void 0&&(x.text=Kb(m,_,w,v,n))})}function Xb(){const[t,n]=Qe(...arguments);return Gb("y",Ib(n),t,n)}function Wb(){const[t,n]=Qe(...arguments);return Gb("fy",zb(n),t,n)}function Bu(){const[t,n]=Qe(...arguments);return Vb("x",Db(n),t,n)}function Hb(){const[t,n]=Qe(...arguments);return Vb("fx",Ob(n),t,n)}function Gb(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,...c}){return Ci($e,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...jb(c)})}function Vb(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,...c}){return Ci(Gn,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...jb(c)})}function jb({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function Zb({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:u,shapeRendering:f,clip:s=!1},h){return[,t]=Kt(t),[,n]=At(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:c,pointerEvents:u,shapeRendering:f,clip:s,initializer:h}}function Ci(t,n,e,r,i,o){let a;function c(s,h,l,d,p,g){const b=s==null&&(n==="fx"||n==="fy"),{[n]:y}=d;if(!y)throw new Error(`missing scale: ${n}`);const m=y.domain();let{interval:_,ticks:w,tickFormat:v,tickSpacing:x=n==="x"?80:35}=i;if(typeof w=="string"&&nw(y)&&(_=w,w=void 0),w===void 0&&(w=vi(_,y.type)??zS(y,x)),s==null){if(Ee(w))s=Me(w);else if(Xr(w))s=Yf(w,...Ct(m));else if(y.interval){let A=y.interval;if(y.ticks){const[S,T]=Ct(m),$=(T-S)/A[jo];A=O0(A,$/w)??A,s=Yf(A,S,T)}else{s=m;const S=s.length;A=O0(A,S/w)??A,A!==y.interval&&(s=Yf(A,...Ct(s)))}if(A===y.interval){const S=Math.round(s.length/w);S>1&&(s=s.filter((T,$)=>$%S===0))}}else y.ticks?s=y.ticks(w):s=m;if(!y.ticks&&s.length&&s!==m){const A=new Lo(m);s=s.filter(S=>A.has(S)),s.length||ye(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[Ce(s)]:a[n]={scale:n,value:V}}o==null||o.call(this,y,s,w,v,a);const M=Object.fromEntries(Object.entries(a).map(([A,S])=>[A,{...S,value:rt(s,S.value)}]));return b&&(h=g.filterFacets(s,M)),{data:s,facets:h,channels:M}}const u=Qt(i).initializer,f=t(e,Qt({...i,initializer:c},u));return e==null?(a=f.channels,f.channels={}):a={},r!==void 0&&Object.assign(f,r),f.clip===void 0&&(f.clip=!1),f}function zS(t,n){const[e,r]=Ct(t.range());return(r-e)/n}function Kb(t,n,e,r,i){return{value:Nh(t,n,e,r,i)}}function Nh(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Jt(n)?q9(t.type,n,i)??hi:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?hi:typeof r=="string"?(Jt(t.domain())?Go:xe)(r):Dt(r)}function Yf(t,n,e){return t.range(n,t.offset(t.floor(e)))}const DS={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},OS={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},BS={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},US={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function Jb(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Qb(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&nw(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=Uy(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function tw(t="auto"){return _t(t)?!1:typeof t=="boolean"?t:fn(t,"labelArrow",["auto","up","right","down","left"])}function nw(t){return Jt(t.domain())}function l1(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function YS(t,{opacity:n,...e}={}){if(!Tr(t)&&!Hy(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return ew(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",At(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function qS(t,{fill:n=(f=>(f=t.hint)==null?void 0:f.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:_t(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...c}={},u){const[h,l]=Kt(n),[d,p]=Kt(r),g=l1(u,h),b=l1(u,d),y=a*a*Math.PI;return e=At(e)[1],i=At(i)[1],o=At(o)[1],ew(t,c,(m,_,w,v)=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",v).attr("fill",h==="color"?x=>g.scale(x):l).attr("fill-opacity",e).attr("stroke",d==="color"?x=>b.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const M=se();return t.scale(x).draw(M,y),M}))}function ew(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=ab(t),swatchSize:a=15,swatchWidth:c=a,swatchHeight:u=a,marginLeft:f=0,className:s,style:h,width:l}=n;const d=Pu(n);s=Fu(s),i=Nh(t.scale,t.domain,void 0,i);const p=ct("div",d).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(e,t,c,u).call(b=>b.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(e,t,c,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",f?`${+f}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Tt(o,"normal")).call(Mh,h).node()}const Oc=new Map([["symbol",qS],["color",rw],["opacity",HS]]);function XS(t={}){for(const[n,e]of Oc){const r=t[n];if(lr(r)){const i=Pu(t);let o;if(n==="symbol"){const{fill:a,stroke:c=a===void 0&&lr(t.color)?"color":void 0}=t;o={fill:a,stroke:c}}return e(qs(n,r,o),Lh(i,r,t),a=>lr(t[a])?qs(a,t[a]):null)}}throw new Error("unknown legend type; no scale found")}function WS(t,n,e={}){return(r,i)=>{if(!Oc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Oc.get(r)(t[r],Lh(n,e[r],i),o=>t[o])}}function Lh({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return oM(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function rw(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return YS(t,e);case"ramp":return lS(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function HS({type:t,interpolate:n,...e},{legend:r=!0,color:i=qn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return rw({type:t,...e,interpolate:GS(i)},{legend:r,...o})}function GS(t){const{r:n,g:e,b:r}=qn(t)||qn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function VS(t,n,e){const r=[];for(const[i,o]of Oc){const a=e[i];if(a!=null&&a.legend&&i in t){const c=o(t[i],Lh(n,t[i],a),u=>t[u]);c!=null&&r.push(c)}}return r}function Uu(t={}){return iy(t)?t:{...t,x:V}}function Yu(t={}){return oy(t)?t:{...t,y:V}}function iw(t,n){if(n.length===1)return{data:t,facets:n};const e=Mo(t),r=new Uint8Array(e);let i=0;for(const c of n)for(const u of c)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:n};t=vo(t);const o=t[Q2]=new Uint32Array(e+i);n=n.map(c=>vo(c,Uint32Array));let a=e;r.fill(0);for(const c of n)for(let u=0,f=c.length;u<f;++u){const s=c[u];r[s]?(c[u]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:n}}function ow(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{y1:e,y:r=e,x:i,...o}=n,[a,c,u,f]=ki(r,i,"y","x",t,o);return{...a,y1:e,y:c,x1:u,x2:f,x:Rc(u,f)}}function jS(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{y1:e,y:r=e,x:i}=n,[o,a,c]=ki(r,i,"y","x",t,n);return{...o,y1:e,y:a,x:c}}function ZS(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{y1:e,y:r=e,x:i}=n,[o,a,,c]=ki(r,i,"y","x",t,n);return{...o,y1:e,y:a,x:c}}function aw(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{x1:e,x:r=e,y:i,...o}=n,[a,c,u,f]=ki(r,i,"x","y",t,o);return{...a,x1:e,x:c,y1:u,y2:f,y:Rc(u,f)}}function KS(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{x1:e,x:r=e,y:i}=n,[o,a,c]=ki(r,i,"x","y",t,n);return{...o,x1:e,x:a,y:c}}function JS(t={},n={}){arguments.length===1&&([t,n]=Ei(t));const{x1:e,x:r=e,y:i}=n,[o,a,,c]=ki(r,i,"x","y",t,n);return{...o,x1:e,x:a,y:c}}function qu({x:t,x1:n,x2:e,...r}={}){return r=Cr(r,"y"),n===void 0&&e===void 0?ow({x:t,...r}):([n,e]=ay(t,n,e),{...r,x1:n,x2:e})}function Xu({y:t,y1:n,y2:e,...r}={}){return r=Cr(r,"x"),n===void 0&&e===void 0?aw({y:t,...r}):([n,e]=ay(t,n,e),{...r,y1:n,y2:e})}function Ei(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const QS={length:!0};function ki(t,n=Jl,e,r,{offset:i,order:o,reverse:a},c){if(n===null)throw new Error(`stack requires ${r}`);const u=Ke(c),[f,s]=tn(t),[h,l]=an(n),[d,p]=an(n);return h.hint=d.hint=QS,i=tA(i),o=rA(o,i,r),[kn(c,(g,b,y)=>{({data:g,facets:b}=iw(g,b));const m=t==null?void 0:s(Pc(rt(g,t),y==null?void 0:y[e])),_=rt(g,n,Float64Array),w=rt(g,u),v=o&&o(g,m,_,w),x=Mo(g),M=l(new Float64Array(x)),A=p(new Float64Array(x)),S=[];for(const T of b){const $=m?Array.from(Ge(T,E=>m[E]).values()):[T];if(v)for(const E of $)E.sort(v);for(const E of $){let L=0,k=0;a&&E.reverse();for(const C of E){const N=_[C];N<0?L=A[C]=(M[C]=L)+N:N>0?k=A[C]=(M[C]=k)+N:A[C]=M[C]=k}}S.push($)}return i&&i(S,M,A,w),{data:g,facets:b}}),f,h,d]}function tA(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return nA;case"center":case"silhouette":return eA;case"wiggle":return uw}throw new Error(`unknown offset: ${t}`)}}function cw(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function nA(t,n,e){for(const r of t)for(const i of r){const[o,a]=cw(i,e);for(const c of i){const u=1/(a-o||1);n[c]=u*(n[c]-o),e[c]=u*(e[c]-o)}}}function eA(t,n,e){for(const r of t){for(const i of r){const[o,a]=cw(i,e);for(const c of i){const u=(a+o)/2;n[c]-=u,e[c]-=u}}fw(r,n,e)}sw(t,n,e)}function uw(t,n,e,r){for(const i of t){const o=new mr;let a=0;for(const c of i){let u=-1;const f=c.map(d=>Math.abs(e[d]-n[d])),s=c.map(d=>{u=r?r[d]:++u;const p=e[d]-n[d],g=o.has(u)?p-o.get(u):0;return o.set(u,p),g}),h=[0,...t6(s)];for(const d of c)n[d]+=a,e[d]+=a;const l=Yn(f);l&&(a-=Yn(f,(d,p)=>(s[p]/2+h[p])*d)/l)}fw(i,n,e)}sw(t,n,e)}function fw(t,n,e){const r=en(t,i=>en(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function sw(t,n,e){const r=t.length;if(r===1)return;const i=t.map(c=>c.flat()),o=i.map(c=>(en(c,u=>n[u])+Pt(c,u=>e[u]))/2),a=en(o);for(let c=0;c<r;c++){const u=a-o[c];for(const f of i[c])n[f]+=u,e[f]+=u}}function rA(t,n,e){if(t===void 0&&n===uw)return h1(bn);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Nc:bn;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return iA(i);case"z":return oA(i);case"sum":return aA(i);case"appearance":return cA(i);case"inside-out":return h1(i)}return d1(ty(t))}if(typeof t=="function")return(t.length===1?d1:uA)(t);if(Te(t))return fA(t);throw new Error(`invalid order: ${t}`)}}function iA(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function oA(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function aA(t){return Wu(t,(n,e,r,i)=>dl(Ce(n),o=>Yn(o,a=>r[a]),o=>i[o]))}function cA(t){return Wu(t,(n,e,r,i)=>dl(Ce(n),o=>e[gl(o,a=>r[a])],o=>i[o]))}function h1(t){return Wu(t,(n,e,r,i)=>{const o=Ce(n),a=dl(o,h=>e[gl(h,l=>r[l])],h=>i[h]),c=Vr(o,h=>Yn(h,l=>r[l]),h=>i[h]),u=[],f=[];let s=0;for(const h of a)s<0?(s+=c.get(h),u.push(h)):(s-=c.get(h),f.push(h));return f.reverse().concat(u)})}function d1(t){return n=>{const e=rt(n,t);return(r,i)=>bn(e[r],e[i])}}function uA(t){return n=>Te(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function fA(t){return Wu(bn,()=>t)}function Wu(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new mr(n(e,r,i,o).map((c,u)=>[c,u]));return(c,u)=>t(a.get(o[c]),a.get(o[u]))}}const sA={ariaLabel:"rect"};class Hu extends mt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a}=e;super(n,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,sA),Rh(this,e),Ph(this,e)}render(n,e,r,i,o){const{x:a,y:c}=e;let{x1:u,y1:f,x2:s,y2:h}=r;const{marginTop:l,marginRight:d,marginBottom:p,marginLeft:g,width:b,height:y}=i,{projection:m}=o,{insetTop:_,insetRight:w,insetBottom:v,insetLeft:x}=this,{rx:M,ry:A,rx1y1:S,rx1y2:T,rx2y1:$,rx2y2:E}=this;(u||s)&&!m&&Hn(a)&&(u=s=null),(f||h)&&!m&&Hn(c)&&(f=h=null);const L=a!=null&&a.bandwidth?a.bandwidth():0,k=c!=null&&c.bandwidth?c.bandwidth():0;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{},0,0).call(C=>C.selectAll().data(n).enter().call(S||T||$||E?N=>N.append("path").call(ht,this).call(Fh,u&&s?R=>u[R]+(s[R]<u[R]?-w:x):u?R=>u[R]+x:g+x,f&&h?R=>f[R]+(h[R]<f[R]?-v:_):f?R=>f[R]+_:l+_,u&&s?R=>s[R]-(s[R]<u[R]?-x:w):u?R=>u[R]+L-w:b-d-w,f&&h?R=>h[R]-(h[R]<f[R]?-_:v):f?R=>f[R]+k-v:y-p-v,this).call(St,this,r):N=>N.append("rect").call(ht,this).attr("x",u?s?R=>Math.min(u[R],s[R])+x:R=>u[R]+x:g+x).attr("y",f?h?R=>Math.min(f[R],h[R])+_:R=>f[R]+_:l+_).attr("width",u?s?R=>Math.max(0,Math.abs(s[R]-u[R])+L-x-w):L-x-w:b-d-g-w-x).attr("height",f?h?R=>Math.max(0,Math.abs(f[R]-h[R])+k-_-v):k-_-v:y-l-p-_-v).call(Z,"rx",M).call(Z,"ry",A).call(St,this,r))).node()}}function Rh(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=yt(e),t.insetRight=yt(r),t.insetBottom=yt(i),t.insetLeft=yt(o)}function Ph(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:c=n,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:f=i!==void 0?+i:c!==void 0?+c:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:c!==void 0?+c:0}={}){u||f||s||h?(t.rx1y1=u,t.rx1y2=f,t.rx2y1=s,t.rx2y2=h):(t.rx=Tt(e,"auto"),t.ry=Tt(r,"auto"))}function Fh(t,n,e,r,i,o){const{rx1y1:a,rx1y2:c,rx2y1:u,rx2y2:f}=o;typeof n!="function"&&(n=Dt(n)),typeof e!="function"&&(e=Dt(e)),typeof r!="function"&&(r=Dt(r)),typeof i!="function"&&(i=Dt(i));const s=Math.max(Math.abs(a+u),Math.abs(c+f)),h=Math.max(Math.abs(a+c),Math.abs(u+f));t.attr("d",l=>{const d=n(l),p=e(l),g=r(l),b=i(l),y=d>g,m=p>b,_=y?g:d,w=y?d:g,v=m?b:p,x=m?p:b,M=Math.min(1,(w-_)/s,(x-v)/h),A=M*(y?m?f:u:m?c:a),S=M*(y?m?c:a:m?f:u),T=M*(y?m?a:c:m?u:f),$=M*(y?m?u:f:m?a:c);return`M${_},${v+Ca(A,$)}A${A},${A} 0 0 ${A<0?0:1} ${_+Ta(A,$)},${v}H${w-Ta(S,T)}A${S},${S} 0 0 ${S<0?0:1} ${w},${v+Ca(S,T)}V${x-Ca(T,S)}A${T},${T} 0 0 ${T<0?0:1} ${w-Ta(T,S)},${x}H${_+Ta($,A)}A${$},${$} 0 0 ${$<0?0:1} ${_},${x-Ca($,A)}Z`})}function Ta(t,n){return n<0?t:Math.abs(t)}function Ca(t,n){return n<0?Math.abs(t):t}function Ih(t,n){return new Hu(t,hb(db(n)))}function Bc(t,n={}){return xi(n)||(n={...n,y:Ft,x2:V,interval:1}),new Hu(t,qu(db(Uu(n))))}function Uc(t,n={}){return xi(n)||(n={...n,x:Ft,y2:V,interval:1}),new Hu(t,Xu(hb(Yu(n))))}const lA={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},hA={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class lw extends mt{constructor(n={}){const{anchor:e=null}=n;super(io,void 0,n,e==null?lA:hA),this.anchor=ry(e,"anchor",["top","right","bottom","left"]),Rh(this,n),e||Ph(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:c,marginBottom:u,marginLeft:f,width:s,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:g,insetLeft:b}=this,{rx:y,ry:m,rx1y1:_,rx1y2:w,rx2y1:v,rx2y2:x}=this,M=f+b,A=s-c-p,S=a+d,T=h-u-g;return ct(l?"svg:line":_||w||v||x?"svg:path":"svg:rect",o).datum(0).call(bt,this,i,o).call(ht,this).call(St,this,r).call(gt,this,{}).call(l==="left"?$=>$.attr("x1",M).attr("x2",M).attr("y1",S).attr("y2",T):l==="right"?$=>$.attr("x1",A).attr("x2",A).attr("y1",S).attr("y2",T):l==="top"?$=>$.attr("x1",M).attr("x2",A).attr("y1",S).attr("y2",S):l==="bottom"?$=>$.attr("x1",M).attr("x2",A).attr("y1",T).attr("y2",T):_||w||v||x?$=>$.call(Fh,M,S,A,T,this):$=>$.attr("x",M).attr("y",S).attr("width",A-M).attr("height",T-S).attr("rx",y).attr("ry",m)).node()}}function zh(t){return new lw(t)}const qf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},dA=new Set(["geometry","href","src","ariaLabel","scales"]);class hw extends mt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&Ee(n)&&sy(n)&&(e={...e,title:V});const{x:r,y:i,x1:o,x2:a,y1:c,y2:u,anchor:f,preferredAnchor:s="bottom",monospace:h,fontFamily:l=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:b,lineHeight:y=1,lineWidth:m=20,frameAnchor:_,format:w,textAnchor:v="start",textOverflow:x,textPadding:M=8,title:A,pointerSize:S=12,pathFilter:T="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:c!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:c,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:c==null},title:{value:A,optional:!0}},e,qf),this.anchor=zs(f,"anchor"),this.preferredAnchor=zs(s,"preferredAnchor"),this.frameAnchor=Ko(_),this.textAnchor=Tt(v,"middle"),this.textPadding=+M,this.pointerSize=+S,this.pathFilter=qt(T),this.lineHeight=+y,this.lineWidth=+m,this.textOverflow=xb(x),this.monospace=!!h,this.fontFamily=qt(l),this.fontSize=yt(d),this.fontStyle=qt(p),this.fontVariant=qt(g),this.fontWeight=qt(b);for(const $ in qf)$ in this.channels&&(this[$]=qf[$]);this.splitLines=Sb(this),this.clipLine=Ab(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(n,e,r,i,o){const a=this,{x:c,y:u,fx:f,fy:s}=e,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:y,pointerSize:m,pathFilter:_}=this,{marginTop:w,marginLeft:v}=i,{x1:x,y1:M,x2:A,y2:S,x:T=x??A,y:$=M??S}=r,E=f?f(n.fx)-v:0,L=s?s(n.fy)-w:0,[k,C]=Jn(this,i),N=ib(r,k),R=ob(r,C),z=p?kh:Eh,O=z(Kr);let I,D;"title"in r?(I=p1.call(this,{title:r.channels.title},e),D=yA):(I=p1.call(this,r.channels,e),D=bA);const B=ct("svg:g",o).call(bt,this,i,o).call($b,this).call(gt,this,{x:T&&c,y:$&&u}).call(tt=>tt.selectAll().data(n).enter().append("g").attr("transform",H=>`translate(${Math.round(N(H))},${Math.round(R(H))})`).call(ht,this).call(H=>H.append("path").attr("filter",_)).call(H=>H.append("text").each(function(q){const X=Ue(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const F=D.call(a,q,n,I,e,r);if(typeof F=="string")for(const Y of a.splitLines(F))U(X,{value:a.clipLine(Y)});else{const Y=new Set;for(const W of F){const{label:P=""}=W;P&&Y.has(P)||(Y.add(P),U(X,W))}}})));function U(tt,{label:H,value:q,color:X,opacity:F}){H??(H=""),q??(q="");const Y=X!=null||F!=null;let W,P=b*100;const[ot]=gi(H,P,z,O);if(ot>=0)H=H.slice(0,ot).trimEnd()+Kr,W=q.trim(),q="";else{(H||!q&&!Y)&&(q=" "+q);const[at]=gi(q,P-z(H),z,O);at>=0&&(W=q.trim(),q=q.slice(0,at).trimEnd()+Kr)}const j=tt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");H&&j.append("tspan").attr("font-weight","bold").text(H),q&&j.append(()=>l.createTextNode(q)),Y&&j.append("tspan").text(" ■").attr("fill",X).attr("fill-opacity",F).style("user-select","none"),W&&j.append("title").text(W)}function Q(){const{width:tt,height:H}=i.facet??i;B.selectChildren().each(function(q){let{x:X,width:F,height:Y}=this.getBBox();F=Math.round(F),Y=Math.round(Y);let W=d;if(W===void 0){const j=N(q)+E,at=R(q)+L,ut=j+F+m+y*2<tt,wt=j-F-m-y*2>0,Nn=at+Y+m+y*2<H,nr=at-Y-m-y*2>0;W=ut&&wt?Nn&&nr?a.preferredAnchor:nr?"bottom":"top":Nn&&nr?ut?"left":"right":(ut||wt)&&(Nn||nr)?`${nr?"bottom":"top"}-${ut?"left":"right"}`:a.preferredAnchor}const P=this.firstChild,ot=this.lastChild;if(P.setAttribute("d",mA(W,m,y,F,Y)),X)for(const j of ot.childNodes)j.setAttribute("x",-X);ot.setAttribute("y",`${+pA(W,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${gA(W,m,y,F,Y)})`)}),B.attr("visibility",null)}return n.length&&(B.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(Q):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Q)),B.node()}}function dw(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=En(n,e)),new hw(t,{...r,x:n,y:e})}function pA(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function gA(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function mA(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function p1(t,n){var i,o;const e={};let r=this.format;r=g1(r,t,"x"),r=g1(r,t,"y"),this.format=r;for(const a in r){const c=r[a];if(!(c===null||c===!1))if(a==="fx"||a==="fy")e[a]=!0;else{const u=Os(t,a);u&&(e[a]=u)}}for(const a in t){if(a in e||a in r||dA.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const c=Os(t,a);if(c){if(c.scale==null&&c.defaultScale==="color")continue;e[a]=c}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const a in e){const c=this.format[a];if(typeof c=="string"){const u=((i=e[a])==null?void 0:i.value)??((o=n[a])==null?void 0:o.domain())??[];this.format[a]=(Jt(u)?Go:xe)(c)}else if(c===void 0||c===!0){const u=n[a];this.format[a]=u!=null&&u.bandwidth?Nh(u,u.domain()):hi}}return e}function g1(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([c])=>c===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function yA(t,n,{title:e}){return this.format.title(e.value[t],t)}function*bA(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:Yc(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:y1(r,e,"x"),value:m1(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:y1(r,e,"y"),value:m1(this.format.y2,e.y1,a,t)};else{const c=a.value[t],u=a.scale;if(!Bt(c)&&u==null)continue;yield{label:Yc(r,e,o),value:this.format[o](c,t),color:u==="color"?i[o][t]:null,opacity:u==="opacity"?i[o][t]:null}}}}function m1(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function y1(t,n,e){const r=Yc(t,n,`${e}1`,e),i=Yc(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function Yc(t,n,e,r=e){const i=n[e],o=t[(i==null?void 0:i.scale)??e];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function pw(t={}){var O;const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:c}=t,u=Fu(t.className),f=t.marks===void 0?[]:w1(t.marks);f.push(...SA(f));const s=MA(n,t),h=new Map;for(const I of f){const D=_1(I,s,t);D&&h.set(I,D)}const l=new Map;s&&Bi(l,[s],t),Bi(l,h,t);const d=w1(AA(f,l,t));for(const I of d){const D=_1(I,s,t);D&&h.set(I,D)}f.unshift(...d);let p=v$(l,t);if(p!==void 0){const I=s?Df(p,s):void 0;for(const B of f){if(B.facet===null||B.facet==="super")continue;const U=h.get(B);U!==void 0&&(U.facetsIndex=B.fx!=null||B.fy!=null?Df(p,U):I)}const D=new Set;for(const{facetsIndex:B}of h.values())B==null||B.forEach((U,Q)=>{(U==null?void 0:U.length)>0&&D.add(Q)});p.forEach(0<D.size&&D.size<p.length?(B,U)=>B.empty=!D.has(U):B=>B.empty=!1);for(const B of f)if(B.facet==="exclude"){const U=h.get(B);U!==void 0&&(U.facetsIndex=S$(U.facetsIndex))}}for(const I of xt.keys())lr(t[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const g=new Map;for(const I of f){if(g.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:D,channels:B}=h.get(I)??{},{data:U,facets:Q,channels:tt}=I.initialize(D,B,t);Dh(tt,t),g.set(I,{data:U,facets:Q,channels:tt})}const b=Ys(Bi(l,g,t),t),y=fS(b,f,t);p$(b,y);const m=K0(b),{fx:_,fy:w}=m,v=_||w?Yy(b,y):y,x=_||w?RA(m,y):y,M=Pu(t),A=M.document,S=nu("svg").call(A.documentElement);let T=S;M.ownerSVGElement=S,M.className=u,M.projection=P$(t,v),M.filterFacets=(I,D)=>Df(p,{channels:D,groups:xh(I,D)}),M.getMarkState=I=>{const D=g.get(I),B=h.get(I);return{...D,channels:{...D.channels,...B==null?void 0:B.channels}}},M.dispatchValue=I=>{T.value!==I&&(T.value=I,T.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[I,D]of g)if(I.initializer!=null){const B=I.facet==="super"?x:v,U=I.initializer(D.data,D.facets,D.channels,m,B,M);if(U.data!==void 0&&(D.data=U.data),U.facets!==void 0&&(D.facets=U.facets),U.channels!==void 0){const{fx:Q,fy:tt,...H}=U.channels;vA(H),Object.assign(D.channels,H);for(const q of Object.values(H)){const{scale:X}=q;X!=null&&!uM(xt.get(X))&&(gw(q,t),$.add(X))}(Q!=null||tt!=null)&&h.set(I,!0)}}if($.size){const I=new Map;Bi(I,g,t,Q=>$.has(Q)),Bi(l,g,t,Q=>$.has(Q));const D=LA(Ys(I,t),b),{scales:B,...U}=K0(D);Object.assign(b,D),Object.assign(m,U),Object.assign(m.scales,B)}let E,L;p!==void 0&&(E={x:_==null?void 0:_.domain(),y:w==null?void 0:w.domain()},p=M$(p,E),L=$$(_,w,y));for(const[I,D]of g)D.values=I.scale(D.channels,m,M);const{width:k,height:C}=y;Ue(S).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",k).attr("height",C).attr("viewBox",`0 0 ${k} ${C}`).attr("aria-label",a).attr("aria-description",c).call(I=>I.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Mh,e);for(const I of f){const{channels:D,values:B,facets:U}=g.get(I);if(p===void 0||I.facet==="super"){let Q=null;if(U&&(Q=U[0],Q=I.filter(Q,D,B),Q.length===0))continue;const tt=I.render(Q,m,B,x,M);if(tt==null)continue;S.appendChild(tt)}else{let Q;for(const tt of p){if(!(((O=I.facetAnchor)==null?void 0:O.call(I,p,E,tt))??!tt.empty))continue;let H=null;if(U){const X=h.has(I);if(H=U[X?tt.i:0],H=I.filter(H,D,B),H.length===0)continue;!X&&H===U[0]&&(H=hr(H)),H.fx=tt.x,H.fy=tt.y,H.fi=tt.i}const q=I.render(H,m,B,v,M);if(q!=null){(Q??(Q=Ue(S).append("g"))).append(()=>q).datum(tt);for(const X of["aria-label","aria-description","aria-hidden","transform"])q.hasAttribute(X)&&(Q.attr(X,q.getAttribute(X)),q.removeAttribute(X))}}Q==null||Q.selectChildren().attr("transform",L)}}const N=VS(b,M,t),{figure:R=r!=null||i!=null||o!=null||N.length>0}=t;R&&(T=A.createElement("figure"),T.className=`${u}-figure`,T.style.maxWidth="initial",r!=null&&T.append(b1(A,r,"h2")),i!=null&&T.append(b1(A,i,"h3")),T.append(...N,S),o!=null&&T.append(wA(A,o)),"value"in S&&(T.value=S.value,delete S.value)),T.scale=x$(m.scales),T.legend=WS(b,M,t);const z=KM();return z>0&&Ue(S).append("text").attr("x",k).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),T}function b1(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function wA(t,n){const e=t.createElement("figcaption");return e.append(n),e}function w1(t){return t.flat(1/0).filter(n=>n!=null).map(_A)}function _A(t){return typeof t.render=="function"?t:new xA(t)}class xA extends mt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Dh(t,n){for(const e in t)gw(t[e],n);return t}function gw(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:c=o?u=>u==null?NaN:u*100:uy(a,i)}=n[e]??{};c!=null&&(t.value=dt(t.value,c),t.transform=!1)}function vA(t){for(const n in t)Ty(n,t[n])}function Bi(t,n,e,r=V9){var i,o;for(const{channels:a}of n.values())for(const c in a){const u=a[c],{scale:f}=u;if(f!=null&&r(f))if(f==="projection"){if(!z$(e)){const s=((i=e.x)==null?void 0:i.domain)===void 0,h=((o=e.y)==null?void 0:o.domain)===void 0;if(s||h){const[l,d]=O$(u);s&&Xf(t,"x",l),h&&Xf(t,"y",d)}}}else Xf(t,f,u)}return t}function Xf(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function MA(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=fi(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Ao(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Ao(i,{value:r,scale:"fy"})),Dh(o,n);const a=xh(i,o);return{channels:o,groups:a,data:t.data}}function _1(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=fi(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const f={};return r!=null&&(f.fx=Ao(u,{value:r,scale:"fx"})),i!=null&&(f.fy=Ao(u,{value:i,scale:"fy"})),Dh(f,e),{channels:f,groups:xh(u,f)}}if(n===void 0)return;const{channels:o,groups:a,data:c}=n;if(t.facet!=="auto"||t.data===c)return{channels:o,groups:a};c.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Mo(fi(t.data))===Mo(c)&&ye(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function $A(t,n={}){return Qt({...n,x:null,y:null},(e,r,i,o,a,c)=>c.getMarkState(t))}function SA(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?Ah:/^y$/i.test(i)?zc:Sh,r=i($A(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===zc?"left":"bottom");const a=dw(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function AA(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:c={},axis:u,grid:f,facet:s={},facet:{axis:h=u,grid:l}=s,x:{axis:d=u,grid:p=d===null?null:f}=i,y:{axis:g=u,grid:b=g===null?null:f}=o,fx:{axis:y=h,grid:m=y===null?null:l}=a,fy:{axis:_=h,grid:w=_===null?null:l}=c}=e;(r||!lr(i)&&!x1("x",t))&&(d=p=null),(r||!lr(o)&&!x1("y",t))&&(g=b=null),n.has("fx")||(y=m=null),n.has("fy")||(_=w=null),d===void 0&&(d=!Na(t,"x")),g===void 0&&(g=!Na(t,"y")),y===void 0&&(y=!Na(t,"fx")),_===void 0&&(_=!Na(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),y===!0&&(y=d==="top"||d===null?"bottom":"top"),_===!0&&(_=g==="right"||g===null?"left":"right");const v=[];return ka(v,w,Wb,c),Ea(v,_,Bb,"right","left",s,c),ka(v,m,Hb,a),Ea(v,y,Ub,"top","bottom",s,a),ka(v,b,Xb,o),Ea(v,g,Ai,"left","right",e,o),ka(v,p,Bu,i),Ea(v,d,Ti,"bottom","top",e,i),v}function Ea(t,n,e,r,i,o,a){if(!n)return;const c=TA(n);a=CA(c?r:n,o,a);const{line:u}=a;(e===Ai||e===Ti)&&u&&!si(u)&&t.push(zh(EA(a))),t.push(e(a)),c&&t.push(e({...a,anchor:i,label:null}))}function ka(t,n,e,r){!n||si(n)||t.push(e(kA(n,r)))}function TA(t){return/^\s*both\s*$/i.test(t)}function CA(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:u,fontVariant:f,ariaLabel:s,ariaDescription:h,label:l=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:c,tickRotate:u,fontVariant:f,ariaLabel:s,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:g}}function EA(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function kA(t,{stroke:n=Zo(t)?t:void 0,ticks:e=NA(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function NA(t){switch(typeof t){case"number":return!0;case"string":return!Zo(t)}return Ee(t)||typeof(t==null?void 0:t.range)=="function"}function Na(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function x1(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function LA(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function RA({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:c,height:u}=_h(e),f=t&&v1(t),s=n&&v1(n);return{marginTop:n?s[0]:r,marginRight:t?c-f[1]:i,marginBottom:n?u-s[1]:o,marginLeft:t?f[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:c,height:u}}function v1(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const PA=new Map([["basis",_9],["basis-closed",x9],["basis-open",v9],["bundle",M9],["bump-x",f9],["bump-y",s9],["cardinal",$9],["cardinal-closed",S9],["cardinal-open",A9],["catmull-rom",T9],["catmull-rom-closed",C9],["catmull-rom-open",E9],["linear",Vo],["linear-closed",k9],["monotone-x",N9],["monotone-y",L9],["natural",R9],["step",P9],["step-after",I9],["step-before",F9]]);function Oh(t=Vo,n){if(typeof t=="function")return t;const e=PA.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function mw(t=mi,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?mi:Oh(t,n)}function mi(t){return Vo(t)}function Fe(t={y:"count"},n={}){[t,n]=qh(t,n);const{x:e,y:r}=n;return Yh(qc(e,n,V),null,null,r,t,oa(n))}function Ie(t={x:"count"},n={}){[t,n]=qh(t,n);const{x:e,y:r}=n;return Yh(null,qc(r,n,V),e,null,t,aa(n))}function or(t={fill:"count"},n={}){[t,n]=qh(t,n);const{x:e,y:r}=FA(n);return Yh(e,r,null,null,t,oa(aa(n)))}function yw(t,n,e={}){if((e==null?void 0:e.interval)==null)return e;const{reduce:r=gh}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function Bh(t={}){return yw(Fe,"y",Cr(t,"x"))}function Uh(t={}){return yw(Ie,"x",Cr(t,"y"))}function Yh(t,n,e,r,{data:i=ph,filter:o=Fc,sort:a,reverse:c,...u}={},f={}){t=M1(t),n=M1(n),u=IA(u,f),i=xw(i,V),a=a==null?void 0:ww("sort",a,f),o=o==null?void 0:_w("filter",o,f),e!=null&&Oe(u,"x","x1","x2")&&(e=null),r!=null&&Oe(u,"y","y1","y2")&&(r=null);const[s,h]=tn(t),[l,d]=tn(t),[p,g]=tn(n),[b,y]=tn(n),[m,_]=e!=null?[e,"x"]:r!=null?[r,"y"]:[],[w,v]=tn(m),{x,y:M,z:A,fill:S,stroke:T,x1:$,x2:E,y1:L,y2:k,domain:C,cumulative:N,thresholds:R,interval:z,...O}=f,[I,D]=tn(A),[B]=Kt(S),[U]=Kt(T),[Q,tt]=tn(B),[H,q]=tn(U);return{..."z"in f&&{z:I||A},..."fill"in f&&{fill:Q||S},..."stroke"in f&&{stroke:H||T},...kn(O,(X,F,Y)=>{const W=Pc(rt(X,m),Y==null?void 0:Y[_]),P=rt(X,A),ot=rt(X,B),j=rt(X,U),at=dh(u,{z:P,fill:ot,stroke:j}),ut=[],wt=[],Nn=W&&v([]),nr=P&&D([]),N_=ot&&tt([]),L_=j&&q([]),sd=t&&h([]),R_=t&&d([]),ld=n&&g([]),P_=n&&y([]),F_=OA(t,n,X);let I_=0;for(const Er of u)Er.initialize(X);a&&a.initialize(X),o&&o.initialize(X);for(const Er of F){const hd=[];for(const kr of u)kr.scope("facet",Er);a&&a.scope("facet",Er),o&&o.scope("facet",Er);for(const[kr,z_]of dr(Er,at))for(const[D_,fa]of dr(z_,W))for(const[Ln,Qn]of F_(fa))if(at&&(Qn.z=kr),!(o&&!o.reduce(Ln,Qn))){hd.push(I_++),wt.push(i.reduceIndex(Ln,X,Qn)),W&&Nn.push(D_),P&&nr.push(at===P?kr:P[(Ln.length>0?Ln:fa)[0]]),ot&&N_.push(at===ot?kr:ot[(Ln.length>0?Ln:fa)[0]]),j&&L_.push(at===j?kr:j[(Ln.length>0?Ln:fa)[0]]),sd&&(sd.push(Qn.x1),R_.push(Qn.x2)),ld&&(ld.push(Qn.y1),P_.push(Qn.y2));for(const O_ of u)O_.reduce(Ln,Qn);a&&a.reduce(Ln,Qn)}ut.push(hd)}return $y(ut,a,c),{data:wt,facets:ut}}),...!Oe(u,"x")&&(s?{x1:s,x2:l,x:Rc(s,l)}:{x,x1:$,x2:E}),...!Oe(u,"y")&&(p?{y1:p,y2:b,y:Rc(p,b)}:{y:M,y1:L,y2:k}),...w&&{[_]:w},...Object.fromEntries(u.map(({name:X,output:F})=>[X,F]))}}function qh({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function qc(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...Mi(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=bw(t.thresholds,t.interval),t}function FA(t){let{x:n,y:e}=t;return n=qc(n,t),e=qc(e,t),[n.value,e.value]=En(n.value,e.value),{x:n,y:e}}function M1(t){if(t==null)return;const{value:n,cumulative:e,domain:r=Ct,thresholds:i}=t,o=a=>{let c=rt(a,n),u;if(Jt(c)||DA(i)){c=dt(c,ey,Float64Array);let[s,h]=typeof r=="function"?r(c):r,l=typeof i=="function"&&!Xr(i)?i(c,s,h):i;typeof l=="number"&&(l=tm(s,h,l)),Xr(l)&&(r===Ct&&(s=l.floor(s),h=l.offset(l.floor(h))),l=l.range(s,l.offset(h))),u=l}else{c=nn(c);let[s,h]=typeof r=="function"?r(c):r,l=typeof i=="function"&&!Xr(i)?i(c,s,h):i;if(typeof l=="number")if(r===Ct){let d=fo(s,h,l);if(isFinite(d))if(d>0){let p=Math.round(s/d),g=Math.round(h/d);p*d<=s||--p,g*d>h||++g;let b=g-p+1;l=new Float64Array(b);for(let y=0;y<b;++y)l[y]=(p+y)*d}else if(d<0){d=-d;let p=Math.round(s*d),g=Math.round(h*d);p/d<=s||--p,g/d>h||++g;let b=g-p+1;l=new Float64Array(b);for(let y=0;y<b;++y)l[y]=(p+y)/d}else l=[s];else l=[s]}else l=Ye(s,h,l);else Xr(l)&&(r===Ct&&(s=l.floor(s),h=l.offset(l.floor(h))),l=l.range(s,l.offset(h)));u=l}const f=[];if(u.length===1)f.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)f.push([u[s-1],u[s]]);return f.bin=(e<0?UA:e>0?BA:Xh)(f,u,c),f};return o.label=Kn(n),o}function bw(t,n,e=$1){if(t===void 0)return n===void 0?e:vi(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return f6;case"scott":return ip;case"sturges":return pl;case"auto":return $1}return vu(t)}return t}function IA(t,n){return wy(t,n,ww)}function ww(t,n,e){return lh(t,n,e,_w)}function _w(t,n,e){return hh(t,n,e,xw)}function xw(t,n){return ku(t,n,zA)}function zA(t){switch(`${t}`.toLowerCase()){case"x":return YA;case"x1":return XA;case"x2":return WA;case"y":return qA;case"y1":return HA;case"y2":return GA;case"z":return Sy}throw new Error(`invalid bin reduce: ${t}`)}function $1(t,n,e){return Math.min(200,ip(t,n,e))}function DA(t){return K9(t)||Ee(t)&&Jt(t)}function OA(t,n,e){const r=t==null?void 0:t(e),i=n==null?void 0:n(e);return r&&i?function*(o){const a=r.bin(o);for(const[c,[u,f]]of r.entries()){const s=i.bin(a[c]);for(const[h,[l,d]]of i.entries())yield[s[h],{data:e,x1:u,y1:l,x2:f,y2:d}]}}:r?function*(o){const a=r.bin(o);for(const[c,[u,f]]of r.entries())yield[a[c],{data:e,x1:u,x2:f}]}:function*(o){const a=i.bin(o);for(const[c,[u,f]]of i.entries())yield[a[c],{data:e,y1:u,y2:f}]}}function Xh(t,n,e){return n=nn(n),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[Kc(n,e[a])-1])==null||o.push(a);return i}}function BA(t,n,e){const r=Xh(t,n,e);return i=>{const o=r(i);for(let a=1,c=o.length;a<c;++a){const u=o[a-1],f=o[a];for(const s of u)f.push(s)}return o}}function UA(t,n,e){const r=Xh(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const c=o[a+1],u=o[a];for(const f of c)u.push(f)}return o}}function vw(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const YA={reduceIndex(t,n,{x1:e,x2:r}){return vw(e,r)}},qA={reduceIndex(t,n,{y1:e,y2:r}){return vw(e,r)}},XA={reduceIndex(t,n,{x1:e}){return e}},WA={reduceIndex(t,n,{x2:e}){return e}},HA={reduceIndex(t,n,{y1:e}){return e}},GA={reduceIndex(t,n,{y2:e}){return e}},VA={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Gu extends mt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,z:c,curve:u,tension:f}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Ke(e),optional:!0}},e,VA),this.z=c,this.curve=Oh(u,f)}filter(n){return n}render(n,e,r,i,o){const{x1:a,y1:c,x2:u=a,y2:f=c}=r;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e,0,0).call(s=>s.selectAll().data(nb(n,[a,c,u,f],this,r)).enter().append("path").call(ht,this).call(Ic,this,r).attr("d",Ul().curve(this.curve).defined(h=>h>=0).x0(h=>a[h]).y0(h=>c[h]).x1(h=>u[h]).y1(h=>f[h]))).node()}}function js(t,n){return n===void 0?yi(t,{x:$u,y:xo}):new Gu(t,n)}function Co(t,n){const{y:e=Ft,...r}=Uh(n);return new Gu(t,qu(Uu({...r,y1:e,y2:void 0})))}function yi(t,n){const{x:e=Ft,...r}=Bh(n);return new Gu(t,Xu(Yu({...r,x1:e,x2:void 0})))}const jA={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Mw extends mt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,curve:c,tension:u}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,jA),this.curve=mw(c,u),$i(this,e)}project(n,e,r){this.curve!==mi&&super.project(n,e,r)}render(n,e,r,i,o){const{x1:a,y1:c,x2:u=a,y2:f=c}=r,{curve:s}=this;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(h=>h.selectAll().data(n).enter().append("path").call(ht,this).attr("d",s===mi&&o.projection?ZA(o.projection,a,c,u,f):l=>{const d=se(),p=s(d);return p.lineStart(),p.point(a[l],c[l]),p.point(u[l],f[l]),p.lineEnd(),d}).call(St,this,r).call(ia,this,r,o)).node()}}function ZA(t,n,e,r,i){const o=Ae(t);return n=nn(n),e=nn(e),r=nn(r),i=nn(i),a=>o({type:"LineString",coordinates:[[n[a],e[a]],[r[a],i[a]]]})}function $w(t,{x:n,x1:e,x2:r,y:i,y1:o,y2:a,...c}={}){return[e,r]=Xc(n,e,r),[o,a]=Xc(i,o,a),new Mw(t,{...c,x1:e,x2:r,y1:o,y2:a})}function Xc(t,n,e){if(t===void 0){if(n===void 0){if(e!==void 0)return[e]}else if(e===void 0)return[n]}else{if(n===void 0)return e===void 0?[t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}const KA={ariaLabel:"arrow",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:1,strokeWidth:1.5};class Sw extends mt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,bend:c=0,headAngle:u=60,headLength:f=8,inset:s=0,insetStart:h=s,insetEnd:l=s,sweep:d}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},e,KA),this.bend=c===!0?22.5:Math.max(-90,Math.min(90,c)),this.headAngle=+u,this.headLength=+f,this.insetStart=+h,this.insetEnd=+l,this.sweep=JA(d)}render(n,e,r,i,o){const{x1:a,y1:c,x2:u=a,y2:f=c,SW:s}=r,{strokeWidth:h,bend:l,headAngle:d,headLength:p,insetStart:g,insetEnd:b}=this,y=s?w=>s[w]:Dt(h===void 0?1:h),m=d*Dc/2,_=p/1.5;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(w=>w.selectAll().data(n).enter().append("path").call(ht,this).attr("d",v=>{let x=a[v],M=c[v],A=u[v],S=f[v];const T=Math.hypot(A-x,S-M);if(T<=g+b)return null;let $=Math.atan2(S-M,A-x);const E=Math.min(_*y(v),T/3),L=this.sweep(x,M,A,S)*l*Dc,k=Math.hypot(T/Math.tan(L),T)/2;if(g||b)if(k<1e5){const Q=Math.sign(L),[tt,H]=QA([x,M],[A,S],k,Q);if(g&&([x,M]=S1([tt,H,k],[x,M,g],-Q*Math.sign(g))),b){const[q,X]=S1([tt,H,k],[A,S,b],Q*Math.sign(b));$+=Math.atan2(X-H,q-tt)-Math.atan2(S-H,A-tt),A=q,S=X}}else{const Q=A-x,tt=S-M,H=Math.hypot(Q,tt);g&&(x+=Q/H*g,M+=tt/H*g),b&&(A-=Q/H*b,S-=tt/H*b)}const C=$+L,N=C+m,R=C-m,z=A-E*Math.cos(N),O=S-E*Math.sin(N),I=A-E*Math.cos(R),D=S-E*Math.sin(R),B=k<1e5?`A${k},${k} 0,0,${L>0?1:0} `:"L",U=E?`M${z},${O}L${A},${S}L${I},${D}`:"";return`M${x},${M}${B}${A},${S}${U}`}).call(St,this,r)).node()}}function JA(t=1){if(typeof t=="number")return Dt(Math.sign(t));if(typeof t=="function")return(n,e,r,i)=>Math.sign(t(n,e,r,i));switch(fn(t,"sweep",["+x","-x","+y","-y"])){case"+x":return(n,e,r)=>vt(n,r);case"-x":return(n,e,r)=>gr(n,r);case"+y":return(n,e,r,i)=>vt(e,i);case"-y":return(n,e,r,i)=>gr(e,i)}}function QA([t,n],[e,r],i,o){const a=e-t,c=r-n,u=Math.hypot(a,c),f=o*Math.sqrt(i*i-u*u/4)/u;return[(t+e)/2-c*f,(n+r)/2+a*f]}function S1([t,n,e],[r,i,o],a){const c=r-t,u=i-n,f=Math.hypot(c,u),s=(c*c+u*u-o*o+e*e)/(2*f),h=a*Math.sqrt(e*e-s*s);return[t+(c*s+u*h)/f,n+(u*s-c*h)/f]}function tT(t,{x:n,x1:e,x2:r,y:i,y1:o,y2:a,...c}={}){return[e,r]=Xc(n,e,r),[o,a]=Xc(i,o,a),new Sw(t,{...c,x1:e,x2:r,y1:o,y2:a})}const nT={ariaLabel:"bar"};class Wh extends mt{constructor(n,e,r={},i=nT){super(n,e,r,i),Rh(this,r),Ph(this,r)}render(n,e,r,i,o){const{rx:a,ry:c,rx1y1:u,rx1y2:f,rx2y1:s,rx2y2:h}=this,l=this._x(e,r,i),d=this._y(e,r,i),p=this._width(e,r,i),g=this._height(e,r,i);return ct("svg:g",o).call(bt,this,i,o).call(this._transform,this,e).call(b=>b.selectAll().data(n).enter().call(u||f||s||h?y=>y.append("path").call(ht,this).call(Fh,l,d,A1(l,p),A1(d,g),this).call(St,this,r):y=>y.append("rect").call(ht,this).attr("x",l).attr("width",p).attr("y",d).attr("height",g).call(Z,"rx",a).call(Z,"ry",c).call(St,this,r))).node()}_x(n,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?o=>e[o]+i:r+i}_y(n,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?o=>e[o]+i:r+i}_width({x:n},{x:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:c}=this,u=e&&n?n.bandwidth():o-r-i;return Math.max(0,u-a-c)}_height({y:n},{y:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:c}=this,u=e&&n?n.bandwidth():o-r-i;return Math.max(0,u-a-c)}}function A1(t,n){return typeof t=="function"&&typeof n=="function"?e=>t(e)+n(e):typeof t=="function"?e=>t(e)+n:typeof n=="function"?e=>t+n(e):t+n}class Hh extends Wh{constructor(n,e={},r){const{x1:i,x2:o,y:a}=e;super(n,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},e,r)}_transform(n,e,{x:r}){n.call(gt,e,{x:r},0,0)}_x({x:n},{x1:e,x2:r},{marginLeft:i}){const{insetLeft:o}=this;return Hn(n)?i+o:a=>Math.min(e[a],r[a])+o}_width({x:n},{x1:e,x2:r},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:c,insetRight:u}=this;return Hn(n)?a-i-o-c-u:f=>Math.max(0,Math.abs(r[f]-e[f])-c-u)}}class Gh extends Wh{constructor(n,e={},r){const{x:i,y1:o,y2:a}=e;super(n,{y1:{value:o,scale:"y"},y2:{value:a,scale:"y"},x:{value:i,scale:"x",type:"band",optional:!0}},e,r)}_transform(n,e,{y:r}){n.call(gt,e,{y:r},0,0)}_y({y:n},{y1:e,y2:r},{marginTop:i}){const{insetTop:o}=this;return Hn(n)?i+o:a=>Math.min(e[a],r[a])+o}_height({y:n},{y1:e,y2:r},{marginTop:i,marginBottom:o,height:a}){const{insetTop:c,insetBottom:u}=this;return Hn(n)?a-i-o-c-u:f=>Math.max(0,Math.abs(r[f]-e[f])-c-u)}}function pe(t,n={}){return xi(n)||(n={...n,y:Ft,x2:V}),new Hh(t,qu(Th(Uu(n))))}function Be(t,n={}){return xi(n)||(n={...n,x:Ft,y2:V}),new Gh(t,Xu(Ch(Yu(n))))}const eT={ariaLabel:"cell"};class Vu extends Wh{constructor(n,{x:e,y:r,...i}={}){super(n,{x:{value:e,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,eT)}_transform(n,e){n.call(gt,e,{},0,0)}}function Hr(t,{x:n,y:e,...r}={}){return[n,e]=En(n,e),new Vu(t,{...r,x:n,y:e})}function rT(t,{x:n=Ft,fill:e,stroke:r,...i}={}){return e===void 0&&Kt(r)[0]===void 0&&(e=V),new Vu(t,{...i,x:n,fill:e,stroke:r})}function iT(t,{y:n=Ft,fill:e,stroke:r,...i}={}){return e===void 0&&Kt(r)[0]===void 0&&(e=V),new Vu(t,{...i,y:n,fill:e,stroke:r})}const oT={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Vh(t){return t.sort===void 0&&t.reverse===void 0?yy({channel:"-r"},t):t}class ju extends mt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:c=_o,frameAnchor:u}=e,[f,s]=At(a,0),[h,l]=hM(c),[d,p]=At(o,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:me,optional:!0},rotate:{value:f,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},Vh(e),oT),this.r=p,this.rotate=s,this.symbol=l,this.frameAnchor=Ko(u);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:y,stroke:m}=g;b.hint={fill:y?y.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:m?m.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,r:s,rotate:h,symbol:l}=r,{r:d,rotate:p,symbol:g}=this,[b,y]=Jn(this,i),m=g===_o,_=s?void 0:d*d*Math.PI;return _u(d)&&(n=[]),ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(w=>w.selectAll().data(n).enter().append(m?"circle":"path").call(ht,this).call(m?v=>{v.attr("cx",u?x=>u[x]:b).attr("cy",f?x=>f[x]:y).attr("r",s?x=>s[x]:d)}:v=>{v.attr("transform",pi`translate(${u?x=>u[x]:b},${f?x=>f[x]:y})${h?x=>` rotate(${h[x]})`:p?` rotate(${p})`:""}`).attr("d",s&&l?x=>{const M=se();return l[x].draw(M,s[x]*s[x]*Math.PI),M}:s?x=>{const M=se();return g.draw(M,s[x]*s[x]*Math.PI),M}:l?x=>{const M=se();return l[x].draw(M,_),M}:(()=>{const x=se();return g.draw(x,_),x})())}).call(St,this,r)).node()}}function tr(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=En(n,e)),new ju(t,{...r,x:n,y:e})}function aT(t,{x:n=V,...e}={}){return new ju(t,gb({...e,x:n}))}function cT(t,{y:n=V,...e}={}){return new ju(t,pb({...e,y:n}))}function uT(t,n){return tr(t,{...n,symbol:"circle"})}function fT(t,n){return tr(t,{...n,symbol:"hexagon"})}const sT={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Zu extends mt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:c}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Ke(e),optional:!0}},e,sT),this.z=o,this.curve=mw(a,c),$i(this,e)}filter(n){return n}project(n,e,r){this.curve!==mi&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:c}=r,{curve:u}=this;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(f=>f.selectAll().data(nb(n,[a,c],this,r)).enter().append("path").call(ht,this).call(Ic,this,r).call(gS,this,r,o).attr("d",u===mi&&o.projection?lT(o.projection,a,c):v2().curve(u).defined(s=>s>=0).x(s=>a[s]).y(s=>c[s]))).node()}}function lT(t,n,e){const r=Ae(t);return n=nn(n),e=nn(e),i=>{let o=[];const a=[o];for(const c of i)c===-1?(o=[],a.push(o)):o.push([n[c],e[c]]);return r({type:"MultiLineString",coordinates:a})}}function Ku(t,{x:n,y:e,...r}={}){return[n,e]=En(n,e),new Zu(t,{...r,x:n,y:e})}function Eo(t,{x:n=V,y:e=Ft,...r}={}){return new Zu(t,Uh({...r,x:n,y:e}))}function ko(t,{x:n=Ft,y:e=V,...r}={}){return new Zu(t,Bh({...r,x:n,y:e}))}function Aw(t,n){n=dT(n);const{x:e,y:r,color:i,size:o}=n,a=La(t,e),c=La(t,r),u=La(t,i),f=La(t,o);let{fx:s,fy:h,x:{value:l,reduce:d,zero:p,...g},y:{value:b,reduce:y,zero:m,..._},color:{value:w,color:v,reduce:x},size:{value:M,reduce:A},mark:S}=n;if(d===void 0&&(d=y==null&&l==null&&M==null&&b!=null?"count":null),y===void 0&&(y=d==null&&b==null&&M==null&&l!=null?"count":null),A===void 0&&M==null&&x==null&&d==null&&y==null&&(l==null||Mt(a))&&(b==null||Mt(c))&&(A="count"),p===void 0&&(p=Ra(d)?!0:void 0),m===void 0&&(m=Ra(y)?!0:void 0),l==null&&b==null)throw new Error("must specify x or y");if(d!=null&&b==null)throw new Error("reducing x requires y");if(y!=null&&l==null)throw new Error("reducing y requires x");S===void 0&&(S=M!=null||A!=null?"dot":Ra(d)||Ra(y)||x!=null?"bar":l!=null&&b!=null?Mt(a)||Mt(c)||d==null&&y==null&&!Ui(a)&&!Ui(c)?"dot":"line":l!=null||b!=null?"rule":null);let T,$,E;switch(S){case"dot":E=tr,$="stroke";break;case"line":E=a&&c||d!=null||y!=null?m||y!=null||a&&Ui(a)?ko:p||d!=null||c&&Ui(c)?Eo:Ku:a?Eo:ko,$="stroke",C1(u)&&(T=null);break;case"area":E=!(m||y!=null)&&(p||d!=null||c&&Ui(c))?Co:yi,$="fill",C1(u)&&(T=null);break;case"rule":E=a?Gn:$e,$="stroke";break;case"bar":E=d!=null?Mt(c)?T1(d)&&a&&Mt(a)?Hr:pe:Bc:y!=null?Mt(a)?T1(y)&&c&&Mt(c)?Hr:Be:Uc:x!=null||A!=null?a&&Mt(a)&&c&&Mt(c)?Hr:a&&Mt(a)?Be:c&&Mt(c)?pe:Ih:a&&Wr(a)&&!(c&&Wr(c))?pe:c&&Wr(c)&&!(a&&Wr(a))?Be:Hr,$="fill";break;default:throw new Error(`invalid mark: ${S}`)}let L={fx:s,fy:h,x:a??void 0,y:c??void 0,[$]:u??v,z:T,r:f??void 0,tip:!0},k,C={[$]:x??void 0,r:A??void 0};if(d!=null&&y!=null)throw new Error("cannot reduce both x and y");return y!=null?(C.y=y,k=Mt(a)?$o:Fe):d!=null?(C.x=d,k=Mt(c)?So:Ie):(x!=null||A!=null)&&(a&&c?k=Mt(a)&&Mt(c)?sh:Mt(a)?Ie:Mt(c)?Fe:or:a?k=Mt(a)?$o:Fe:c&&(k=Mt(c)?So:Ie)),(k===or||k===Fe)&&(L.x={value:a,...g}),(k===or||k===Ie)&&(L.y={value:c,..._}),p===void 0&&(p=a&&!(k===or||k===Fe)&&(E===pe||E===Co||E===Bc||E===$e)),m===void 0&&(m=c&&!(k===or||k===Ie)&&(E===Be||E===yi||E===Uc||E===Gn)),{fx:s??null,fy:h??null,x:{value:l??null,reduce:d??null,zero:!!p,...g},y:{value:b??null,reduce:y??null,zero:!!m,..._},color:{value:w??null,reduce:x??null,...v!==void 0&&{color:v}},size:{value:M??null,reduce:A??null},mark:S,markImpl:E1[E],markOptions:L,transformImpl:E1[k],transformOptions:C,colorMode:$}}function hT(t,n){const e=Aw(t,n),{fx:r,fy:i,x:{zero:o},y:{zero:a},markOptions:c,transformOptions:u,colorMode:f}=e,s=Zs[e.markImpl],h=Zs[e.transformImpl],l=r!=null||i!=null?zh({strokeOpacity:.1}):null,d=[o?Gn([0]):null,a?$e([0]):null],p=s(t,h?h(u,c):c);return f==="stroke"?wn(l,d,p):wn(l,p,d)}function Ui(t){let n,e;for(const r of t){if(r==null)continue;if(n===void 0){n=r;continue}const i=Math.sign(vt(n,r));if(i){if(e!==void 0&&i!==e)return!1;n=r,e=i}}return!0}function dT({x:t,y:n,color:e,size:r,fx:i,fy:o,mark:a}={}){return Pn(t)||(t=Dr(t)),Pn(n)||(n=Dr(n)),Pn(e)||(e=Zo(e)?{color:e}:Dr(e)),Pn(r)||(r=Dr(r)),Pn(i)&&({value:i}=Dr(i)),Pn(o)&&({value:o}=Dr(o)),a!=null&&(a=`${a}`.toLowerCase()),{x:t,y:n,color:e,size:r,fx:i,fy:o,mark:a}}function La(t,n){const e=rt(t,n.value);return e&&(e.label=Kn(n.value)),e}function Dr(t){return pT(t)?{reduce:t}:{value:t}}function Ra(t){return/^(?:distinct|count|sum|proportion)$/i.test(t)}function T1(t){return/^(?:first|last|mode)$/i.test(t)}function pT(t){if(t==null)return!1;if(typeof t.reduceIndex=="function"||typeof t.reduce=="function"&&_n(t)||/^p\d{2}$/i.test(t))return!0;switch(`${t}`.toLowerCase()){case"first":case"last":case"count":case"distinct":case"sum":case"proportion":case"proportion-facet":case"deviation":case"min":case"min-index":case"max":case"max-index":case"mean":case"median":case"variance":case"mode":return!0}return!1}function C1(t){return t?new Lo(t).size>t.length>>1:!1}const Zs={dot:tr,line:Ku,lineX:Eo,lineY:ko,areaX:Co,areaY:yi,ruleX:Gn,ruleY:$e,barX:pe,barY:Be,rect:Ih,rectX:Bc,rectY:Uc,cell:Hr,bin:or,binX:Fe,binY:Ie,group:sh,groupX:$o,groupY:So},E1=Object.fromEntries(Object.entries(Zs).map(([t,n])=>[n,t]));function jh(t,n={}){let{x:e,x1:r,x2:i}=n;e===void 0&&r===void 0&&i===void 0&&(n={...n,x:e=V});const o={};return e!=null&&(o.x=t),r!=null&&(o.x1=t),i!=null&&(o.x2=t),Vn(o,n)}function Zh(t,n={}){let{y:e,y1:r,y2:i}=n;e===void 0&&r===void 0&&i===void 0&&(n={...n,y:e=V});const o={};return e!=null&&(o.y=t),r!=null&&(o.y1=t),i!=null&&(o.y2=t),Vn(o,n)}function Vn(t={},n={}){const e=Ke(n),r=Object.entries(t).map(([i,o])=>{const a=cy(i,n);if(a==null)throw new Error(`missing channel: ${i}`);const[c,u]=an(a);return{key:i,input:a,output:c,setOutput:u,map:gT(o)}});return{...kn(n,(i,o)=>{const a=rt(i,e),c=r.map(({input:f})=>rt(i,f)),u=r.map(({setOutput:f})=>f(new Array(i.length)));for(const f of o)for(const s of a?Ge(f,h=>a[h]).values():[f])r.forEach(({map:h},l)=>h.mapIndex(s,c[l],u[l]));return{data:i,facets:o}}),...Object.fromEntries(r.map(({key:i,output:o})=>[i,o]))}}function gT(t){if(t==null)throw new Error("missing map");if(typeof t.mapIndex=="function")return t;if(typeof t.map=="function"&&_n(t))return mT(t);if(typeof t=="function")return Wf(nh(t));switch(`${t}`.toLowerCase()){case"cumsum":return bT;case"rank":return Wf((n,e)=>cp(n,r=>e[r]));case"quantile":return Wf((n,e)=>yT(n,r=>e[r]))}throw new Error(`invalid map: ${t}`)}function mT(t){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:t.map.bind(t)}}function yT(t,n){const e=Jc(t,n)-1;return cp(t,n).map(r=>r/e)}function Wf(t){return{mapIndex(n,e,r){const i=t(n,e);if(i.length!==n.length)throw new Error("map function returned a mismatched length");for(let o=0,a=n.length;o<a;++o)r[n[o]]=i[o]}}}const bT={mapIndex(t,n,e){let r=0;for(const i of t)e[i]=r+=n[i]}};function wT(t={},n){return arguments.length===1&&(n=t),jh(Ju(t),n)}function _T(t={},n){return arguments.length===1&&(n=t),Zh(Ju(t),n)}function Ju(t={}){typeof t=="number"&&(t={k:t});let{k:n,reduce:e,shift:r,anchor:i,strict:o}=t;if(i===void 0&&r!==void 0&&(i=vT(r),ye(`Warning: the shift option is deprecated; please use anchor "${i}" instead.`)),!((n=Math.floor(n))>0))throw new Error(`invalid k: ${n}`);return MT(e)(n,xT(i,n),o)}function xT(t="middle",n){switch(`${t}`.toLowerCase()){case"middle":return n-1>>1;case"start":return 0;case"end":return n-1}throw new Error(`invalid anchor: ${t}`)}function vT(t){switch(`${t}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${t}`)}function MT(t="mean"){if(typeof t=="string"){if(/^p\d{2}$/i.test(t))return Pa(Ql(t));switch(t.toLowerCase()){case"deviation":return Pa(No);case"max":return Fa((n,e)=>Pt(n,r=>e[r]));case"mean":return $T;case"median":return Pa(so);case"min":return Fa((n,e)=>en(n,r=>e[r]));case"mode":return Fa((n,e)=>ap(n,r=>e[r]));case"sum":return Tw;case"variance":return Pa(sl);case"difference":return TT;case"ratio":return CT;case"first":return ET;case"last":return kT}}if(typeof t!="function")throw new Error(`invalid reduce: ${t}`);return Fa(nh(t))}function Pa(t){return(n,e,r)=>r?{mapIndex(i,o,a){const c=f=>o[f]==null?NaN:+o[f];let u=0;for(let f=0;f<n-1;++f)isNaN(c(f))&&++u;for(let f=0,s=i.length-n+1;f<s;++f)isNaN(c(f+n-1))&&++u,a[i[f+e]]=u===0?t(hr(i,f,f+n),c):NaN,isNaN(c(f))&&--u}}:{mapIndex(i,o,a){const c=u=>o[u]==null?NaN:+o[u];for(let u=-e;u<0;++u)a[i[u+e]]=t(hr(i,0,u+n),c);for(let u=0,f=i.length-e;u<f;++u)a[i[u+e]]=t(hr(i,u,u+n),c)}}}function Fa(t){return(n,e,r)=>r?{mapIndex(i,o,a){let c=0;for(let u=0;u<n-1;++u)c+=Bt(o[i[u]]);for(let u=0,f=i.length-n+1;u<f;++u)c+=Bt(o[i[u+n-1]]),c===n&&(a[i[u+e]]=t(hr(i,u,u+n),o)),c-=Bt(o[i[u]])}}:{mapIndex(i,o,a){for(let c=-e;c<0;++c)a[i[c+e]]=t(hr(i,0,c+n),o);for(let c=0,u=i.length-e;c<u;++c)a[i[c+e]]=t(hr(i,c,c+n),o)}}}function Tw(t,n,e){return e?{mapIndex(r,i,o){let a=0,c=0;for(let u=0;u<t-1;++u){const f=i[r[u]];f===null||isNaN(f)?++a:c+=+f}for(let u=0,f=r.length-t+1;u<f;++u){const s=i[r[u]],h=i[r[u+t-1]];h===null||isNaN(h)?++a:c+=+h,o[r[u+n]]=a===0?c:NaN,s===null||isNaN(s)?--a:c-=+s}}}:{mapIndex(r,i,o){let a=0;const c=r.length;for(let u=0,f=Math.min(c,t-n-1);u<f;++u)a+=+i[r[u]]||0;for(let u=-n,f=c-n;u<f;++u)a+=+i[r[u+t-1]]||0,o[r[u+n]]=a,a-=+i[r[u]]||0}}}function $T(t,n,e){if(e){const r=Tw(t,n,e);return{mapIndex(i,o,a){r.mapIndex(i,o,a);for(let c=0,u=i.length-t+1;c<u;++c)a[i[c+n]]/=t}}}else return{mapIndex(r,i,o){let a=0,c=0;const u=r.length;for(let f=0,s=Math.min(u,t-n-1);f<s;++f){let h=i[r[f]];h!==null&&!isNaN(h=+h)&&(a+=h,++c)}for(let f=-n,s=u-n;f<s;++f){let h=i[r[f+t-1]],l=i[r[f]];h!==null&&!isNaN(h=+h)&&(a+=h,++c),o[r[f+n]]=a/c,l!==null&&!isNaN(l=+l)&&(a-=l,--c)}}}}function ST(t,n,e,r){for(let i=e+r;e<i;++e){const o=t[n[e]];if(Bt(o))return o}}function AT(t,n,e,r){for(let i=e+r-1;i>=e;--i){const o=t[n[i]];if(Bt(o))return o}}function Cw(t,n,e,r){for(let i=e+r;e<i;++e){let o=t[n[e]];if(o!==null&&!isNaN(o=+o))return o}}function Ew(t,n,e,r){for(let i=e+r-1;i>=e;--i){let o=t[n[i]];if(o!==null&&!isNaN(o=+o))return o}}function TT(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,c=r.length-t;a<c;++a){const u=i[r[a]],f=i[r[a+t-1]];o[r[a+n]]=u===null||f===null?NaN:f-u}}}:{mapIndex(r,i,o){for(let a=-n,c=r.length-t+n+1;a<c;++a)o[r[a+n]]=Ew(i,r,a,t)-Cw(i,r,a,t)}}}function CT(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,c=r.length-t;a<c;++a){const u=i[r[a]],f=i[r[a+t-1]];o[r[a+n]]=u===null||f===null?NaN:f/u}}}:{mapIndex(r,i,o){for(let a=-n,c=r.length-t+n+1;a<c;++a)o[r[a+n]]=Ew(i,r,a,t)/Cw(i,r,a,t)}}}function ET(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,c=r.length-t;a<c;++a)o[r[a+n]]=i[r[a]]}}:{mapIndex(r,i,o){for(let a=-n,c=r.length-t+n+1;a<c;++a)o[r[a+n]]=ST(i,r,a,t)}}}function kT(t,n,e){return e?{mapIndex(r,i,o){for(let a=0,c=r.length-t;a<c;++a)o[r[a+n]]=i[r[a+t-1]]}}:{mapIndex(r,i,o){for(let a=-n,c=r.length-t+n+1;a<c;++a)o[r[a+n]]=AT(i,r,a,t)}}}const be={n:20,k:2,color:"currentColor",opacity:.2,strict:!0,anchor:"end"};function NT(t,{x:n=V,y:e,k:r=be.k,color:i=be.color,opacity:o=be.opacity,fill:a=i,fillOpacity:c=o,stroke:u=i,strokeOpacity:f,strokeWidth:s,...h}={}){return wn(_t(a)?null:Co(t,Vn({x1:pr({k:-r,...h}),x2:pr({k:r,...h})},{x1:n,x2:n,y:e,fill:a,fillOpacity:c,...h})),_t(u)?null:Eo(t,Vn({x:pr(h)},{x:n,y:e,stroke:u,strokeOpacity:f,strokeWidth:s,...h})))}function LT(t,{x:n,y:e=V,k:r=be.k,color:i=be.color,opacity:o=be.opacity,fill:a=i,fillOpacity:c=o,stroke:u=i,strokeOpacity:f,strokeWidth:s,...h}={}){return wn(_t(a)?null:yi(t,Vn({y1:pr({k:-r,...h}),y2:pr({k:r,...h})},{x:n,y1:e,y2:e,fill:a,fillOpacity:c,...h})),_t(u)?null:ko(t,Vn({y:pr(h)},{x:n,y:e,stroke:u,strokeOpacity:f,strokeWidth:s,...h})))}function pr({n:t=be.n,k:n=0,strict:e=be.strict,anchor:r=be.anchor}={}){return Ju({k:t,reduce:i=>Qc(i)+n*(No(i)||0),strict:e,anchor:r})}const RT={ariaLabel:"tick",fill:null,stroke:"currentColor"};class kw extends mt{constructor(n,e,r){super(n,e,r,RT),$i(this,r)}render(n,e,r,i,o){return ct("svg:g",o).call(bt,this,i,o).call(this._transform,this,e).call(a=>a.selectAll().data(n).enter().append("line").call(ht,this).attr("x1",this._x1(e,r,i)).attr("x2",this._x2(e,r,i)).attr("y1",this._y1(e,r,i)).attr("y2",this._y2(e,r,i)).call(St,this,r).call(ia,this,r,o)).node()}}class Nw extends kw{constructor(n,e={}){const{x:r,y:i,inset:o=0,insetTop:a=o,insetBottom:c=o}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y",type:"band",optional:!0}},e),this.insetTop=yt(a),this.insetBottom=yt(c)}_transform(n,e,{x:r}){n.call(gt,e,{x:r},Ot,0)}_x1(n,{x:e}){return r=>e[r]}_x2(n,{x:e}){return r=>e[r]}_y1({y:n},{y:e},{marginTop:r}){const{insetTop:i}=this;return e&&n?o=>e[o]+i:r+i}_y2({y:n},{y:e},{height:r,marginBottom:i}){const{insetBottom:o}=this;return e&&n?a=>e[a]+n.bandwidth()-o:r-i-o}}class Lw extends kw{constructor(n,e={}){const{x:r,y:i,inset:o=0,insetRight:a=o,insetLeft:c=o}=e;super(n,{y:{value:i,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},e),this.insetRight=yt(a),this.insetLeft=yt(c)}_transform(n,e,{y:r}){n.call(gt,e,{y:r},0,Ot)}_x1({x:n},{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e&&n?o=>e[o]+i:r+i}_x2({x:n},{x:e},{width:r,marginRight:i}){const{insetRight:o}=this;return e&&n?a=>e[a]+n.bandwidth()-o:r-i-o}_y1(n,{y:e}){return r=>e[r]}_y2(n,{y:e}){return r=>e[r]}}function Rw(t,{x:n=V,...e}={}){return new Nw(t,{...e,x:n})}function Pw(t,{y:n=V,...e}={}){return new Lw(t,{...e,y:n})}function PT(t,{x:n=V,y:e=null,r,fill:i="#ccc",fillOpacity:o,stroke:a="currentColor",strokeOpacity:c,strokeWidth:u=2,sort:f,...s}={}){const h=e!=null?So:fh;return wn($e(t,h({x1:Kh,x2:Jh},{x:n,y:e,stroke:a,strokeOpacity:c,...s})),pe(t,h({x1:"p25",x2:"p75"},{x:n,y:e,fill:i,fillOpacity:o,...s})),Rw(t,h({x:"p50"},{x:n,y:e,stroke:a,strokeOpacity:c,strokeWidth:u,sort:f,...s})),tr(t,Vn({x:Fw},{x:n,y:e,z:e,r,stroke:a,strokeOpacity:c,...s})))}function FT(t,{y:n=V,x:e=null,r,fill:i="#ccc",fillOpacity:o,stroke:a="currentColor",strokeOpacity:c,strokeWidth:u=2,sort:f,...s}={}){const h=e!=null?$o:fh;return wn(Gn(t,h({y1:Kh,y2:Jh},{x:e,y:n,stroke:a,strokeOpacity:c,...s})),Be(t,h({y1:"p25",y2:"p75"},{x:e,y:n,fill:i,fillOpacity:o,...s})),Pw(t,h({y:"p50"},{x:e,y:n,stroke:a,strokeOpacity:c,strokeWidth:u,sort:f,...s})),tr(t,Vn({y:Fw},{x:e,y:n,z:e,r,stroke:a,strokeOpacity:c,...s})))}function Fw(t){const n=Kh(t),e=Jh(t);return t.map(r=>r<n||r>e?r:NaN)}function Kh(t){const n=Iw(t)*2.5-zw(t)*1.5;return en(t,e=>e>=n?e:NaN)}function Jh(t){const n=zw(t)*2.5-Iw(t)*1.5;return Pt(t,e=>e<=n?e:NaN)}function Iw(t){return qe(t,.25)}function zw(t){return qe(t,.75)}const IT={ariaLabel:"raster",stroke:null,pixelSize:1};function Or(t,n){const e=+t;if(isNaN(e))throw new Error(`invalid ${n}: ${t}`);return e}function k1(t,n){const e=Math.floor(t);if(isNaN(e))throw new Error(`invalid ${n}: ${t}`);return e}class Dw extends mt{constructor(n,e,r={},i){let{width:o,height:a,x:c,y:u,x1:f=c==null?0:void 0,y1:s=u==null?0:void 0,x2:h=c==null?o:void 0,y2:l=u==null?a:void 0,pixelSize:d=i.pixelSize,blur:p=0,interpolate:g}=r;if(o!=null&&(o=k1(o,"width")),a!=null&&(a=k1(a,"height")),f!=null&&(f=Or(f,"x1")),s!=null&&(s=Or(s,"y1")),h!=null&&(h=Or(h,"x2")),l!=null&&(l=Or(l,"y2")),c==null&&(f==null||h==null))throw new Error("missing x");if(u==null&&(s==null||l==null))throw new Error("missing y");n!=null&&o!=null&&a!=null&&(c===void 0&&f!=null&&h!=null&&(c=WT(f,h,o)),u===void 0&&s!=null&&l!=null&&(u=HT(s,l,o,a))),super(n,{x:{value:c,scale:"x",optional:!0},y:{value:u,scale:"y",optional:!0},x1:{value:f==null?null:[f],scale:"x",optional:!0,filter:null},y1:{value:s==null?null:[s],scale:"y",optional:!0,filter:null},x2:{value:h==null?null:[h],scale:"x",optional:!0,filter:null},y2:{value:l==null?null:[l],scale:"y",optional:!0,filter:null},...e},r,i),this.width=o,this.height=a,this.pixelSize=Or(d,"pixelSize"),this.blur=Or(p,"blur"),this.interpolate=c==null||u==null?null:DT(g)}}class Ow extends Dw{constructor(n,e={}){const{imageRendering:r}=e;if(n==null){const{fill:i,fillOpacity:o}=e;At(o)[0]!==void 0&&(e=Ks("fillOpacity",e)),Kt(i)[0]!==void 0&&(e=Ks("fill",e))}super(n,void 0,e,IT),this.imageRendering=Tt(r,"auto")}scale(n,{color:e,...r},i){return super.scale(n,r,i)}render(n,e,r,i,o){var C;const a=e[(C=r.channels.fill)==null?void 0:C.scale]??(N=>N),{x:c,y:u}=r,{document:f}=o,[s,h,l,d]=Uw(r,i,o),p=l-s,g=d-h,{pixelSize:b,width:y=Math.round(Math.abs(p)/b),height:m=Math.round(Math.abs(g)/b)}=this,_=y*m;let{fill:w,fillOpacity:v}=r,x=0;if(this.interpolate){const N=y/p,R=m/g,z=dt(c,I=>(I-s)*N,Float64Array),O=dt(u,I=>(I-h)*R,Float64Array);w&&(w=this.interpolate(n,y,m,z,O,w)),v&&(v=this.interpolate(n,y,m,z,O,v))}else this.data==null&&n&&(x=n.fi*_);const M=f.createElement("canvas");M.width=y,M.height=m;const A=M.getContext("2d"),S=A.createImageData(y,m),T=S.data;let{r:$,g:E,b:L}=qn(this.fill)??{r:0,g:0,b:0},k=(this.fillOpacity??1)*255;for(let N=0;N<_;++N){const R=N<<2;if(w){const z=a(w[N+x]);if(z==null){T[R+3]=0;continue}({r:$,g:E,b:L}=qn(z))}v&&(k=v[N+x]*255),T[R+0]=$,T[R+1]=E,T[R+2]=L,T[R+3]=k}return this.blur>0&&H_(S,this.blur),A.putImageData(S,0,0),ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(N=>N.append("image").attr("transform",`translate(${s},${h}) scale(${Math.sign(l-s)},${Math.sign(d-h)})`).attr("width",Math.abs(p)).attr("height",Math.abs(g)).attr("preserveAspectRatio","none").call(Z,"image-rendering",this.imageRendering).call(ht,this).attr("xlink:href",M.toDataURL())).node()}}function Bw(t,n,e){arguments.length<3&&(e=n,n=null);let{x:r,y:i,[t]:o,...a}=e;return r===void 0&&i===void 0&&Q9(n)&&(r=$u,i=xo,o===void 0&&(o=j9)),[n,{...a,x:r,y:i,[t]:o}]}function zT(){const[t,n]=Bw("fill",...arguments);return new Ow(t,t==null||n.fill!==void 0||n.fillOpacity!==void 0?n:{...n,fill:V})}function Uw({x1:t,y1:n,x2:e,y2:r},i,{projection:o}){const{width:a,height:c,marginTop:u,marginRight:f,marginBottom:s,marginLeft:h}=i;return[t&&o==null?t[0]:h,n&&o==null?n[0]:u,e&&o==null?e[0]:a-f,r&&o==null?r[0]:c-s]}function Yw({x1:t,y1:n,x2:e,y2:r},i,o,a){const c={};return t&&(c.x1=t),n&&(c.y1=n),e&&(c.x2=e),r&&(c.y2=r),Uw(mh(c,i),o,a)}function Ks(t,n={}){const{[t]:e}=n;if(typeof e!="function")throw new Error(`invalid ${t}: not a function`);return Qt({...n,[t]:void 0},function(r,i,o,a,c,u){const{x:f,y:s}=a;if(!f)throw new Error("missing scale: x");if(!s)throw new Error("missing scale: y");const[h,l,d,p]=Yw(o,a,c,u),g=d-h,b=p-l,{pixelSize:y}=this,{width:m=Math.round(Math.abs(g)/y),height:_=Math.round(Math.abs(b)/y)}=n,w=new Array(m*_*(i?i.length:1)),v=g/m,x=b/_;let M=0;for(const A of i??[void 0])for(let S=.5;S<_;++S)for(let T=.5;T<m;++T,++M)w[M]=e(f.invert(h+T*v),s.invert(l+S*x),A);return{data:w,facets:i,channels:{[t]:{value:w,scale:"auto"}}}})}function DT(t){if(typeof t=="function")return t;if(t==null)return Js;switch(`${t}`.toLowerCase()){case"none":return Js;case"nearest":return Xw;case"barycentric":return qw();case"random-walk":return Ww()}throw new Error(`invalid interpolate: ${t}`)}function Js(t,n,e,r,i,o){const a=new Array(n*e);for(const c of t)r[c]<0||r[c]>=n||i[c]<0||i[c]>=e||(a[Math.floor(i[c])*n+Math.floor(r[c])]=o[c]);return a}function qw({random:t=Pl(42)}={}){return(n,e,r,i,o,a)=>{const{points:c,triangles:u,hull:f}=je.from(n,d=>i[d],d=>o[d]),s=new a.constructor(e*r).fill(NaN),h=new Uint8Array(e*r),l=XT(a,t);for(let d=0;d<u.length;d+=3){const p=u[d],g=u[d+1],b=u[d+2],y=c[2*p],m=c[2*g],_=c[2*b],w=c[2*p+1],v=c[2*g+1],x=c[2*b+1],M=Math.min(y,m,_),A=Math.max(y,m,_),S=Math.min(w,v,x),T=Math.max(w,v,x),$=(v-x)*(y-_)+(w-x)*(_-m);if(!$)continue;const E=a[n[p]],L=a[n[g]],k=a[n[b]];for(let C=Math.floor(M);C<A;++C)for(let N=Math.floor(S);N<T;++N){if(C<0||C>=e||N<0||N>=r)continue;const R=C+.5,z=N+.5,O=Math.sign($),I=(v-x)*(R-_)+(z-x)*(_-m);if(I*O<0)continue;const D=(x-w)*(R-_)+(z-x)*(y-_);if(D*O<0)continue;const B=$-(I+D);if(B*O<0)continue;const U=C+e*N;s[U]=l(E,I/$,L,D/$,k,B/$,C,N),h[U]=1}}return OT(s,h,i,o,a,e,r,f,n,l),s}}function OT(t,n,e,r,i,o,a,c,u,f){e=Float64Array.from(c,d=>e[u[d]]),r=Float64Array.from(c,d=>r[u[d]]),i=Array.from(c,d=>i[u[d]]);const s=e.length,h=Array.from({length:s},(d,p)=>UT(p,e,r));let l=0;for(let d=0;d<a;++d){const p=d+.5;for(let g=0;g<o;++g){const b=g+o*d;if(!n[b]){const y=g+.5;for(let m=0;m<s;++m){const _=(s+l+(m%2?(m+1)/2:-m/2))%s;if(h[_](y,p)){const w=BT(e.at(_-1),r.at(_-1),e[_],r[_],y,p);t[b]=f(i.at(_-1),w,i[_],1-w,i[_],0,g,d),l=_;break}}}}}}function BT(t,n,e,r,i,o){const a=e-t,c=r-n,u=a*(e-i)+c*(r-o),f=a*(i-t)+c*(o-n);return u>0&&f>0?u/(u+f):+(u>f)}function Yi(t,n,e,r){return t*r-e*n}function UT(t,n,e){const r=n.length,i=n.at(t-2),o=e.at(t-2),a=n.at(t-1),c=e.at(t-1),u=n[t],f=e[t],s=n.at(t+1-r),h=e.at(t+1-r),l=a-u,d=c-f,p=i-a,g=o-c,b=u-s,y=f-h,m=Math.hypot(l,d),_=Math.hypot(p,g),w=Math.hypot(b,y);return(v,x)=>{const M=v-a,A=x-c,S=v-u,T=x-f;return Yi(M,A,S,T)>-1e-6&&Yi(M,A,l,d)*_-Yi(M,A,p,g)*m>-1e-6&&Yi(S,T,b,y)*m-Yi(S,T,l,d)*w<=0}}function Xw(t,n,e,r,i,o){const a=new o.constructor(n*e),c=je.from(t,s=>r[s],s=>i[s]);let u,f;for(let s=.5,h=0;s<e;++s){f=u;for(let l=.5;l<n;++l,++h)f=c.find(l,s,f),l===.5&&(u=f),a[h]=o[t[f]]}return a}function Ww({random:t=Pl(42),minDistance:n=.5,maxSteps:e=2}={}){return(r,i,o,a,c,u)=>{const f=new u.constructor(i*o),s=je.from(r,p=>a[p],p=>c[p]);let h,l,d;for(let p=.5,g=0;p<o;++p){l=h;for(let b=.5;b<i;++b,++g){let y=b,m=p;d=l=s.find(y,m,l),b===.5&&(h=l);let _,w=0;for(;(_=Math.hypot(a[r[d]]-y,c[r[d]]-m))>n&&w<e;){const v=t(b,p,w)*2*Math.PI;y+=Math.cos(v)*_,m+=Math.sin(v)*_,d=s.find(y,m,d),++w}f[g]=u[r[d]]}}return f}}function YT(t,n,e,r,i,o){return n*t+r*e+o*i}function qT(t){return(n,e,r,i,o,a,c,u)=>{const f=t(c,u);return f<e?n:f<e+i?r:o}}function XT(t,n){return Wr(t)||Jt(t)?YT:qT(n)}function WT(t,n,e){return{transform(r){const i=r.length,o=new Float64Array(i),a=(n-t)/e,c=t+a/2;for(let u=0;u<i;++u)o[u]=u%e*a+c;return o}}}function HT(t,n,e,r){return{transform(i){const o=i.length,a=new Float64Array(o),c=(n-t)/r,u=t+c/2;for(let f=0;f<o;++f)a[f]=Math.floor(f/e)%r*c+u;return a}}}const N1={ariaLabel:"contour",fill:"none",stroke:"currentColor",strokeMiterlimit:1,pixelSize:2};class Hw extends Dw{constructor(n,{smooth:e=!0,value:r,...i}={}){const o=tb({},i,N1);if(r===void 0){for(const c in o)if(o[c].value!=null){if(r!==void 0)throw new Error("ambiguous contour value");r=i[c],i[c]="value"}}if(r!=null){const c={transform:u=>u.map(f=>f.value),label:Kn(r)};for(const u in o)i[u]==="value"&&(i[u]=c)}if(n==null){if(r==null)throw new Error("missing contour value");i=Ks("value",{value:r,...i}),r=null}else{let{interpolate:c}=i;r===void 0&&(r=V),c===void 0&&(i.interpolate="nearest")}super(n,{value:{value:r,optional:!0}},GT(i),N1);const a={geometry:{value:V}};for(const c in this.channels){const u=this.channels[c],{scale:f}=u;f==="x"||f==="y"||c==="value"||(a[c]=u,delete this.channels[c])}this.contourChannels=a,this.smooth=!!e}filter(n,{x:e,y:r,value:i,...o},a){return super.filter(n,o,a)}render(n,e,r,i,o){const{geometry:a}=r,c=Ae();return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(u=>{u.selectAll().data(n).enter().append("path").call(ht,this).attr("d",f=>c(a[f])).call(St,this,r)}).node()}}function GT({thresholds:t,interval:n,...e}){return t=bw(t,n,pl),Qt(e,function(r,i,o,a,c,u){const[f,s,h,l]=Yw(o,a,c,u),d=h-f,p=l-s,{pixelSize:g,width:b=Math.round(Math.abs(d)/g),height:y=Math.round(Math.abs(p)/g)}=this,m=b/d,_=y/p,w=o.value.value,v=[];if(this.interpolate){const{x:T,y:$}=ra(o,a,u),E=dt(T,N=>(N-f)*m,Float64Array),L=dt($,N=>(N-s)*_,Float64Array),k=[o.x,o.y,o.value],C=[E,L,w];for(const N of i){const R=this.filter(N,k,C);v.push(this.interpolate(R,b,y,E,L,w))}}else if(i){const T=b*y,$=i.length;for(let E=0;E<$;++E)v.push(w.slice(E*T,E*T+T))}else v.push(w);if(this.blur>0)for(const T of v)Z1({data:T,width:b,height:y},this.blur);const x=VT(t,w,...ZT(v));if(x===null)throw new Error(`unsupported thresholds: ${t}`);const{contour:M}=us().size([b,y]).smooth(this.smooth),A=[],S=[];for(const T of v)S.push(dn(A.length,A.push(...dt(x,$=>M(T,$)))));for(const{coordinates:T}of A)for(const $ of T)for(const E of $)for(const L of E)L[0]=L[0]/m+f,L[1]=L[1]/_+s;return{data:A,facets:S,channels:Ay(this.contourChannels,A)}})}function VT(t,n,e,r){if(typeof(t==null?void 0:t.range)=="function")return t.range(t.floor(e),r);if(typeof t=="function"&&(t=t(n,e,r)),typeof t!="number")return Me(t);const i=Ye(...ep(e,r,t),t);for(;i[i.length-1]>=r;)i.pop();for(;i[1]<e;)i.shift();return i}function jT(){return new Hw(...Bw("value",...arguments))}function ZT(t){return[en(t,n=>en(n,L1)),Pt(t,n=>Pt(n,L1))]}function L1(t){return isFinite(t)?t:NaN}function KT(t,n){return Qh(Sh,t,n)}function JT(t,n={}){return Qh(Ah,t,n)}function QT(t,n={}){return Qh(zc,t,n)}function Qh(t,n,e={}){const{x:r,y:i,maxRadius:o}=e,a=t({px:r,py:i,maxRadius:o}),c=[];r!=null&&c.push(Gn(n,R1("x",{...a,inset:-6},e))),i!=null&&c.push($e(n,R1("y",{...a,inset:-6},e))),r!=null&&c.push(Se(n,P1("x",{...a,dy:9,frameAnchor:"bottom",lineAnchor:"top"},e))),i!=null&&c.push(Se(n,P1("y",{...a,dx:-9,frameAnchor:"left",textAnchor:"end"},e)));for(const u of c)u.ariaLabel=`crosshair ${u.ariaLabel}`;return wn(...c)}function Gw(t,{channels:n,...e},{facet:r,facetAnchor:i,fx:o,fy:a,[t]:c,channels:u,transform:f,initializer:s}){return{...e,facet:r,facetAnchor:i,fx:o,fy:a,[t]:c,channels:{...n,...u},transform:f,initializer:tC(t,s)}}function tC(t,n){return n==null?n:function(e,r,{x:i,y:o,px:a,py:c,...u},...f){const{channels:{x:s,y:h,...l}={},...d}=n.call(this,e,r,{...u,x:a,y:c},...f);return{channels:{...l,...s&&{px:s,...t==="x"&&{x:s}},...h&&{py:h,...t==="y"&&{y:h}}},...d}}}function R1(t,n,e){const{color:r="currentColor",opacity:i=.2,ruleStroke:o=r,ruleStrokeOpacity:a=i,ruleStrokeWidth:c}=e;return{...Gw(t,n,e),stroke:o,strokeOpacity:a,strokeWidth:c}}function P1(t,n,e){const{color:r="currentColor",textFill:i=r,textFillOpacity:o,textStroke:a="var(--plot-background)",textStrokeOpacity:c,textStrokeWidth:u=5}=e;return{...Gw(t,n,nC(t,e)),fill:i,fillOpacity:o,stroke:a,strokeOpacity:c,strokeWidth:u}}function nC(t,n){return Qt(n,(e,r,i)=>{var o;return{channels:{text:{value:(o=Os(i,t))==null?void 0:o.value}}}})}const eC={ariaLabel:"delaunay link",fill:"none",stroke:"currentColor",strokeMiterlimit:1},rC={ariaLabel:"delaunay mesh",fill:null,stroke:"currentColor",strokeOpacity:.2},iC={ariaLabel:"hull",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:1},oC={ariaLabel:"voronoi",fill:"none",stroke:"currentColor",strokeMiterlimit:1},aC={ariaLabel:"voronoi mesh",fill:null,stroke:"currentColor",strokeOpacity:.2};class cC extends mt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:c}=e;super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},z:{value:o,optional:!0}},e,eC),this.curve=Oh(a,c),$i(this,e)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,z:s}=r,{curve:h}=this,[l,d]=Jn(this,i),p=u?m=>u[m]:Dt(l),g=f?m=>f[m]:Dt(d),b=this;function y(m){let _=-1;const w=[],v={};for(const k in r)v[k]=[];const x=[],M=[],A=[],S=[];function T(k,C){k=m[k],C=m[C],w.push(++_),x[_]=p(k),A[_]=g(k),M[_]=p(C),S[_]=g(C);for(const N in r)v[N].push(r[N][C])}const{halfedges:$,hull:E,triangles:L}=je.from(m,p,g);for(let k=0;k<$.length;++k){const C=$[k];C>k&&T(L[k],L[C])}for(let k=0;k<E.length;++k)T(E[k],E[(k+1)%E.length]);Ue(this).selectAll().data(w).enter().append("path").call(ht,b).attr("d",k=>{const C=se(),N=h(C);return N.lineStart(),N.point(x[k],A[k]),N.point(M[k],S[k]),N.lineEnd(),C}).call(St,b,v).call(ia,b,v,o)}return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(s?m=>m.selectAll().data(Ge(n,_=>s[_]).values()).enter().append("g").each(y):m=>m.datum(n).each(y)).node()}}class td extends mt{constructor(n,e={},r,i=({z:o})=>o){const{x:o,y:a}=e;super(n,{x:{value:o,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:i(e),optional:!0}},e,r)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,z:s}=r,[h,l]=Jn(this,i),d=u?y=>u[y]:Dt(h),p=f?y=>f[y]:Dt(l),g=this;function b(y){const m=je.from(y,d,p);Ue(this).append("path").datum(y[0]).call(ht,g).attr("d",g._render(m,i)).call(St,g,r)}return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(s?y=>y.selectAll().data(Ge(n,m=>s[m]).values()).enter().append("g").each(b):y=>y.datum(n).each(b)).node()}}class uC extends td{constructor(n,e={}){super(n,e,rC),this.fill="none"}_render(n){return n.render()}}class fC extends td{constructor(n,e={}){super(n,e,iC,Ke)}_render(n){return n.renderHull()}}class sC extends mt{constructor(n,e={}){const{x:r,y:i,z:o}=e;super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},z:{value:o,optional:!0}},Qt(e,function(a,c,u,f,s,h){let{x:l,y:d,z:p}=u;({x:l,y:d}=ra(u,f,h)),p=p==null?void 0:p.value;const g=new Array((l??d).length).fill(null),[b,y]=Jn(this,s),m=l?w=>l[w]:Dt(b),_=d?w=>d[w]:Dt(y);for(let w of c){l&&(w=w.filter(v=>Bt(m(v)))),d&&(w=w.filter(v=>Bt(_(v))));for(const[,v]of dr(w,p)){const x=je.from(v,m,_),M=Vw(x,s);for(let A=0,S=v.length;A<S;++A)g[v[A]]=M.renderCell(A)}}return{data:a,facets:c,channels:{cells:{value:g}}}}),oC)}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,cells:s}=r;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(h=>{h.selectAll().data(n).enter().append("path").call(ht,this).attr("d",l=>s[l]).call(St,this,r)}).node()}}class lC extends td{constructor(n,e){super(n,e,aC),this.fill="none"}_render(n,e){return Vw(n,e).render()}}function Vw(t,n){const{width:e,height:r,marginTop:i,marginRight:o,marginBottom:a,marginLeft:c}=n;return t.voronoi([c,i,e-o,r-a])}function ca(t,n,{x:e,y:r,...i}={}){return[e,r]=En(e,r),new t(n,{...i,x:e,y:r})}function hC(t,n){return ca(cC,t,n)}function dC(t,n){return ca(uC,t,n)}function pC(t,n){return ca(fC,t,n)}function gC(t,{x:n,y:e,initializer:r,...i}={}){return ca(sC,t,{...kn({...i,x:n,y:e},iw),initializer:r})}function mC(t,n){return ca(lC,t,n)}const yC={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class jw extends mt{constructor(n,{x:e,y:r,z:i,weight:o,fill:a,stroke:c,...u}={}){const f=F1(a)&&(a="currentColor",!0),s=F1(c)&&(c="currentColor",!0);super(n,{x:{value:e,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:Ke({z:i,fill:a,stroke:c}),optional:!0},weight:{value:o,optional:!0}},_C({...u,fill:a,stroke:c},f,s),yC),f&&(this.fill=void 0),s&&(this.stroke=void 0),this.z=i}filter(n){return n}render(n,e,r,i,o){const{contours:a}=r,c=Ae();return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{}).call(u=>u.selectAll().data(n).enter().append("path").call(ht,this).call(St,this,r).attr("d",f=>c(a[f]))).node()}}function bC(t,{x:n,y:e,...r}={}){return[n,e]=En(n,e),new jw(t,{...r,x:n,y:e})}const wC=new Set(["x","y","z","weight"]);function _C(t,n,e){let{bandwidth:i,thresholds:o}=t;return i=i===void 0?20:+i,o=o===void 0?20:typeof(o==null?void 0:o[Symbol.iterator])=="function"?nn(o):+o,Qt(t,function(a,c,u,f,s,h){var L;const l=u.weight?nn(u.weight.value):null,d=(L=u.z)==null?void 0:L.value,{z:p}=this,[g,b]=Jn(this,s),{width:y,height:m}=s,{x:_,y:w}=ra(u,f,h),v=Object.fromEntries(Object.entries(u).filter(([k])=>!wC.has(k)).map(([k,C])=>[k,{...C,value:[]}])),x=n&&[],M=e&&[],A=d5().x(_?k=>_[k]:g).y(w?k=>w[k]:b).weight(l?k=>l[k]:1).size([y,m]).bandwidth(i),S=[];for(const k of c){const C=[];S.push(C);for(const N of d?vh(k,d,p):[k]){const R=A.contours(N);C.push([N,R])}}let T=o;if(!(T instanceof Mu)){let k=0;for(const C of S)for(const[,N]of C){const R=N.max;R>k&&(k=R)}T=Float64Array.from({length:o-1},(C,N)=>k*100*(N+1)/o)}const $=[],E=[];for(const k of S){const C=[];$.push(C);for(const[N,R]of k)for(const z of T){C.push(E.length),E.push(R(z/100)),x&&x.push(z),M&&M.push(z);for(const O in v)v[O].value.push(u[O].value[N[0]])}}return x&&x.push(0),M&&M.push(0),{data:a,facets:$,channels:{...v,...x&&{fill:{value:x,scale:"color"}},...M&&{stroke:{value:M,scale:"color"}},contours:{value:E}}}})}function F1(t){return/^density$/i.test(t)}function xC(t,n){return Zw("x",t,n)}function vC(t,n){return Zw("y",t,n)}function Zw(t,n,{x1:e,x2:r,y1:i,y2:o,x:a=e===void 0&&r===void 0?t==="y"?Ft:V:void 0,y:c=i===void 0&&o===void 0?t==="x"?Ft:V:void 0,fill:u,positiveFill:f="#3ca951",negativeFill:s="#4269d0",fillOpacity:h=1,positiveFillOpacity:l=h,negativeFillOpacity:d=h,stroke:p,strokeOpacity:g,z:b=Kt(p)[0],clip:y,tip:m,render:_,...w}={}){return[e,r]=I1(a,e,r),[i,o]=I1(c,i,o),e===r&&i===o&&(t==="y"?i=ae(0):e=ae(0)),{tip:m}=Cr({tip:m},t==="y"?"x":"y"),wn(_t(f)?null:Object.assign(js(n,{x1:e,x2:r,y1:i,y2:o,z:b,fill:f,fillOpacity:l,render:di(_,z1(t,!0)),clip:y,...w}),{ariaLabel:"positive difference"}),_t(s)?null:Object.assign(js(n,{x1:e,x2:r,y1:i,y2:o,z:b,fill:s,fillOpacity:d,render:di(_,z1(t,!1)),clip:y,...w}),{ariaLabel:"negative difference"}),Ku(n,{x:r,y:o,z:b,stroke:p,strokeOpacity:g,tip:m,clip:!0,...w}))}function I1(t,n,e){return n===void 0&&e===void 0?n=e=ae(t):n===void 0?(e=ae(e),n=t===void 0?e:ae(t)):e===void 0?(n=ae(n),e=t===void 0?n:ae(t)):(n=ae(n),e=ae(e)),[n,e]}function ae(t){let n;const{value:e,label:r=Kn(e)}=Mi(t);return{transform:i=>n||(n=rt(i,e)),label:r}}function z1(t,n){const e=t==="x"?"y":"x",r=`${e}1`,i=`${e}2`,o=`${t}1`,a=`${t}2`;return(c,u,f,s,h,l)=>{const{[r]:d,[i]:p}=f,g=new Float32Array(d.length),b=new Float32Array(p.length),y=s[t==="y"?"height":"width"];(n===Uy(u[t])<0?g:b).fill(y);const m=l(c,u,{...f,[i]:d,[a]:b},s,h),_=l(c,u,{...f,[r]:p,[o]:g},s,h),w=m.querySelector("g")??m,v=_.querySelector("g")??_;for(let x=0;w.firstChild;x+=2){const M=Qy(),A=ct("svg:clipPath",h).attr("id",M).node();A.appendChild(w.firstChild),v.childNodes[x].setAttribute("clip-path",`url(#${M})`),v.insertBefore(A,v.childNodes[x])}return _}}function Kw({geometry:t=V,...n}={}){const e=li(r=>rt(r,t));return Qt({...n,x:null,y:null,geometry:{transform:e}},(r,i,o,a,c,{projection:u})=>{const f=e(r),s=f.length,h=new Float64Array(s),l=new Float64Array(s),d=Ae(u);for(let p=0;p<s;++p)[h[p],l[p]]=d.centroid(f[p]);return{data:r,facets:i,channels:{x:{value:h,scale:u==null?"x":null,source:null},y:{value:l,scale:u==null?"y":null,source:null}}}})}function MC({geometry:t=V,...n}={}){const e=li(i=>rt(i,t)),r=li(i=>rt(e(i),K5));return{...n,x:{transform:i=>Float64Array.from(r(i),([o])=>o)},y:{transform:i=>Float64Array.from(r(i),([,o])=>o)},geometry:{transform:e}}}const $C={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Jw extends mt{constructor(n,e={}){const[r,i]=At(e.r,3);super(n,{x:{value:e.tip?e.x:null,scale:"x",optional:!0},y:{value:e.tip?e.y:null,scale:"y",optional:!0},r:{value:r,scale:"r",filter:me,optional:!0},geometry:{value:e.geometry,scale:"projection"}},Vh(e),$C),this.r=i}render(n,e,r,i,o){const{geometry:a,r:c}=r,u=Ae(o.projection??SC(e)),{r:f}=this;return _u(f)?n=[]:f!==void 0&&u.pointRadius(f),ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(s=>{s.selectAll().data(n).enter().append("path").call(ht,this).attr("d",c?h=>u.pointRadius(c[h])(a[h]):h=>u(a[h])).call(St,this,r)}).node()}}function SC({x:t,y:n}){if(t||n)return t??(t=e=>e),n??(n=e=>e),bc({point(e,r){this.stream.point(t(e),n(r))}})}function nd(t,n={}){return n.tip&&n.x===void 0&&n.y===void 0?n=Kw(n):n.geometry===void 0&&(n={...n,geometry:V}),new Jw(t,n)}function AC({strokeWidth:t=1.5,...n}={}){return nd({type:"Sphere"},{strokeWidth:t,...n})}function TC({strokeOpacity:t=.1,...n}={}){return nd(f4(),{strokeOpacity:t,...n})}const oo=.5,ao=0;function CC(t={fill:"count"},{binWidth:n,...e}={}){const{z:r}=e;return n=n===void 0?20:yt(n),t=_y(t,e),Oe(t,"fill")&&(e.channels={...e.channels,fill:{value:[]}}),e.symbol===void 0&&(e.symbol="hexagon"),e.r===void 0&&!Oe(t,"r")&&(e.r=n/2),Qt(e,(i,o,a,c,u,f)=>{let{x:s,y:h,z:l,fill:d,stroke:p,symbol:g}=a;if(s===void 0)throw new Error("missing channel: x");if(h===void 0)throw new Error("missing channel: y");({x:s,y:h}=ra(a,c,f)),l=l?l.value:rt(i,r),d=d==null?void 0:d.value,p=p==null?void 0:p.value,g=g==null?void 0:g.value;const b=dh(t,{z:l,fill:d,stroke:p,symbol:g}),y=l&&[],m=d&&[],_=p&&[],w=g&&[],v=[],x=[],M=[];let A=-1;for(const E of t)E.initialize(i);for(const E of o){const L=[];for(const k of t)k.scope("facet",E);for(const[k,C]of dr(E,b))for(const{index:N,extent:R}of EC(i,C,s,h,n)){L.push(++A),x.push(R.x),M.push(R.y),l&&y.push(b===l?k:l[N[0]]),d&&m.push(b===d?k:d[N[0]]),p&&_.push(b===p?k:p[N[0]]),g&&w.push(b===g?k:g[N[0]]);for(const z of t)z.reduce(N,R)}v.push(L)}const S=a.x.scale,T=a.y.scale,$={x:{value:x,source:c[S]?{value:dt(x,c[S].invert),scale:S}:null},y:{value:M,source:c[T]?{value:dt(M,c[T].invert),scale:T}:null},...l&&{z:{value:y}},...d&&{fill:{value:m,scale:"auto"}},...p&&{stroke:{value:_,scale:"auto"}},...g&&{symbol:{value:w,scale:"auto"}},...Object.fromEntries(t.map(({name:E,output:L})=>[E,{scale:"auto",label:L.label,radius:E==="r"?n/2:void 0,value:L.transform()}]))};return{data:i,facets:v,channels:$}})}function EC(t,n,e,r,i){const o=i*(1.5/gy),a=new Map;for(const c of n){let u=e[c],f=r[c];if(isNaN(u)||isNaN(f))continue;let s=Math.round(f=(f-ao)/o),h=Math.round(u=(u-oo)/i-(s&1)/2),l=f-s;if(Math.abs(l)*3>1){let g=u-h,b=h+(u<h?-1:1)/2,y=s+(f<s?-1:1),m=u-b,_=f-y;g*g+l*l>m*m+_*_&&(h=b+(s&1?1:-1)/2,s=y)}const d=`${h},${s}`;let p=a.get(d);p===void 0&&(p={index:[],extent:{data:t,x:(h+(s&1)/2)*i+oo,y:s*o+ao}},a.set(d,p)),p.index.push(c)}return a.values()}const kC={ariaLabel:"hexgrid",fill:"none",stroke:"currentColor",strokeOpacity:.1};function NC(t){return new Qw(t)}class Qw extends mt{constructor({binWidth:n=20,clip:e=!0,...r}={}){super(io,void 0,{clip:e,...r},kC),this.binWidth=yt(n)}render(n,e,r,i,o){const{binWidth:a}=this,{marginTop:c,marginRight:u,marginBottom:f,marginLeft:s,width:h,height:l}=i,d=s-oo,p=h-u-oo,g=c-ao,b=l-f-ao,y=a/2,m=y*my,_=m/2,w=y*2,v=m*1.5,x=Math.floor(d/w),M=Math.ceil(p/w),A=Math.floor((g+_)/v),S=Math.ceil((b-_)/v)+1,T=`m0,${Ne(-m)}l${Ne(y)},${Ne(_)}v${Ne(m)}l${Ne(-y)},${Ne(_)}`;let $=T;for(let E=A;E<S;++E)for(let L=x;L<M;++L)$+=`M${Ne(L*w+(E&1)*y)},${Ne(E*v)}${T}`;return ct("svg:g",o).datum(0).call(bt,this,i,o).call(gt,this,{},Ot+oo,Ot+ao).call(E=>E.append("path").call(ht,this).call(St,this,r).attr("d",$)).node()}}function Ne(t){return Math.round(t*1e3)/1e3}const LC={ariaLabel:"image",fill:null,stroke:null};function RC(t){return/^\.*\//.test(t)}function PC(t){return/^(blob|data|file|http|https):/i.test(t)}function FC(t){return typeof t=="string"&&(RC(t)||PC(t))?[void 0,t]:[t,void 0]}class t_ extends mt{constructor(n,e={}){let{x:r,y:i,r:o,width:a,height:c,rotate:u,src:f,preserveAspectRatio:s,crossOrigin:h,frameAnchor:l,imageRendering:d}=e;o==null&&(o=void 0),o===void 0&&a===void 0&&c===void 0?a=c=16:a===void 0&&c!==void 0?a=c:c===void 0&&a!==void 0&&(c=a);const[p,g]=FC(f),[b,y]=At(o),[m,_]=At(a,y!==void 0?y*2:void 0),[w,v]=At(c,y!==void 0?y*2:void 0),[x,M]=At(u,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:b,scale:"r",filter:me,optional:!0},width:{value:m,filter:me,optional:!0},height:{value:w,filter:me,optional:!0},rotate:{value:x,optional:!0},src:{value:p,optional:!0}},Vh(e),LC),this.src=g,this.width=_,this.rotate=M,this.height=v,this.r=y,this.preserveAspectRatio=Tt(s,"xMidYMid"),this.crossOrigin=qt(h),this.frameAnchor=Ko(l),this.imageRendering=Tt(d,"auto")}render(n,e,r,i,o){const{x:a,y:c}=e,{x:u,y:f,width:s,height:h,r:l,rotate:d,src:p}=r,{r:g,width:b,height:y,rotate:m}=this,[_,w]=Jn(this,i);return ct("svg:g",o).call(bt,this,i,o).call(gt,this,{x:u&&a,y:f&&c}).call(v=>v.selectAll().data(n).enter().append("image").call(ht,this).attr("x",D1(u,s,l,_,b,g)).attr("y",D1(f,h,l,w,y,g)).attr("width",s?x=>s[x]:b!==void 0?b:l?x=>l[x]*2:g*2).attr("height",h?x=>h[x]:y!==void 0?y:l?x=>l[x]*2:g*2).attr("transform",d?x=>`rotate(${d[x]})`:m?`rotate(${m})`:null).attr("transform-origin",d||m?pi`${u?x=>u[x]:_}px ${f?x=>f[x]:w}px`:null).call(Z,"href",p?x=>p[x]:this.src).call(Z,"preserveAspectRatio",this.preserveAspectRatio).call(Z,"crossorigin",this.crossOrigin).call(Z,"image-rendering",this.imageRendering).call(Z,"clip-path",l?x=>`circle(${l[x]}px)`:g!==void 0?`circle(${g}px)`:null).call(St,this,r)).node()}}function D1(t,n,e,r,i,o){return n&&t?a=>t[a]-n[a]/2:n?a=>r-n[a]/2:t&&i!==void 0?a=>t[a]-i/2:i!==void 0?r-i/2:e&&t?a=>t[a]-e[a]:e?a=>r-e[a]:t?a=>t[a]-o:r-o}function IC(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=En(n,e)),new t_(t,{...r,x:n,y:e})}function zC(t,n,e){var r=1e-8,i=n-1,o=e-1,a=0,c,u,f,s,h,l,d,p;if(t<=0)return 0;if(t>=1)return 1;for(c=Math.log(n/(n+e)),u=Math.log(e/(n+e)),f=Math.exp(n*c)/n,s=Math.exp(e*u)/e,d=f+s,t<f/d?l=Math.pow(n*d*t,1/n):l=1-Math.pow(e*d*(1-t),1/e),p=-Jr(n)-Jr(e)+Jr(n+e);a<10;a++){if(l===0||l===1)return l;if(h=DC(l,n,e)-t,f=Math.exp(i*Math.log(l)+o*Math.log(1-l)+p),s=h/f,l-=f=s/(1-.5*Math.min(1,s*(i/l-o/(1-l)))),l<=0&&(l=.5*(l+f)),l>=1&&(l=.5*(l+f+1)),Math.abs(f)<r*l&&a>0)break}return l}function DC(t,n,e){var r=t===0||t===1?0:Math.exp(Jr(n+e)-Jr(n)-Jr(e)+n*Math.log(t)+e*Math.log(1-t));return t<0||t>1?!1:t<(n+1)/(n+e+2)?r*O1(t,n,e)/n:1-r*O1(1-t,e,n)/e}function O1(t,n,e){var r=1e-30,i=1,o=n+e,a=n+1,c=n-1,u=1,f=1-o*t/a,s,h,l,d;for(Math.abs(f)<r&&(f=r),f=1/f,d=f;i<=100&&(s=2*i,h=i*(e-i)*t/((c+s)*(n+s)),f=1+h*f,Math.abs(f)<r&&(f=r),u=1+h/u,Math.abs(u)<r&&(u=r),f=1/f,d*=f*u,h=-(n+i)*(o+i)*t/((n+s)*(a+s)),f=1+h*f,Math.abs(f)<r&&(f=r),u=1+h/u,Math.abs(u)<r&&(u=r),f=1/f,l=f*u,d*=l,!(Math.abs(l-1)<3e-7));i++);return d}function Jr(t){var n=0,e=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,i,o,a;for(a=(o=i=t)+5.5,a-=(i+.5)*Math.log(a);n<6;n++)r+=e[n]/++o;return Math.log(2.506628274631*r/i)-a}function OC(t,n){var e=zC(2*Math.min(t,1-t),.5*n,.5);return e=Math.sqrt(n*(1-e)/e),t>.5?e:-e}const BC={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class n_ extends mt{constructor(n,e={}){const{x:r,y:i,z:o,ci:a=.95,precision:c=4}=e;if(super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Ke(e),optional:!0}},e,BC),this.z=o,this.ci=+a,this.precision=+c,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${a}`);if(!(this.precision>0))throw new Error(`invalid precision: ${c}`)}render(n,e,r,i,o){const{x:a,y:c,z:u}=r,{ci:f}=this;return ct("svg:g",o).call(bt,this,i,o).call(gt,this,e).call(s=>s.selectAll().data(u?vh(n,u,this.z):[n]).enter().call(h=>h.append("path").attr("fill","none").call(ht,this).call(Ic,this,{...r,fill:null,fillOpacity:null}).attr("d",l=>this._renderLine(l,a,c)).call(f&&!si(this.fill)?l=>l.select(UC).attr("stroke","none").call(ht,this).call(Ic,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",d=>this._renderBand(d,a,c)):()=>{}))).node()}}function UC(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(we.svg,"path"),this)}class YC extends n_{constructor(n,e){super(n,e)}_renderBand(n,e,r){const{ci:i,precision:o}=this,[a,c]=Ct(n,s=>r[s]),u=Wc(n,r,e),f=e_(n,r,e,(1-i)/2,u);return Ul().y(s=>s).x0(s=>f(s,-1)).x1(s=>f(s,1))(dn(a,c-o/2,o).concat(c))}_renderLine(n,e,r){const[i,o]=Ct(n,c=>r[c]),a=Wc(n,r,e);return`M${a(i)},${i}L${a(o)},${o}`}}class qC extends n_{constructor(n,e){super(n,e)}_renderBand(n,e,r){const{ci:i,precision:o}=this,[a,c]=Ct(n,s=>e[s]),u=Wc(n,e,r),f=e_(n,e,r,(1-i)/2,u);return Ul().x(s=>s).y0(s=>f(s,-1)).y1(s=>f(s,1))(dn(a,c-o/2,o).concat(c))}_renderLine(n,e,r){const[i,o]=Ct(n,c=>e[c]),a=Wc(n,e,r);return`M${i},${a(i)}L${o},${a(o)}`}}function XC(t,{y:n=Ft,x:e=V,stroke:r,fill:i=_t(r)?"currentColor":r,...o}={}){return new YC(t,Uh({...o,x:e,y:n,fill:i,stroke:r}))}function WC(t,{x:n=Ft,y:e=V,stroke:r,fill:i=_t(r)?"currentColor":r,...o}={}){return new qC(t,Bh({...o,x:n,y:e,fill:i,stroke:r}))}function Wc(t,n,e){let r=0,i=0,o=0,a=0;for(const s of t){const h=n[s],l=e[s];r+=h,i+=l,o+=h*l,a+=h*h}const c=t.length,u=(c*o-r*i)/(c*a-r*r),f=(i-u*r)/c;return s=>u*s+f}function e_(t,n,e,r,i){const o=Yn(t,s=>n[s])/t.length;let a=0,c=0;for(const s of t)a+=(n[s]-o)**2,c+=(e[s]-i(n[s]))**2;const u=Math.sqrt(c/(t.length-2)),f=OC(r,t.length-2);return(s,h)=>{const l=i(s),d=u*Math.sqrt(1/t.length+(s-o)**2/a);return l+h*f*d}}function Qs({path:t=V,delimiter:n,frameAnchor:e,treeLayout:r=vc,treeSort:i,treeSeparation:o,treeAnchor:a,treeFilter:c,...u}={}){a=ed(a),i=i_(i),c!=null&&(c=nl(c)),e===void 0&&(e=a.frameAnchor);const f=o_(n),s=h_(u,nl),[h,l]=an(),[d,p]=an();return{x:h,y:d,frameAnchor:e,...kn(u,(g,b)=>{const y=f(rt(g,t)),m=l([]),_=p([]);let w=-1;const v=[],x=[],M=Lg().path(T=>y[T]),A=Te(g)?T=>T.data=g[T.data]:T=>T.data=g.get(T.data),S=r();S.nodeSize&&S.nodeSize([1,1]),S.separation&&o!==void 0&&S.separation(o??Jl);for(const T of s)T[Hc]=T[s_]([]);for(const T of b){const $=[],E=M(T.filter(L=>y[L]!=null)).each(A);i!=null&&E.sort(i),S(E);for(const L of E.descendants())if(!(c!=null&&!c(L))){$.push(++w),v[w]=L.data,a.position(L,w,m,_);for(const k of s)k[Hc][w]=k[l_](L)}x.push($)}return{data:v,facets:x}}),...Object.fromEntries(s)}}function r_({path:t=V,delimiter:n,curve:e="bump-x",stroke:r="#555",strokeWidth:i=1.5,strokeOpacity:o=.5,treeLayout:a=vc,treeSort:c,treeSeparation:u,treeAnchor:f,treeFilter:s,...h}={}){f=ed(f),c=i_(c),s!=null&&(s=U1(s)),h={curve:e,stroke:r,strokeWidth:i,strokeOpacity:o,...h};const l=o_(n),d=h_(h,U1),[p,g]=an(),[b,y]=an(),[m,_]=an(),[w,v]=an();return{x1:p,x2:b,y1:m,y2:w,...kn(h,(x,M)=>{const A=l(rt(x,t)),S=g([]),T=y([]),$=_([]),E=v([]);let L=-1;const k=[],C=[],N=Lg().path(z=>A[z]),R=a();R.nodeSize&&R.nodeSize([1,1]),R.separation&&u!==void 0&&R.separation(u??Jl);for(const z of d)z[Hc]=z[s_]([]);for(const z of M){const O=[],I=N(z.filter(D=>A[D]!=null)).each(D=>D.data=x[D.data]);c!=null&&I.sort(c),R(I);for(const{source:D,target:B}of I.links())if(!(s!=null&&!s(B,D))){O.push(++L),k[L]=B.data,f.position(D,L,S,$),f.position(B,L,T,E);for(const U of d)U[Hc][L]=U[l_](B,D)}C.push(O)}return{data:k,facets:C}}),...Object.fromEntries(d)}}function ed(t="left"){switch(`${t}`.trim().toLowerCase()){case"left":return HC;case"right":return GC}throw new Error(`invalid tree anchor: ${t}`)}const HC={frameAnchor:"left",dx:6,position({x:t,y:n},e,r,i){r[e]=n,i[e]=-t}},GC={frameAnchor:"right",dx:-6,position({x:t,y:n},e,r,i){r[e]=-n,i[e]=-t}};function i_(t){return t==null||typeof t=="function"?t:`${t}`.trim().toLowerCase().startsWith("node:")?B1(nl(t)):B1(VC(t))}function B1(t){return(n,e)=>bn(t(n),t(e))}function VC(t){return n=>{var e;return(e=n.data)==null?void 0:e[t]}}function o_(t="/"){if(t=`${t}`,t==="/")return e=>e;if(t.length!==1)throw new Error("delimiter must be exactly one character");const n=t.charCodeAt(0);return e=>e.map(r=>jC(r,n))}const tl=92,a_=47;function jC(t,n){if(n===tl)throw new Error("delimiter cannot be backslash");let e=!1;for(let r=0,i=t.length;r<i;++r){switch(t.charCodeAt(r)){case tl:if(!e){e=!0;continue}break;case n:e?(t=t.slice(0,r-1)+t.slice(r),--r,--i):t=t.slice(0,r)+"/"+t.slice(r+1);break;case a_:e?(t=t.slice(0,r)+"\\\\"+t.slice(r),r+=2,i+=2):(t=t.slice(0,r)+"\\"+t.slice(r),++r,++i);break}e=!1}return t}function ZC(t){let n=!1;for(let e=0,r=t.length;e<r;++e){switch(t.charCodeAt(e)){case tl:if(!n){n=!0;continue}case a_:n&&(t=t.slice(0,e-1)+t.slice(e),--e,--r);break}n=!1}return t}function c_(t){return _n(t)&&typeof t.node=="function"}function KC(t){return _n(t)&&typeof t.link=="function"}function nl(t){if(c_(t))return t.node;if(t=`${t}`.trim().toLowerCase(),!!t.startsWith("node:")){switch(t){case"node:name":return rl;case"node:path":return el;case"node:internal":return u_;case"node:external":return f_;case"node:depth":return il;case"node:height":return ol}throw new Error(`invalid node value: ${t}`)}}function U1(t){if(c_(t))return t.node;if(KC(t))return t.link;if(t=`${t}`.trim().toLowerCase(),!(!t.startsWith("node:")&&!t.startsWith("parent:"))){switch(t){case"parent:name":return Ia(rl);case"parent:path":return Ia(el);case"parent:depth":return Ia(il);case"parent:height":return Ia(ol);case"node:name":return rl;case"node:path":return el;case"node:internal":return u_;case"node:external":return f_;case"node:depth":return il;case"node:height":return ol}throw new Error(`invalid link value: ${t}`)}}function el(t){return t.id}function rl(t){return JC(t.id)}function il(t){return t.depth}function ol(t){return t.height}function u_(t){return!!t.children}function f_(t){return!t.children}function Ia(t){return(n,e)=>e==null?void 0:t(e)}function JC(t){let n=t.length;for(;--n>0&&!QC(t,n););return ZC(t.slice(n+1))}function QC(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}const s_=2,l_=3,Hc=4;function h_(t,n){const e=[];for(const r in t){const i=t[r],o=n(i);o!==void 0&&e.push([r,...an(i),o])}return e}function d_(t,{fill:n,stroke:e,strokeWidth:r,strokeOpacity:i,strokeLinejoin:o,strokeLinecap:a,strokeMiterlimit:c,strokeDasharray:u,strokeDashoffset:f,marker:s,markerStart:h=s,markerEnd:l=s,dot:d=_t(h)&&_t(l),text:p="node:name",textStroke:g="var(--plot-background)",title:b="node:path",dx:y,dy:m,textAnchor:_,treeLayout:w=vc,textLayout:v=w===vc||w===Eg?"mirrored":"normal",tip:x,...M}={}){if(y===void 0&&(y=ed(M.treeAnchor).dx),_!==void 0)throw new Error("textAnchor is not a configurable tree option");v=fn(v,"textLayout",["mirrored","normal"]);function A(S){return Se(t,Qs({treeLayout:w,text:p,fill:n===void 0?"currentColor":n,stroke:g,dx:y,dy:m,title:b,...S,...M}))}return wn($w(t,r_({treeLayout:w,markerStart:h,markerEnd:l,stroke:e!==void 0?e:n===void 0?"node:internal":n,strokeWidth:r,strokeOpacity:i,strokeLinejoin:o,strokeLinecap:a,strokeMiterlimit:c,strokeDasharray:u,strokeDashoffset:f,...M})),d?tr(t,Qs({treeLayout:w,fill:n===void 0?"node:internal":n,title:b,tip:x,...M})):null,p!=null?v==="mirrored"?[A({textAnchor:"start",treeFilter:"node:external"}),A({textAnchor:"end",treeFilter:"node:internal",dx:-y})]:A():null)}function tE(t,n){return d_(t,{...n,treeLayout:Eg})}const p_={ariaLabel:"waffle"};class g_ extends Hh{constructor(n,{unit:e=1,gap:r=1,round:i,render:o,multiple:a,...c}={}){super(n,{...c,render:di(o,y_("x"))},p_),this.unit=Math.max(0,e),this.gap=+r,this.round=b_(i),this.multiple=w_(a)}}class m_ extends Gh{constructor(n,{unit:e=1,gap:r=1,round:i,render:o,multiple:a,...c}={}){super(n,{...c,render:di(o,y_("y"))},p_),this.unit=Math.max(0,e),this.gap=+r,this.round=b_(i),this.multiple=w_(a)}}function y_(t){return function(n,e,r,i,o){const{unit:a,gap:c,rx:u,ry:f,round:s}=this,{document:h}=o,l=r.channels[`${t}1`].value,d=r.channels[`${t}2`].value,p=this[t==="y"?"_width":"_height"](e,r,i),g=this[t==="y"?"_x":"_y"](e,r,i),b=a*nE(e.scales[t]),{multiple:y=Math.max(1,Math.floor(Math.sqrt(p/b)))}=this,m=Math.min(p/y,b*y),_=b*y,w=t==="y"?([$,E])=>[$*m,-E*_]:([$,E])=>[E*_,$*m],v=(p-y*m)/2,x=typeof g=="function"?$=>g($)+v:g+v,M=e[t](0),A=Z$(),S=h.createElementNS(we.svg,"pattern");S.setAttribute("width",t==="y"?m:_),S.setAttribute("height",t==="y"?_:m),S.setAttribute("patternUnits","userSpaceOnUse");const T=S.appendChild(h.createElementNS(we.svg,"rect"));return T.setAttribute("x",c/2),T.setAttribute("y",c/2),T.setAttribute("width",(t==="y"?m:_)-c),T.setAttribute("height",(t==="y"?_:m)-c),u!=null&&T.setAttribute("rx",u),f!=null&&T.setAttribute("ry",f),ct("svg:g",o).call(bt,this,i,o).call(this._transform,this,e).call($=>$.selectAll().data(n).enter().append(()=>S.cloneNode(!0)).attr("id",E=>`${A}-${E}`).select("rect").call(ht,this).call(St,this,r)).call($=>$.selectAll().data(n).enter().append("path").attr("transform",t==="y"?pi`translate(${x},${M})`:pi`translate(${M},${x})`).attr("d",E=>`M${al(s(l[E]/a),s(d[E]/a),y).map(w).join("L")}Z`).attr("fill",E=>`url(#${A}-${E})`).attr("stroke",this.stroke==null?null:E=>`url(#${A}-${E})`)).node()}}function al(t,n,e){if(t<0||n<0){const r=Math.ceil(-Math.min(t,n)/e);return al(t+r*e,n+r*e,e).map(([i,o])=>[i,o-r])}return n<t?al(n,t,e):[[0,Math.ceil(t/e)],[Math.floor(t%e),Math.ceil(t/e)],[Math.floor(t%e),Math.floor(t/e)+t%1],[Math.ceil(t%e),Math.floor(t/e)+t%1],...t%e>e-1?[]:[[Math.ceil(t%e),Math.floor(t/e)],[e,Math.floor(t/e)]],[e,Math.floor(n/e)],[Math.ceil(n%e),Math.floor(n/e)],[Math.ceil(n%e),Math.floor(n/e)+n%1],[Math.floor(n%e),Math.floor(n/e)+n%1],...n%e<1?[]:[[Math.floor(n%e),Math.ceil(n/e)],[0,Math.ceil(n/e)]]]}function b_(t){if(t===void 0||t===!1)return Number;if(t===!0)return Math.round;if(typeof t!="function")throw new Error(`invalid round: ${t}`);return t}function w_(t){return t===void 0?void 0:Math.max(1,Math.floor(t))}function nE({domain:t,range:n}){return Y1(n)/Y1(t)}function Y1(t){const[n,e]=Ct(t);return e-n}function eE(t,n={}){return xi(n)||(n={...n,y:Ft,x2:V}),new g_(t,qu(Th(Uu(n))))}function rE(t,n={}){return xi(n)||(n={...n,x:Ft,y2:V}),new m_(t,Xu(Ch(Yu(n))))}function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oE(t,n,e,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,c=t[a],u=e!==void 0?e(c,n):c-n;u>=0?(o=a,i=a-1):r=a+1}return o}function aE(t,n,e,r,i){for(var o=i+1;r<=i;){var a=r+i>>>1,c=t[a],u=e!==void 0?e(c,n):c-n;u>0?(o=a,i=a-1):r=a+1}return o}function cE(t,n,e,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,c=t[a],u=e!==void 0?e(c,n):c-n;u<0?(o=a,r=a+1):i=a-1}return o}function uE(t,n,e,r,i){for(var o=r-1;r<=i;){var a=r+i>>>1,c=t[a],u=e!==void 0?e(c,n):c-n;u<=0?(o=a,r=a+1):i=a-1}return o}function fE(t,n,e,r,i){for(;r<=i;){var o=r+i>>>1,a=t[o],c=e!==void 0?e(a,n):a-n;if(c===0)return o;c<=0?r=o+1:i=o-1}return-1}function qi(t,n,e,r,i,o){return typeof e=="function"?o(t,n,e,r===void 0?0:r|0,i===void 0?t.length-1:i|0):o(t,n,void 0,e===void 0?0:e|0,r===void 0?t.length-1:r|0)}var sE={ge:function(t,n,e,r,i){return qi(t,n,e,r,i,oE)},gt:function(t,n,e,r,i){return qi(t,n,e,r,i,aE)},lt:function(t,n,e,r,i){return qi(t,n,e,r,i,cE)},le:function(t,n,e,r,i){return qi(t,n,e,r,i,uE)},eq:function(t,n,e,r,i){return qi(t,n,e,r,i,fE)}},Gc=sE,Gr=0,ir=1,qa=2,lE=dE;function rd(t,n,e,r,i){this.mid=t,this.left=n,this.right=e,this.leftPoints=r,this.rightPoints=i,this.count=(n?n.count:0)+(e?e.count:0)+r.length}var ua=rd.prototype;function Hf(t,n){t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function __(t,n){var e=bi(n);t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function q1(t,n){var e=t.intervals([]);e.push(n),__(t,e)}function X1(t,n){var e=t.intervals([]),r=e.indexOf(n);return r<0?Gr:(e.splice(r,1),__(t,e),ir)}ua.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};ua.insert=function(t){var n=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(n+1)?q1(this,t):this.left.insert(t):this.left=bi([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(n+1)?q1(this,t):this.right.insert(t):this.right=bi([t]);else{var e=Gc.ge(this.leftPoints,t,id),r=Gc.ge(this.rightPoints,t,od);this.leftPoints.splice(e,0,t),this.rightPoints.splice(r,0,t)}};ua.remove=function(t){var n=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return Gr;var e=this.right?this.right.count:0;if(4*e>3*(n-1))return X1(this,t);var r=this.left.remove(t);return r===qa?(this.left=null,this.count-=1,ir):(r===ir&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return Gr;var i=this.left?this.left.count:0;if(4*i>3*(n-1))return X1(this,t);var r=this.right.remove(t);return r===qa?(this.right=null,this.count-=1,ir):(r===ir&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?qa:Gr;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var o=this,a=this.left;a.right;)o=a,a=a.right;if(o===this)a.right=this.right;else{var c=this.left,r=this.right;o.count-=a.count,o.right=a.left,a.left=c,a.right=r}Hf(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Hf(this,this.left):Hf(this,this.right);return ir}for(var c=Gc.ge(this.leftPoints,t,id);c<this.leftPoints.length&&this.leftPoints[c][0]===t[0];++c)if(this.leftPoints[c]===t){this.count-=1,this.leftPoints.splice(c,1);for(var r=Gc.ge(this.rightPoints,t,od);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),ir}return Gr}};function x_(t,n,e){for(var r=0;r<t.length&&t[r][0]<=n;++r){var i=e(t[r]);if(i)return i}}function v_(t,n,e){for(var r=t.length-1;r>=0&&t[r][1]>=n;--r){var i=e(t[r]);if(i)return i}}function M_(t,n){for(var e=0;e<t.length;++e){var r=n(t[e]);if(r)return r}}ua.queryPoint=function(t,n){if(t<this.mid){if(this.left){var e=this.left.queryPoint(t,n);if(e)return e}return x_(this.leftPoints,t,n)}else if(t>this.mid){if(this.right){var e=this.right.queryPoint(t,n);if(e)return e}return v_(this.rightPoints,t,n)}else return M_(this.leftPoints,n)};ua.queryInterval=function(t,n,e){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,n,e);if(r)return r}if(n>this.mid&&this.right){var r=this.right.queryInterval(t,n,e);if(r)return r}return n<this.mid?x_(this.leftPoints,n,e):t>this.mid?v_(this.rightPoints,t,e):M_(this.leftPoints,e)};function hE(t,n){return t-n}function id(t,n){var e=t[0]-n[0];return e||t[1]-n[1]}function od(t,n){var e=t[1]-n[1];return e||t[0]-n[0]}function bi(t){if(t.length===0)return null;for(var n=[],e=0;e<t.length;++e)n.push(t[e][0],t[e][1]);n.sort(hE);for(var r=n[n.length>>1],i=[],o=[],a=[],e=0;e<t.length;++e){var c=t[e];c[1]<r?i.push(c):r<c[0]?o.push(c):a.push(c)}var u=a,f=a.slice();return u.sort(id),f.sort(od),new rd(r,bi(i),bi(o),u,f)}function cl(t){this.root=t}var Ni=cl.prototype;Ni.insert=function(t){this.root?this.root.insert(t):this.root=new rd(t[0],null,null,[t],[t])};Ni.remove=function(t){if(this.root){var n=this.root.remove(t);return n===qa&&(this.root=null),n!==Gr}return!1};Ni.queryPoint=function(t,n){if(this.root)return this.root.queryPoint(t,n)};Ni.queryInterval=function(t,n,e){if(t<=n&&this.root)return this.root.queryInterval(t,n,e)};Object.defineProperty(Ni,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Ni,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function dE(t){return!t||t.length===0?new cl(null):new cl(bi(t))}const pE=iE(lE),gE=({marginLeft:t})=>[1,t],mE=({width:t,marginRight:n})=>[-1,t-n],yE=({width:t,marginLeft:n,marginRight:e})=>[0,(n+t-e)/2],bE=({marginTop:t})=>[1,t],wE=({height:t,marginBottom:n})=>[-1,t-n],_E=({height:t,marginTop:n,marginBottom:e})=>[0,(n+t-e)/2];function $_(t){return typeof t=="string"?{anchor:t}:t}function xE(t={},n={}){arguments.length===1&&([t,n]=S_(t));let{anchor:e="left",padding:r=1,r:i=n.r}=$_(t);switch(`${e}`.toLowerCase()){case"left":e=gE;break;case"right":e=mE;break;case"middle":e=yE;break;default:throw new Error(`unknown dodge anchor: ${e}`)}return A_("x","y",e,yt(r),i,n)}function vE(t={},n={}){arguments.length===1&&([t,n]=S_(t));let{anchor:e="bottom",padding:r=1,r:i=n.r}=$_(t);switch(`${e}`.toLowerCase()){case"top":e=bE;break;case"bottom":e=wE;break;case"middle":e=_E;break;default:throw new Error(`unknown dodge anchor: ${e}`)}return A_("y","x",e,yt(r),i,n)}function S_(t){const{anchor:n,padding:e,...r}=t,{r:i}=r;return[{anchor:n,padding:e,r:i},r]}function A_(t,n,e,r,i,o){if(i!=null&&typeof i!="number"){let{channels:a,sort:c,reverse:u}=o;a=eh(a),(a==null?void 0:a.r)===void 0&&(o={...o,channels:{...a,r:{value:i,scale:"r"}}}),c===void 0&&u===void 0&&(o.sort={channel:"-r"})}return Qt(o,function(a,c,u,f,s,h){let{[n]:l,r:d}=u;if(!u[n])throw new Error(`missing channel: ${n}`);({[n]:l}=ra(u,f,h));const p=d?void 0:i!==void 0?yt(i):this.r!==void 0?this.r:3;d&&(d=rt(d.value,f[d.scale]||V,Float64Array));let[g,b]=e(s);const y=g?$E:ME,m=new Float64Array(l.length),_=d?w=>d[w]:()=>p;for(let w of c){const v=pE();w=w.filter(d?M=>Lc(l[M])&&me(d[M]):M=>Lc(l[M]));const x=new Float64Array(2*w.length+2);for(const M of w){const A=_(M),S=g?A+r:0,T=l[M]-A,$=l[M]+A;let E=2;v.queryInterval(T-r,$+r,([,,k])=>{const C=m[k]-S,N=l[M]-l[k],R=r+(d?d[M]+d[k]:2*p),z=Math.sqrt(R*R-N*N);x[E++]=C-z,x[E++]=C+z});let L=x.slice(0,E);g&&(L=L.filter(k=>k>=0));t:for(const k of L.sort(y)){for(let C=0;C<E;C+=2)if(x[C]+1e-6<k&&k<x[C+1]-1e-6)continue t;m[M]=k+S;break}v.insert([T,$,M])}}g||(g=1);for(const w of c)for(const v of w)m[v]=m[v]*g+b;return{data:a,facets:c,channels:{[t]:{value:m,source:null},[n]:{value:l,source:u[n]},...d&&{r:{value:d,source:u.r}}}}})}function ME(t,n){return Math.abs(t)-Math.abs(n)}function $E(t,n){return t-n}function SE(t,n){return arguments.length===1&&({basis:t,...n}=t),jh(ad(t),n)}function AE(t,n){return arguments.length===1&&({basis:t,...n}=t),Zh(ad(t),n)}function ad(t){if(t===void 0)return W1;if(typeof t=="function")return Qu(nh(t));if(/^p\d{2}$/i.test(t))return Li(Ql(t));switch(`${t}`.toLowerCase()){case"deviation":return EE;case"first":return W1;case"last":return CE;case"max":return kE;case"mean":return NE;case"median":return LE;case"min":return RE;case"sum":return PE;case"extent":return TE}throw new Error(`invalid basis: ${t}`)}function Qu(t){return{mapIndex(n,e,r){const i=+t(n,e);for(const o of n)r[o]=e[o]===null?NaN:e[o]/i}}}function Li(t){return Qu((n,e)=>t(n,r=>e[r]))}const TE={mapIndex(t,n,e){const[r,i]=Ct(t,a=>n[a]),o=i-r;for(const a of t)e[a]=n[a]===null?NaN:(n[a]-r)/o}},W1=Qu((t,n)=>{for(let e=0;e<t.length;++e){const r=n[t[e]];if(Bt(r))return r}}),CE=Qu((t,n)=>{for(let e=t.length-1;e>=0;--e){const r=n[t[e]];if(Bt(r))return r}}),EE={mapIndex(t,n,e){const r=Qc(t,o=>n[o]),i=No(t,o=>n[o]);for(const o of t)e[o]=n[o]===null?NaN:i?(n[o]-r)/i:0}},kE=Li(Pt),NE=Li(Qc),LE=Li(so),RE=Li(en),PE=Li(Yn);function FE(t,n){return T_("x",t,n)}function IE(t,n){return T_("y",t,n)}function T_(t,n,e={}){let r,i=1;if(typeof n=="number")i=n,r=(f,s)=>+f+s;else{if(typeof n=="string"){const f=n.startsWith("-")?-1:1;[n,i]=jl(n.replace(/^[+-]/,"")),i*=f}n=Au(n),r=(f,s)=>n.offset(f,s)}const o=`${t}1`,a=`${t}2`,c=Vn({[o]:f=>f.map(s=>r(s,i)),[a]:f=>f},e),u=c[a].transform;return c[a].transform=()=>{const f=u(),[s,h]=Ct(f);return f.domain=i<0?[s,r(h,i)]:[r(s,i),h],f},c}function zE(t,n={}){if(typeof t=="string")switch(t.toLowerCase()){case"first":return C_(n);case"last":return E_(n)}if(typeof t=="function")return He(null,t,n);let e,r;for(e in t){if(r!==void 0)throw new Error("ambiguous selector; multiple inputs");r=DE(t[e])}if(r===void 0)throw new Error(`invalid selector: ${t}`);return He(e,r,n)}function DE(t){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"min":return cd;case"max":return ud}throw new Error(`unknown selector: ${t}`)}function C_(t){return He(null,qE,t)}function E_(t){return He(null,XE,t)}function OE(t){return He("x",cd,t)}function BE(t){return He("y",cd,t)}function UE(t){return He("x",ud,t)}function YE(t){return He("y",ud,t)}function*qE(t){yield t[0]}function*XE(t){yield t[t.length-1]}function*cd(t,n){yield d6(t,e=>n[e])}function*ud(t,n){yield gl(t,e=>n[e])}function He(t,n,e){if(t!=null){if(e[t]==null)throw new Error(`missing channel: ${t}`);t=e[t]}const r=Ke(e);return kn(e,(i,o)=>{const a=rt(i,r),c=rt(i,t),u=[];for(const f of o){const s=[];for(const h of a?Ge(f,l=>a[l]).values():[f])for(const l of n(h,c))s.push(l);u.push(s)}return{data:i,facets:u}})}mt.prototype.plot=function({marks:t=[],...n}={}){return pw({...n,marks:[...t,this]})};const Gf=Object.freeze(Object.defineProperty({__proto__:null,Area:Gu,Arrow:Sw,BarX:Hh,BarY:Gh,Cell:Vu,Contour:Hw,Density:jw,Dot:ju,Frame:lw,Geo:Jw,Hexgrid:Qw,Image:t_,Line:Zu,Link:Mw,Mark:mt,Raster:Ow,Rect:Hu,RuleX:yb,RuleY:bb,Text:zu,TickX:Nw,TickY:Lw,Tip:hw,Vector:Du,WaffleX:g_,WaffleY:m_,area:js,areaX:Co,areaY:yi,arrow:tT,auto:hT,autoSpec:Aw,axisFx:Ub,axisFy:Bb,axisX:Ti,axisY:Ai,barX:pe,barY:Be,bin:or,binX:Fe,binY:Ie,bollinger:pr,bollingerX:NT,bollingerY:LT,boxX:PT,boxY:FT,cell:Hr,cellX:rT,cellY:iT,centroid:Kw,circle:uT,cluster:tE,column:an,contour:jT,crosshair:KT,crosshairX:JT,crosshairY:QT,delaunayLink:hC,delaunayMesh:dC,density:bC,differenceX:xC,differenceY:vC,dodgeX:xE,dodgeY:vE,dot:tr,dotX:aT,dotY:cT,filter:dM,find:CM,formatIsoDate:Jy,formatMonth:W$,formatNumber:Ky,formatWeekday:H$,frame:zh,geo:nd,geoCentroid:MC,graticule:TC,gridFx:Hb,gridFy:Wb,gridX:Bu,gridY:Xb,group:sh,groupX:$o,groupY:So,groupZ:fh,hexagon:fT,hexbin:CC,hexgrid:NC,hull:pC,identity:V,image:IC,indexOf:Ft,initializer:Qt,interpolateNearest:Xw,interpolateNone:Js,interpolatorBarycentric:qw,interpolatorRandomWalk:Ww,legend:XS,line:Ku,lineX:Eo,lineY:ko,linearRegressionX:XC,linearRegressionY:WC,link:$w,map:Vn,mapX:jh,mapY:Zh,marks:wn,normalize:ad,normalizeX:SE,normalizeY:AE,numberInterval:fy,plot:pw,pointer:Sh,pointerX:Ah,pointerY:zc,raster:zT,rect:Ih,rectX:Bc,rectY:Uc,reverse:pM,ruleX:Gn,ruleY:$e,scale:_$,select:zE,selectFirst:C_,selectLast:E_,selectMaxX:UE,selectMaxY:YE,selectMinX:OE,selectMinY:BE,shiftX:FE,shiftY:IE,shuffle:gM,sort:yy,sphere:AC,spike:LS,stackX:ow,stackX1:jS,stackX2:ZS,stackY:aw,stackY1:KS,stackY2:JS,text:Se,textX:vb,textY:Mb,tickX:Rw,tickY:Pw,timeInterval:Zl,tip:dw,transform:kn,tree:d_,treeLink:r_,treeNode:Qs,utcInterval:vu,valueof:rt,vector:Rb,vectorX:Pb,vectorY:Fb,voronoi:gC,voronoiMesh:mC,waffleX:eE,waffleY:rE,window:Ju,windowX:wT,windowY:_T},Symbol.toStringTag,{value:"Module"}));let WE=class{};class HE{constructor(){this.documentElement=new co(this,"html"),this.defaultView={Event:WE}}createElementNS(n,e){return new co(this,e)}createElement(n){return new co(this,n)}createTextNode(n){return new GE(this,n)}querySelector(){return null}querySelectorAll(){return[]}}const Vc=class Vc{setProperty(){}removeProperty(){}};dd(Vc,"empty",new Vc);let ul=Vc;class co{constructor(n,e){this.ownerDocument=n,this.tagName=e,this.attributes={},this.children=[],this.parentNode=null}setAttribute(n,e){this.attributes[n]=String(e)}setAttributeNS(n,e,r){this.setAttribute(e,r)}getAttribute(n){return this.attributes[n]}getAttributeNS(n){return this.getAttribute(n)}hasAttribute(n){return n in this.attributes}hasAttributeNS(n){return this.hasAttribute(n)}removeAttribute(n){delete this.attributes[n]}removeAttributeNS(n,e){this.removeAttribute(e)}addEventListener(){}removeEventListener(){}dispatchEvent(){}append(...n){for(const e of n)this.appendChild(e!=null&&e.ownerDocument?e:this.ownerDocument.createTextNode(e))}appendChild(n){return this.children.push(n),n.parentNode=this,n}insertBefore(n,e){if(e==null)this.children.push(n);else{const r=this.children.indexOf(e);if(r<0)throw new Error("insertBefore reference node not found");this.children.splice(r,0,n)}return n.parentNode=this,n}cloneNode(n){const e=new co(this.ownerDocument,this.tagName);return e.attributes={...this.attributes},n&&(e.children=this.children.map(r=>r.cloneNode(n))),e}querySelector(){return null}querySelectorAll(){return[]}set textContent(n){this.children=[this.ownerDocument.createTextNode(n)]}set style(n){this.attributes.style=n}get style(){return ul.empty}toHyperScript(){return Br(this.tagName,this.attributes,this.children.map(n=>n.toHyperScript()))}}class GE{constructor(n,e){this.ownerDocument=n,this.nodeValue=String(e)}toHyperScript(){return this.nodeValue}}function k_(t){if(t.nodeType===3)return t.nodeValue;const n={};for(const r of t.getAttributeNames())n[r]=t.getAttribute(r);const e=[];for(let r=t.firstChild;r;r=r.nextSibling)e.push(k_(r));return Br(t.tagName,n,e)}const fd={props:{options:Object,mark:Object,defer:Boolean,method:{type:String,default:"plot"}},render(){const{method:t}=this,n={...t==="plot"&&{marks:this.mark==null?[]:[this.mark],width:688},...this.options,className:"plot"};if(this.defer){const e=a=>{i();function c(){r(a),a.append(Gf[t](n))}const u=a.getBoundingClientRect();u.bottom>0&&u.top<window.innerHeight?c():(this._observer=new IntersectionObserver(([f])=>{f.isIntersecting&&c()},{rootMargin:"100px"}),this._observer.observe(a),typeof requestIdleCallback=="function"&&(this._idling=requestIdleCallback(c)))},r=a=>{for(;a.lastChild;)a.lastChild.remove();i()},i=()=>{this._observer!==void 0&&(this._observer.disconnect(),this._observer=void 0),this._idling!==void 0&&(cancelIdleCallback(this._idling),this._idling=void 0)},{height:o=400}=this.options;return pd(Br("span",t==="plot"?[Br("div",{style:{maxWidth:"100%",width:"688px",aspectRatio:`688 / ${o}`}})]:[]),[[{mounted:e,updated:e,unmounted:r}]])}if(typeof document<"u"){const e=Gf[t](n),r=i=>{for(;i.lastChild;)i.lastChild.remove();i.append(e)};return pd(Br("span",[k_(e)]),[[{mounted:r,updated:r}]])}return Br("span",[Gf[t]({...n,document:new HE}).toHyperScript()])}},VE=JSON.parse('[{"aaaa":"2001-01-01","populacao":"172385826"},{"aaaa":"2002-01-01","populacao":"174632960"},{"aaaa":"2003-01-01","populacao":"176871437"},{"aaaa":"2004-01-01","populacao":"181581024"},{"aaaa":"2005-01-01","populacao":"184184264"},{"aaaa":"2006-01-01","populacao":"186770562"},{"aaaa":"2007-01-01","populacao":"188186398"},{"aaaa":"2008-01-01","populacao":"189612823"},{"aaaa":"2009-01-01","populacao":"191480630"},{"aaaa":"2010-01-01","populacao":"191928547"},{"aaaa":"2011-01-01","populacao":"192379287"},{"aaaa":"2012-01-01","populacao":"193946886"},{"aaaa":"2013-01-01","populacao":"201032714"},{"aaaa":"2014-01-01","populacao":"202768562"},{"aaaa":"2015-01-01","populacao":"204450049"},{"aaaa":"2016-01-01","populacao":"206081432"},{"aaaa":"2017-01-01","populacao":"207660929"},{"aaaa":"2018-01-01","populacao":"208494900"},{"aaaa":"2019-01-01","populacao":"210147125"},{"aaaa":"2020-01-01","populacao":"211755692"},{"aaaa":"2021-01-01","populacao":"213317639"},{"aaaa":"2022-01-01","populacao":"213071179"},{"aaaa":"2023-01-01","populacao":"212826572"},{"aaaa":"2024-01-01","populacao":"212583750"}]'),H1=VE.map(({...t})=>Tl(t)),jE={__name:"PopulacaoBrasil",setup(t){return(n,e)=>(jc(),fl(zn(fd),{options:{height:300,marginLeft:50,marginRight:0,marginBottom:40,marginTop:20,x:{label:null,interval:yn,nice:!0},y:{label:"População brasileira",tickFormat:xe(".2s"),type:"linear",grid:!0,labelOffset:40,nice:!0},marks:[Be(zn(H1),{x:"aaaa",y1:160*1e6,y2:"populacao",opacity:.5}),Ti({fontSize:14,ticks:10}),Ai({fontSize:14,tickFormat:xe(".2s")}),Se(zn(H1),{text:r=>`${Math.round(r.populacao/1e6)}`,rotate:-90,y:"populacao",x:"aaaa",textAnchor:"start",dx:0,dy:-4,fontSize:12}),$e([160*1e6])]}},null,8,["options"]))}},ZE=JSON.parse('[{"Regiao":"Sudeste","UF":"MG","Estado":"Minas Gerais","Municipios":"853","Capital":"Belo Horizonte"},{"Regiao":"Sudeste","UF":"SP","Estado":"São Paulo","Municipios":"645","Capital":"São Paulo"},{"Regiao":"Sul","UF":"RS","Estado":"Rio Grande do Sul","Municipios":"497","Capital":"Porto Alegre"},{"Regiao":"Nordeste","UF":"BA","Estado":"Bahia","Municipios":"417","Capital":"Salvador"},{"Regiao":"Sul","UF":"PR","Estado":"Paraná","Municipios":"399","Capital":"Curitiba"},{"Regiao":"Sul","UF":"SC","Estado":"Santa Catarina","Municipios":"295","Capital":"Florianópolis"},{"Regiao":"Centro-Oeste","UF":"GO","Estado":"Goiás","Municipios":"246","Capital":"Goiânia"},{"Regiao":"Nordeste","UF":"PI","Estado":"Piauí","Municipios":"224","Capital":"Teresina"},{"Regiao":"Nordeste","UF":"PB","Estado":"Paraíba","Municipios":"223","Capital":"João Pessoa"},{"Regiao":"Nordeste","UF":"MA","Estado":"Maranhão","Municipios":"217","Capital":"São Luís"},{"Regiao":"Nordeste","UF":"PE","Estado":"Pernambuco","Municipios":"185","Capital":"Recife"},{"Regiao":"Nordeste","UF":"CE","Estado":"Ceará","Municipios":"184","Capital":"Fortaleza"},{"Regiao":"Nordeste","UF":"RN","Estado":"Rio Grande do Norte","Municipios":"167","Capital":"Natal"},{"Regiao":"Norte","UF":"PA","Estado":"Pará","Municipios":"144","Capital":"Belém"},{"Regiao":"Centro-Oeste","UF":"MT","Estado":"Mato Grosso","Municipios":"141","Capital":"Cuiabá"},{"Regiao":"Norte","UF":"TO","Estado":"Tocantins","Municipios":"139","Capital":"Palmas"},{"Regiao":"Nordeste","UF":"AL","Estado":"Alagoas","Municipios":"102","Capital":"Maceió"},{"Regiao":"Sudeste","UF":"RJ","Estado":"Rio de Janeiro","Municipios":"92","Capital":"Rio de Janeiro"},{"Regiao":"Centro-Oeste","UF":"MS","Estado":"Mato Grosso do Sul","Municipios":"79","Capital":"Campo Grande"},{"Regiao":"Sudeste","UF":"ES","Estado":"Espírito Santo","Municipios":"78","Capital":"Vitória"},{"Regiao":"Nordeste","UF":"SE","Estado":"Sergipe","Municipios":"75","Capital":"Aracaju"},{"Regiao":"Norte","UF":"AM","Estado":"Amazonas","Municipios":"62","Capital":"Manaus"},{"Regiao":"Norte","UF":"RO","Estado":"Rondônia","Municipios":"52","Capital":"Porto Velho"},{"Regiao":"Norte","UF":"AC","Estado":"Acre","Municipios":"22","Capital":"Rio Branco"},{"Regiao":"Norte","UF":"AP","Estado":"Amapá","Municipios":"16","Capital":"Macapá"},{"Regiao":"Norte","UF":"RR","Estado":"Roraima","Municipios":"15","Capital":"Boa Vista"}]'),G1=ZE.map(({...t})=>Tl(t)),KE={__name:"MunicipiosPorEstado",setup(t){return(n,e)=>(jc(),fl(zn(fd),{options:{marginLeft:30,marginRight:30,marginTop:40,color:{legend:!0,range:["#3ca951","#ff725C","#4269D0","#6cc5b0","#efb118"],domain:["Norte","Nordeste","Sudeste","Sul","Centro-Oeste"]},marks:[pe(zn(G1),{x:"Municipios",y:"UF",fill:"Regiao",opacity:.7,sort:{y:"x",reverse:!0,limit:27}}),Gn([0]),Bu(),Ti({anchor:"top",labelAnchor:"left",label:"Número de municípios por estado",labelOffset:40,fontSize:14}),Ai({fontSize:14,label:null}),Se(zn(G1),{text:r=>`${r.Municipios}`,rotate:0,y:"UF",x:"Municipios",textAnchor:"start",dx:3,dy:0,fontSize:12})]}},null,8,["options"]))}},JE=JSON.parse('[{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"16","populacao":"802837","uf_nome":"Amapá","uf":"AP"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"23","populacao":"9233656","uf_nome":"Ceará","uf":"CE"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"15","populacao":"8664306","uf_nome":"Pará","uf":"PA"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"11","populacao":"1746227","uf_nome":"Rondônia","uf":"RO"},{"aaaa":"2024-01-01","regiao":"Sudeste","uf_codigo":"35","populacao":"45973194","uf_nome":"São Paulo","uf":"SP"},{"aaaa":"2024-01-01","regiao":"Sudeste","uf_codigo":"33","populacao":"17219679","uf_nome":"Rio de Janeiro","uf":"RJ"},{"aaaa":"2024-01-01","regiao":"Centro-Oeste","uf_codigo":"51","populacao":"3836399","uf_nome":"Mato Grosso","uf":"MT"},{"aaaa":"2024-01-01","regiao":"Centro-Oeste","uf_codigo":"50","populacao":"2901895","uf_nome":"Mato Grosso do Sul","uf":"MS"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"27","populacao":"3220104","uf_nome":"Alagoas","uf":"AL"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"24","populacao":"3446071","uf_nome":"Rio Grande do Norte","uf":"RN"},{"aaaa":"2024-01-01","regiao":"Sul","uf_codigo":"41","populacao":"11824665","uf_nome":"Paraná","uf":"PR"},{"aaaa":"2024-01-01","regiao":"Centro-Oeste","uf_codigo":"53","populacao":"2982818","uf_nome":"Distrito Federal","uf":"DF"},{"aaaa":"2024-01-01","regiao":"Sudeste","uf_codigo":"32","populacao":"4102129","uf_nome":"Espírito Santo","uf":"ES"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"21","populacao":"7010960","uf_nome":"Maranhão","uf":"MA"},{"aaaa":"2024-01-01","regiao":"Sudeste","uf_codigo":"31","populacao":"21322691","uf_nome":"Minas Gerais","uf":"MG"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"25","populacao":"4145040","uf_nome":"Paraíba","uf":"PB"},{"aaaa":"2024-01-01","regiao":"Centro-Oeste","uf_codigo":"52","populacao":"7350483","uf_nome":"Goiás","uf":"GO"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"13","populacao":"4281209","uf_nome":"Amazonas","uf":"AM"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"17","populacao":"1577342","uf_nome":"Tocantins","uf":"TO"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"12","populacao":"880631","uf_nome":"Acre","uf":"AC"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"28","populacao":"2291077","uf_nome":"Sergipe","uf":"SE"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"22","populacao":"3375646","uf_nome":"Piauí","uf":"PI"},{"aaaa":"2024-01-01","regiao":"Norte","uf_codigo":"14","populacao":"716793","uf_nome":"Roraima","uf":"RR"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"26","populacao":"9539029","uf_nome":"Pernambuco","uf":"PE"},{"aaaa":"2024-01-01","regiao":"Sul","uf_codigo":"42","populacao":"8058441","uf_nome":"Santa Catarina","uf":"SC"},{"aaaa":"2024-01-01","regiao":"Nordeste","uf_codigo":"29","populacao":"14850513","uf_nome":"Bahia","uf":"BA"},{"aaaa":"2024-01-01","regiao":"Sul","uf_codigo":"43","populacao":"11229915","uf_nome":"Rio Grande do Sul","uf":"RS"}]'),V1=JE.map(({...t})=>Tl(t)),QE={__name:"PopulacaoPorEstado",setup(t){return(n,e)=>(jc(),fl(zn(fd),{options:{marginLeft:30,marginRight:33,marginTop:40,color:{legend:!0,range:["#3ca951","#ff725C","#4269D0","#6cc5b0","#efb118"],domain:["Norte","Nordeste","Sudeste","Sul","Centro-Oeste"]},marks:[pe(zn(V1),{x:"populacao",y:"uf",fill:"regiao",opacity:.7,sort:{y:"x",reverse:!0,limit:27}}),Gn([0]),Bu(),Ti({anchor:"top",labelAnchor:"left",label:"População por unidade federativa em 2024",labelOffset:40,fontSize:14,tickFormat:zn(xe)(",.2s")}),Ai({fontSize:14,label:null}),Se(zn(V1),{text:r=>`${Math.round(r.populacao/1e6)}`,rotate:0,y:"uf",x:"populacao",textAnchor:"start",dx:3,dy:0,fontSize:12})]}},null,8,["options"]))}},tk={class:"info custom-block"},nk={class:"info custom-block"},ek={class:"info custom-block"},fk=JSON.parse('{"title":"Brasil","description":"","frontmatter":{},"headers":[],"relativePath":"atlas/index.md","filePath":"atlas/index.md","lastUpdated":1738713585000}'),rk={name:"atlas/index.md"},sk=Object.assign(rk,{setup(t){return(n,e)=>(jc(),Y_("div",null,[e[6]||(e[6]=Wt("h1",{id:"brasil",tabindex:"-1"},[tf("Brasil "),Wt("a",{class:"header-anchor",href:"#brasil","aria-label":'Permalink to "Brasil"'},"​")],-1)),e[7]||(e[7]=Wt("h2",{id:"municipios",tabindex:"-1"},[tf("Municípios "),Wt("a",{class:"header-anchor",href:"#municipios","aria-label":'Permalink to "Municípios"'},"​")],-1)),Wt("div",tk,[e[0]||(e[0]=Wt("p",{class:"custom-block-title"},"MG e SP têm 27% dos 5570 municípios brasileiros",-1)),e[1]||(e[1]=Wt("br",null,null,-1)),nf(KE)]),e[8]||(e[8]=Wt("h2",{id:"populacao",tabindex:"-1"},[tf("População "),Wt("a",{class:"header-anchor",href:"#populacao","aria-label":'Permalink to "População"'},"​")],-1)),Wt("div",nk,[e[2]||(e[2]=Wt("p",{class:"custom-block-title"},"212.6 milhões foi a população brasileira estimada em 2024",-1)),e[3]||(e[3]=Wt("br",null,null,-1)),nf(jE)]),Wt("div",ek,[e[4]||(e[4]=Wt("p",{class:"custom-block-title"},"SP, MG e RJ formaram 40% da população brasileira em 2024",-1)),e[5]||(e[5]=Wt("br",null,null,-1)),nf(QE)])]))}});export{fk as __pageData,sk as default};
